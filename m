Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id AE2027AEA28
	for <lists+qemu-devel@lfdr.de>; Tue, 26 Sep 2023 12:16:47 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1ql57C-00041b-WA; Tue, 26 Sep 2023 06:16:29 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <lizhijian@fujitsu.com>)
 id 1ql56x-00041C-9i
 for qemu-devel@nongnu.org; Tue, 26 Sep 2023 06:16:11 -0400
Received: from esa11.fujitsucc.c3s2.iphmx.com ([216.71.156.121])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <lizhijian@fujitsu.com>)
 id 1ql56s-0006JJ-Fe
 for qemu-devel@nongnu.org; Tue, 26 Sep 2023 06:16:08 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=fujitsu.com; i=@fujitsu.com; q=dns/txt; s=fj1;
 t=1695723366; x=1727259366;
 h=from:to:cc:subject:date:message-id:references:
 in-reply-to:content-id:content-transfer-encoding: mime-version;
 bh=sA2p5mdndMDjmoeKjv4Zh6hcvyQ+tB3NF4+2XFvWzcI=;
 b=WTmSXH48tzYnbAcAC43mToyFENnz8giKtJh5n1KTkw6SqPwEnuIDnD1H
 mu9b0aAVJiL3dZ7f4JRqm0m4ub5YZtvpjxaiVm1/LA+J4a/kNSDJ+N3gi
 g62Ez113aFILqmxkWGi7NuctISZTKCuji38dHsaJyoAHICmYb8qN5rYF2
 tXIK0tzxh+5kyURGS4hs33t5UWOOklEDLbahnWDRgD4ZBjqkxhf172Zbf
 Lzx3MRh1sMqeL55aFwft+1qzYBs/YiTHmpgV8z3nLOixSZkTLm27qJ+PE
 Pg/gTl3sqEosqoobjXDoHwyznXGwIwl1i9gdRLDfmClP0+IdrdPR45n6i A==;
X-IronPort-AV: E=McAfee;i="6600,9927,10843"; a="97309461"
X-IronPort-AV: E=Sophos;i="6.03,177,1694703600"; d="scan'208";a="97309461"
Received: from mail-tycjpn01lp2169.outbound.protection.outlook.com (HELO
 JPN01-TYC-obe.outbound.protection.outlook.com) ([104.47.23.169])
 by ob1.fujitsucc.c3s2.iphmx.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 26 Sep 2023 19:16:01 +0900
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=e4EwpyMAbMppzijlYxB1LHqoEi4//6YHffuO+XkV+I3nVak4KSFyCSg5FQw0qI6ciO2wf+F1T/IH4CZwsdlOlIMDjOv6CiIbnnU87lrpWrGbguppolvs4odm3dmRm4qxKAuAUQnbRZ3IWbU4+Lma2jm5ZaKJvn0DJB9mkfol6vAnDI1Psc6yZ6RTICXLvz5OxwCz5DLV+YSUiajnF/pgvTSqgHjqXavjdluAj15AVQQyZfYXu7f6dSDJ3/eXH8+SipyfflHy+3/wuGng1vW7RfowGNq4Rf668mn01u2xJu7REqCEX/S4645GAsF/EoqBe9lf30zx5lb5Yc/npTn1mw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=sA2p5mdndMDjmoeKjv4Zh6hcvyQ+tB3NF4+2XFvWzcI=;
 b=IwgrXe2LGKcZIBJ9DxUhsubHGSj91BD/NOG3tYKLUBCl3izIpBNZqKeSPwBe63IFvEysD0C7fEPHZ982QV63zpmhPlrT7ColbT5HRDnJ1z7YKopKnJZh7uv1K3L/pi7rGdx3SPHM4a8lPKo28gvYUQPVw//YSbJctE/kI2vxwvKJ9HhcPBZfVUp/1iwGL5s03B80ni0pco3oaZlruFWmtmDBNhE8rw7KQ/EJx3SxGcfCcMuH+uRLkcTP2gkrLFVyREfApzJDT8g+4Q2AnYX9TQbjTdr1bLU+GeAHpIXONhar9j5OVBQWAcI0/aXNwy+gD0D+oWRhNrgnVY85y6A0og==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=fujitsu.com; dmarc=pass action=none header.from=fujitsu.com;
 dkim=pass header.d=fujitsu.com; arc=none
Received: from OS7PR01MB11664.jpnprd01.prod.outlook.com (2603:1096:604:247::6)
 by TYCPR01MB11372.jpnprd01.prod.outlook.com (2603:1096:400:3c0::13)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6813.28; Tue, 26 Sep
 2023 10:15:58 +0000
Received: from OS7PR01MB11664.jpnprd01.prod.outlook.com
 ([fe80::87a4:7103:63be:64fe]) by OS7PR01MB11664.jpnprd01.prod.outlook.com
 ([fe80::87a4:7103:63be:64fe%4]) with mapi id 15.20.6813.027; Tue, 26 Sep 2023
 10:15:58 +0000
From: "Zhijian Li (Fujitsu)" <lizhijian@fujitsu.com>
To: Markus Armbruster <armbru@redhat.com>, "qemu-devel@nongnu.org"
 <qemu-devel@nongnu.org>
CC: "quintela@redhat.com" <quintela@redhat.com>, "peterx@redhat.com"
 <peterx@redhat.com>, "leobras@redhat.com" <leobras@redhat.com>
Subject: Re: [PATCH 24/52] migration/rdma: Return -1 instead of negative errno
 code
Thread-Topic: [PATCH 24/52] migration/rdma: Return -1 instead of negative
 errno code
Thread-Index: AQHZ6j8OdBctlFV2akayLoa7GP+R8bAs8GEA
Date: Tue, 26 Sep 2023 10:15:58 +0000
Message-ID: <eccdf7f0-c06e-af8f-7ff3-d6c88d1d1347@fujitsu.com>
References: <20230918144206.560120-1-armbru@redhat.com>
 <20230918144206.560120-25-armbru@redhat.com>
In-Reply-To: <20230918144206.560120-25-armbru@redhat.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101
 Thunderbird/102.11.0
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=fujitsu.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: OS7PR01MB11664:EE_|TYCPR01MB11372:EE_
x-ms-office365-filtering-correlation-id: 2fd656ad-b7b8-4de0-6990-08dbbe7993c1
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: rK8RggpxqHQAwg+NmDTSJuN2pLEUoh/36Qi8rbCbQA2gS0YHzciRhyu2ulZgW3Hqan4I5P28grDmWJ+HTp50Tx2dgS6y8+vVdZ3bGK66jn98VrQv8H7CtYhn7cA8CTgr4FP043kKjL7fiNRiSaiOZm71h/ffftl+wRPtD6Qf/xDpJnnWRxJntxARWaJhgyVHmqRnsaqnTJKwnkUusVlwvRaeH55gKRDFAXwzpgtVJ+qEcpdDA3OctvGv1L6dNQqdWXGfPm0NnnjcaEjNR+vNAwj+pdsMnNGwBQApiEnJLXfcmYT4ZFxzPt9Dc1j4YRHuZNw+Z4FIX9JFV/jwi4CyevL4r18hBPHVHFc2oKWSe/ZnXU6bIVebYkvbmWkVWarSLrbjpabHNzJT/FmZTRm95G/EC0zQqFsFPQYOTgN1ImmfYFT33ytgF5FB6luCyrAVfgGhGL8+imcUmbWJGSUlvECnwn+iheq807qcB2x3QZC4zWd4h0ocCRx5ryYUwq9G7HcCL1Ag3QWwXri2uTtoo+BuFq9nL3Yf2j9YRS5CRNJIIVCs93yv8SA5fMnulngkGhoS2xeycUjb/wZaU1gxuIRPgpSrlbQCD8+ufR/XhXdwoPIGudWT0+fM9+Kfv2EU2dSa919Z32ocwReN49N37xYDAG8F1/H1XsuLmEpX7tAWHOL2fb41ed8iHkq7EGyZXqrusa3XnI4YRGIaeCx4zw==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:OS7PR01MB11664.jpnprd01.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230031)(376002)(396003)(346002)(39860400002)(136003)(366004)(230922051799003)(186009)(1590799021)(451199024)(1800799009)(4326008)(1580799018)(5660300002)(66476007)(26005)(83380400001)(8936002)(66556008)(316002)(54906003)(41300700001)(66946007)(110136005)(91956017)(66446008)(64756008)(76116006)(8676002)(478600001)(2616005)(2906002)(53546011)(71200400001)(122000001)(6512007)(6506007)(6486002)(85182001)(36756003)(38070700005)(38100700002)(82960400001)(31696002)(86362001)(31686004)(45980500001)(43740500002);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?eTNhWWtyS2ErNVphY0NUK1VkeEM0UlZadXpIbFhvb0pkVjdCeTBWY0I3TVNq?=
 =?utf-8?B?RnJKdDcxcTFCcDlTYnBvMXZ2YTZDL3pQYmRGWEZRMmZKK2VqZEE3ekVEVkU2?=
 =?utf-8?B?L3k0WjNTcDV6OXpzQUZCai9WeVU4NlJ4ZkpBQkNqK3o5Q0gvaERsVWhkbEwr?=
 =?utf-8?B?NndseGRhZnVpMTRzTHE0eGpCSWdZSXJjaFZtbUhqL1FKRU1LVEFRSnRxN0Iv?=
 =?utf-8?B?VzIvRFQwSldVaE96M3lTb3lSemQxSjJqVkFHLzVzOGExK2twRE52akNaNUVa?=
 =?utf-8?B?WnhaWVY1bmN2Sk9QVEtRT2s4OVdPaG40STVtQXNrZHVzZkFPRU14TEdCd1FD?=
 =?utf-8?B?blRMTUF2NUtERXNNR05ncEMwRVhwdUlGS0tkZTQxVTVhbUljdUF5ZTU4SGZ2?=
 =?utf-8?B?NkFwVll4UTJTaklTWmxWMnBxUDRscGNSbUNhbFViQ3VjSGEranB3eUtLZjg2?=
 =?utf-8?B?RFFMcHZxL0o4cTUxeUJmWjBXL0pCRGZSTkJsTDFYMS90eXh2QjZTRVRQYjZq?=
 =?utf-8?B?bUtVZkgzMFZMeW0wTU5mY3NmTjZ2UnVsRXg3cFprVG81L2Y0TU1TVG1yVHg1?=
 =?utf-8?B?d0lZdDJjNVcvdXNpeWJ1ckx0dFQvVUs2ZzBaNFJtV3A4c3pyRnBNNEI3YnN2?=
 =?utf-8?B?dVlYM01rNmpzNDh4Q2F1eHpDcE4vTStLd1c0STNRSFRia1czSmQyVjkxKzBr?=
 =?utf-8?B?ZDJ4NnhmUlp3WmxSc2I2RWtPS3YvdGJOWlArRnY1RjBxWTNEVlI1MG1MK2Y1?=
 =?utf-8?B?UGI4VEdFQ0gyajdRam5ibXE0YkJ2aWkzK2tyU0FaVE9jdi9vdU5iVElNclV4?=
 =?utf-8?B?ZXZpSmt3aUlQcjJZd0lJYm1oN0FTT1g5dDE1TGtOSVFEUy8zRWdPc3BsWWth?=
 =?utf-8?B?NjkvVGY5aVBhVWJ3NWxvRTVnRGFUNE9pMnc5a0NIT3g2RFczbkZ5Z05jSmUr?=
 =?utf-8?B?Wm52enRra3h4MTdZcXRoSGwrOURIQ2J1Zm01OW85R1h4YVJDNlNzTDdmb3g4?=
 =?utf-8?B?dUlQeTV3L2dQY0JFRkd4VENnTFV1STE0b0tyNDg1N3J4aTlUcEpka1FFYXhz?=
 =?utf-8?B?ZFVncFp4b09PRDlwVWxQeWZXTlNaSWRkQ0EzY0cxZEc4UVQ5NUJNR2FDM3Jx?=
 =?utf-8?B?RTNlY3ptZTZrZVJlWm1pNkNuWFVoZXM2KytuSWo4eVBtcWlGTjVIWVJNK080?=
 =?utf-8?B?UVBBNk1HcVhtWHdjSDZVYXR3RGVkVk1sVzdaU1RvTGx2M0JpVTZHdTZRdC9M?=
 =?utf-8?B?amZUUnErZWt1ZDhLdzdVQXNZQTlYalVhOFdDbXl3TzJuMlVtWjEvMmxEREND?=
 =?utf-8?B?d3hQT0tNdXZsaFZCa0FOYkFsaHJRR0NPYWw2Q01rNFY4V3M4dG1IeGYzMzls?=
 =?utf-8?B?NHQ0MGxHSGRES01mcGZRazJzRktqTVZGcUtZOEtZVk9aaHYzTllSc3hZVklF?=
 =?utf-8?B?ZnpSZFhZWFY5Lyt0RnA4OUZGRkp3UVpwQzBKZHVlRWIra29QWjdBMlY4WklN?=
 =?utf-8?B?UjZTWVR4WS9SamVka2YwZ3BkbTBib1NuenNOTmZLbDVsb1ZkYVN2Rkt1OGdP?=
 =?utf-8?B?V21rdW42a0FzendqNHZmS1RsZDJWZmd0OG9SVDA4ZXlJZFJpNXMvS25ZVm5T?=
 =?utf-8?B?MUpMbXpHUWFjYUZnejV3RnZlT2xJdWthbEtEZElnbDZlODFnenk5V1FSK3p3?=
 =?utf-8?B?eUxwdzk5WEtlSGNiWnlDZkZ0NmlZVHdNTEpnOHM2cXg5MEFiNDh1dkx4YkMx?=
 =?utf-8?B?d1d1c2FRSmhQcVR3akc5UGRFWEZIdGxvUGJiWDVmSVNBNDI3UXNhdXZDZkp5?=
 =?utf-8?B?TVBDZllqNjR1THNBL0wwd0RuRVZROE9NUWxPSkRYcnpNalBESnNPSzBLN2sv?=
 =?utf-8?B?QnhjTnk0aHZxTzdyWWhqUmdhMWNqM1VqSlMybGRaa1pnSDhPa0RTMGdHV0tP?=
 =?utf-8?B?bGVxVnRKcnJnOWdFTUpqWW9IL3BaSjI5M0V3QUNmSlRNc1hmNStxWTZ0aXJ4?=
 =?utf-8?B?d1JoWlZxNGdvaHhtTUo3RDA1ZC9keWFQb2hNVGtVeldsVE11aThGMDVTVWtT?=
 =?utf-8?B?RmZpL1JJS2JXSFFUZHNLUHIxZnpDN1RGYzcrWkkvNDJUN00yU1A2SEU2MHFW?=
 =?utf-8?B?cURDODg0MVNoL2o3MC9iZk5SQU4rd09sbWxvZmM0UHRnT3lnM1R3RDE4RHFE?=
 =?utf-8?B?OUE9PQ==?=
Content-Type: text/plain; charset="utf-8"
Content-ID: <D4B1753D6E7F26468340C238E1CEDA4B@jpnprd01.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-MS-Exchange-AntiSpam-ExternalHop-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-ExternalHop-MessageData-0: 4VG2Bldwr7Mz3lQYFbUXwmTki0ML3ihpKIfe3pRLeUa+cmkghjMQ/aPMKKQyVAIRgXf/brye/vn9vJPe1CCzedTZ2vyaEUKP4G4OSE2xv1YPlNCCj5cutwlUaIB6ph6x4Rx70rPnYOoQHPeZXKdNkxc/HxKEJ58MrUrS7z4BOZfnN3mqoty7chH3zwQuDrUXfTxy+iGu8yT0cIbJcHLgJbuuECKN3Lf7DGBmuOJlGXUavi/oK+TUgGvd0LrcNhSX1oPA+FjJDwmLBBM+iz/xDJ1Kx10IksYT/HBUp29juRnwS97miRtjlVragmpQRUMi81VsW7kVcFzWdBRk43QKPEY4Hnx46BRhYjhRxl9hnPO680i648RmH3ySKrcCthkfdcs+u6I8sgYGsVWDIAxaG4rPqMPx6ZFymDXdnK/CkXc6G68fg/0fDnD9Lgzviiom3rPklnKI09AXgQ+lmmjJMA5OZ/65wFP8KnSy9nwzqn2BpMS7Z/igNr7j/Q4qr45G9d4fNswH+i9RwPwd2ZTHHwEdb5RrDU3lMZUIlRd3oJEAEWwcPt499X74TaswR/w/XKJl4gh/1dz/IaTSACops05LRSTrLsuNct/8piVKmiZN5rtUexrYKu5iQNzVz+69kW3cTtVINPduvOHiwcclfkDosRgaW/SgDSClcLobxDHBLIKkIzIaavuR+EocwkQ2W3nU9rbro1xv0pa6KzQswIK+wVoMFSn5re8Q6iDHxuC8D4m0bNSMLN4IcFYxe4bi/khJJ8Z2D96swV9wVi6NaVoUdLb8lrPPqYMRCZfeE8A=
X-OriginatorOrg: fujitsu.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: OS7PR01MB11664.jpnprd01.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 2fd656ad-b7b8-4de0-6990-08dbbe7993c1
X-MS-Exchange-CrossTenant-originalarrivaltime: 26 Sep 2023 10:15:58.1712 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a19f121d-81e1-4858-a9d8-736e267fd4c7
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: MOReCw+pVNbO2HoloBrVVkALuAwRPxBfZ9ny2Bgurw44Tavvmd/5TwEunzoJxY9zHVsKm0BGPw1+5wXTIndRfA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: TYCPR01MB11372
Received-SPF: pass client-ip=216.71.156.121;
 envelope-from=lizhijian@fujitsu.com; helo=esa11.fujitsucc.c3s2.iphmx.com
X-Spam_score_int: -58
X-Spam_score: -5.9
X-Spam_bar: -----
X-Spam_report: (-5.9 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, NICE_REPLY_A=-1.473,
 RCVD_IN_DNSWL_MED=-2.3, RCVD_IN_MSPIKE_H5=0.001, RCVD_IN_MSPIKE_WL=0.001,
 SPF_HELO_PASS=-0.001, SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

DQoNCk9uIDE4LzA5LzIwMjMgMjI6NDEsIE1hcmt1cyBBcm1icnVzdGVyIHdyb3RlOg0KPiBTZXZl
cmFsIGZ1bmN0aW9ucyByZXR1cm4gbmVnYXRpdmUgZXJybm8gY29kZXMgb24gZmFpbHVyZS4gIENh
bGxlcnMNCj4gY2hlY2sgZm9yIHNwZWNpZmljIGNvZGVzIGV4YWN0bHkgbmV2ZXIuICBGb3Igc29t
ZSBvZiB0aGUgZnVuY3Rpb25zLA0KPiBjYWxsZXJzIGNvdWxkbid0IGNoZWNrIGV2ZW4gaWYgdGhl
eSB3YW50ZWQgdG8sIGJlY2F1c2UgdGhlIGZ1bmN0aW9ucw0KPiBhbHNvIHJldHVybiBuZWdhdGl2
ZSB2YWx1ZXMgdGhhdCBhcmVuJ3QgZXJybm8gY29kZXMsIGxlYXZpbmcgcmVhZGVycw0KPiBjb25m
dXNlZCBvbiB3aGF0IHRoZSBmdW5jdGlvbiBhY3R1YWxseSByZXR1cm5zLg0KPiANCj4gQ2xlYW4g
dXAgYW5kIHNpbXBsaWZ5OiByZXR1cm4gLTEgaW5zdGVhZCBvZiBuZWdhdGl2ZSBlcnJubyBjb2Rl
Lg0KPiANCj4gU2lnbmVkLW9mZi1ieTogTWFya3VzIEFybWJydXN0ZXIgPGFybWJydUByZWRoYXQu
Y29tPg0KDQoNClJldmlld2VkLWJ5OiBMaSBaaGlqaWFuIDxsaXpoaWppYW5AZnVqaXRzdS5jb20+
DQoNCg0KPiAtLS0NCj4gICBtaWdyYXRpb24vcmRtYS5jIHwgNDQgKysrKysrKysrKysrKysrKysr
KysrKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gICAxIGZpbGUgY2hhbmdlZCwgMjIgaW5zZXJ0
aW9ucygrKSwgMjIgZGVsZXRpb25zKC0pDQo+IA0KPiBkaWZmIC0tZ2l0IGEvbWlncmF0aW9uL3Jk
bWEuYyBiL21pZ3JhdGlvbi9yZG1hLmMNCj4gaW5kZXggZWZiYjNjNzc1NC4uZDBhZjI1ODQ2OCAx
MDA2NDQNCj4gLS0tIGEvbWlncmF0aW9uL3JkbWEuYw0KPiArKysgYi9taWdyYXRpb24vcmRtYS5j
DQo+IEBAIC04NTcsMTQgKzg1NywxNCBAQCBzdGF0aWMgaW50IHFlbXVfcmRtYV9icm9rZW5faXB2
Nl9rZXJuZWwoc3RydWN0IGlidl9jb250ZXh0ICp2ZXJicywgRXJyb3IgKiplcnJwKQ0KPiAgICAg
ICAgICAgICAgICAgICB9IGVsc2Ugew0KPiAgICAgICAgICAgICAgICAgICAgICAgZXJyb3Jfc2V0
Z19lcnJubyhlcnJwLCBlcnJubywNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgImNvdWxkIG5vdCBvcGVuIFJETUEgZGV2aWNlIGNvbnRleHQiKTsNCj4gLSAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7DQo+ICsgICAgICAgICAgICAgICAgICAgIHJldHVy
biAtMTsNCj4gICAgICAgICAgICAgICAgICAgfQ0KPiAgICAgICAgICAgICAgIH0NCj4gICANCj4g
ICAgICAgICAgICAgICBpZiAoaWJ2X3F1ZXJ5X3BvcnQodmVyYnMsIDEsICZwb3J0X2F0dHIpKSB7
DQo+ICAgICAgICAgICAgICAgICAgIGlidl9jbG9zZV9kZXZpY2UodmVyYnMpOw0KPiAgICAgICAg
ICAgICAgICAgICBFUlJPUihlcnJwLCAiQ291bGQgbm90IHF1ZXJ5IGluaXRpYWwgSUIgcG9ydCIp
Ow0KPiAtICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiArICAgICAgICAgICAgICAg
IHJldHVybiAtMTsNCj4gICAgICAgICAgICAgICB9DQo+ICAgDQo+ICAgICAgICAgICAgICAgaWYg
KHBvcnRfYXR0ci5saW5rX2xheWVyID09IElCVl9MSU5LX0xBWUVSX0lORklOSUJBTkQpIHsNCj4g
QEAgLTg4OSw3ICs4ODksNyBAQCBzdGF0aWMgaW50IHFlbXVfcmRtYV9icm9rZW5faXB2Nl9rZXJu
ZWwoc3RydWN0IGlidl9jb250ZXh0ICp2ZXJicywgRXJyb3IgKiplcnJwKQ0KPiAgICAgICAgICAg
ICAgICAgICBFUlJPUihlcnJwLCAiWW91IG9ubHkgaGF2ZSBSb0NFIC8gaVdBUlAgZGV2aWNlcyBp
biB5b3VyIHN5c3RlbXMiDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgYW5kIHlv
dXIgbWFuYWdlbWVudCBzb2Z0d2FyZSBoYXMgc3BlY2lmaWVkICdbOjpdJyINCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIiwgYnV0IElQdjYgb3ZlciBSb0NFIC8gaVdBUlAgaXMgbm90
IHN1cHBvcnRlZCBpbiBMaW51eC4iKTsNCj4gLSAgICAgICAgICAgICAgICByZXR1cm4gLUVOT05F
VDsNCj4gKyAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQo+ICAgICAgICAgICAgICAgfQ0KPiAg
ICAgICAgICAgfQ0KPiAgIA0KPiBAQCAtOTA1LDEzICs5MDUsMTMgQEAgc3RhdGljIGludCBxZW11
X3JkbWFfYnJva2VuX2lwdjZfa2VybmVsKHN0cnVjdCBpYnZfY29udGV4dCAqdmVyYnMsIEVycm9y
ICoqZXJycCkNCj4gICAgICAgLyogSUIgcG9ydHMgc3RhcnQgd2l0aCAxLCBub3QgMCAqLw0KPiAg
ICAgICBpZiAoaWJ2X3F1ZXJ5X3BvcnQodmVyYnMsIDEsICZwb3J0X2F0dHIpKSB7DQo+ICAgICAg
ICAgICBFUlJPUihlcnJwLCAiQ291bGQgbm90IHF1ZXJ5IGluaXRpYWwgSUIgcG9ydCIpOw0KPiAt
ICAgICAgICByZXR1cm4gLUVJTlZBTDsNCj4gKyAgICAgICAgcmV0dXJuIC0xOw0KPiAgICAgICB9
DQo+ICAgDQo+ICAgICAgIGlmIChwb3J0X2F0dHIubGlua19sYXllciA9PSBJQlZfTElOS19MQVlF
Ul9FVEhFUk5FVCkgew0KPiAgICAgICAgICAgRVJST1IoZXJycCwgIkxpbnV4IGtlcm5lbCdzIFJv
Q0UgLyBpV0FSUCBkb2VzIG5vdCBzdXBwb3J0IElQdjYgIg0KPiAgICAgICAgICAgICAgICAgICAg
ICAgIihidXQgcGF0Y2hlcyBvbiBsaW51eC1yZG1hIGluIHByb2dyZXNzKSIpOw0KPiAtICAgICAg
ICByZXR1cm4gLUVOT05FVDsNCj4gKyAgICAgICAgcmV0dXJuIC0xOw0KPiAgICAgICB9DQo+ICAg
DQo+ICAgI2VuZGlmDQo+IEBAIC0xNDA5LDcgKzE0MDksNyBAQCBzdGF0aWMgaW50IHFlbXVfcmRt
YV91bnJlZ2lzdGVyX3dhaXRpbmcoUkRNQUNvbnRleHQgKnJkbWEpDQo+ICAgDQo+ICAgICAgICAg
ICBpZiAocmV0ICE9IDApIHsNCj4gICAgICAgICAgICAgICBwZXJyb3IoInVucmVnaXN0cmF0aW9u
IGNodW5rIGZhaWxlZCIpOw0KPiAtICAgICAgICAgICAgcmV0dXJuIC1yZXQ7DQo+ICsgICAgICAg
ICAgICByZXR1cm4gLTE7DQo+ICAgICAgICAgICB9DQo+ICAgICAgICAgICByZG1hLT50b3RhbF9y
ZWdpc3RyYXRpb25zLS07DQo+ICAgDQo+IEBAIC0xNTU0LDcgKzE1NTQsNyBAQCBzdGF0aWMgaW50
IHFlbXVfcmRtYV93YWl0X2NvbXBfY2hhbm5lbChSRE1BQ29udGV4dCAqcmRtYSwNCj4gICAgICAg
ICAgICAgICAgICAgICAgIGlmIChyZXQpIHsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICBl
cnJvcl9yZXBvcnQoImZhaWxlZCB0byBnZXQgY20gZXZlbnQgd2hpbGUgd2FpdCAiDQo+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb21wbGV0aW9uIGNoYW5uZWwiKTsN
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRVBJUEU7DQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gLTE7DQo+ICAgICAgICAgICAgICAgICAgICAgICB9DQo+ICAg
DQo+ICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9yZXBvcnQoInJlY2VpdmUgY20gZXZlbnQg
d2hpbGUgd2FpdCBjb21wIGNoYW5uZWwsIg0KPiBAQCAtMTU2Miw3ICsxNTYyLDcgQEAgc3RhdGlj
IGludCBxZW11X3JkbWFfd2FpdF9jb21wX2NoYW5uZWwoUkRNQUNvbnRleHQgKnJkbWEsDQo+ICAg
ICAgICAgICAgICAgICAgICAgICBpZiAoY21fZXZlbnQtPmV2ZW50ID09IFJETUFfQ01fRVZFTlRf
RElTQ09OTkVDVEVEIHx8DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgY21fZXZlbnQtPmV2
ZW50ID09IFJETUFfQ01fRVZFTlRfREVWSUNFX1JFTU9WQUwpIHsNCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICByZG1hX2Fja19jbV9ldmVudChjbV9ldmVudCk7DQo+IC0gICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gLUVQSVBFOw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgcmV0
dXJuIC0xOw0KPiAgICAgICAgICAgICAgICAgICAgICAgfQ0KPiAgICAgICAgICAgICAgICAgICAg
ICAgcmRtYV9hY2tfY21fZXZlbnQoY21fZXZlbnQpOw0KPiAgICAgICAgICAgICAgICAgICB9DQo+
IEBAIC0xNTc1LDE4ICsxNTc1LDE4IEBAIHN0YXRpYyBpbnQgcWVtdV9yZG1hX3dhaXRfY29tcF9j
aGFubmVsKFJETUFDb250ZXh0ICpyZG1hLA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAqIEkg
ZG9uJ3QgdHJ1c3QgZXJybm8gZnJvbSBxZW11X3BvbGxfbnMNCj4gICAgICAgICAgICAgICAgICAg
ICAgICAqLw0KPiAgICAgICAgICAgICAgICAgICBlcnJvcl9yZXBvcnQoIiVzOiBwb2xsIGZhaWxl
ZCIsIF9fZnVuY19fKTsNCj4gLSAgICAgICAgICAgICAgICByZXR1cm4gLUVQSVBFOw0KPiArICAg
ICAgICAgICAgICAgIHJldHVybiAtMTsNCj4gICAgICAgICAgICAgICB9DQo+ICAgDQo+ICAgICAg
ICAgICAgICAgaWYgKG1pZ3JhdGVfZ2V0X2N1cnJlbnQoKS0+c3RhdGUgPT0gTUlHUkFUSU9OX1NU
QVRVU19DQU5DRUxMSU5HKSB7DQo+ICAgICAgICAgICAgICAgICAgIC8qIEJhaWwgb3V0IGFuZCBs
ZXQgdGhlIGNhbmNlbGxhdGlvbiBoYXBwZW4gKi8NCj4gLSAgICAgICAgICAgICAgICByZXR1cm4g
LUVQSVBFOw0KPiArICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCj4gICAgICAgICAgICAgICB9
DQo+ICAgICAgICAgICB9DQo+ICAgICAgIH0NCj4gICANCj4gICAgICAgaWYgKHJkbWEtPnJlY2Vp
dmVkX2Vycm9yKSB7DQo+IC0gICAgICAgIHJldHVybiAtRVBJUEU7DQo+ICsgICAgICAgIHJldHVy
biAtMTsNCj4gICAgICAgfQ0KPiAgICAgICByZXR1cm4gLSEhcmRtYS0+ZXJyb3Jfc3RhdGU7DQo+
ICAgfQ0KPiBAQCAtMTc1MSw3ICsxNzUxLDcgQEAgc3RhdGljIGludCBxZW11X3JkbWFfcG9zdF9z
ZW5kX2NvbnRyb2woUkRNQUNvbnRleHQgKnJkbWEsIHVpbnQ4X3QgKmJ1ZiwNCj4gICANCj4gICAg
ICAgaWYgKHJldCA+IDApIHsNCj4gICAgICAgICAgIGVycm9yX3JlcG9ydCgiRmFpbGVkIHRvIHVz
ZSBwb3N0IElCIFNFTkQgZm9yIGNvbnRyb2wiKTsNCj4gLSAgICAgICAgcmV0dXJuIC1yZXQ7DQo+
ICsgICAgICAgIHJldHVybiAtMTsNCj4gICAgICAgfQ0KPiAgIA0KPiAgICAgICByZXQgPSBxZW11
X3JkbWFfYmxvY2tfZm9yX3dyaWQocmRtYSwgUkRNQV9XUklEX1NFTkRfQ09OVFJPTCwgTlVMTCk7
DQo+IEBAIC0xODIwLDE1ICsxODIwLDE1IEBAIHN0YXRpYyBpbnQgcWVtdV9yZG1hX2V4Y2hhbmdl
X2dldF9yZXNwb25zZShSRE1BQ29udGV4dCAqcmRtYSwNCj4gICAgICAgICAgIGlmIChoZWFkLT50
eXBlID09IFJETUFfQ09OVFJPTF9FUlJPUikgew0KPiAgICAgICAgICAgICAgIHJkbWEtPnJlY2Vp
dmVkX2Vycm9yID0gdHJ1ZTsNCj4gICAgICAgICAgIH0NCj4gLSAgICAgICAgcmV0dXJuIC1FSU87
DQo+ICsgICAgICAgIHJldHVybiAtMTsNCj4gICAgICAgfQ0KPiAgICAgICBpZiAoaGVhZC0+bGVu
ID4gUkRNQV9DT05UUk9MX01BWF9CVUZGRVIgLSBzaXplb2YoKmhlYWQpKSB7DQo+ICAgICAgICAg
ICBlcnJvcl9yZXBvcnQoInRvbyBsb25nIGxlbmd0aDogJWQiLCBoZWFkLT5sZW4pOw0KPiAtICAg
ICAgICByZXR1cm4gLUVJTlZBTDsNCj4gKyAgICAgICAgcmV0dXJuIC0xOw0KPiAgICAgICB9DQo+
ICAgICAgIGlmIChzaXplb2YoKmhlYWQpICsgaGVhZC0+bGVuICE9IGJ5dGVfbGVuKSB7DQo+ICAg
ICAgICAgICBlcnJvcl9yZXBvcnQoIk1hbGZvcm1lZCBsZW5ndGg6ICVkIGJ5dGVfbGVuICVkIiwg
aGVhZC0+bGVuLCBieXRlX2xlbik7DQo+IC0gICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiArICAg
ICAgICByZXR1cm4gLTE7DQo+ICAgICAgIH0NCj4gICANCj4gICAgICAgcmV0dXJuIDA7DQo+IEBA
IC0yMDkyLDcgKzIwOTIsNyBAQCByZXRyeToNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICh1aW50OF90ICopICZjb21wLCBOVUxMLCBOVUxMLCBOVUxMKTsNCj4gICANCj4gICAg
ICAgICAgICAgICAgICAgaWYgKHJldCA8IDApIHsNCj4gLSAgICAgICAgICAgICAgICAgICAgcmV0
dXJuIC1FSU87DQo+ICsgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCj4gICAgICAgICAg
ICAgICAgICAgfQ0KPiAgIA0KPiAgICAgICAgICAgICAgICAgICBzdGF0NjRfYWRkKCZtaWdfc3Rh
dHMuemVyb19wYWdlcywNCj4gQEAgLTIxMjcsNyArMjEyNyw3IEBAIHJldHJ5Og0KPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZzZ2UubGtleSwgTlVM
TCwgY2h1bmssDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY2h1bmtfc3RhcnQsIGNodW5rX2VuZCkpIHsNCj4gICAgICAgICAgICAgICAgICAgZXJy
b3JfcmVwb3J0KCJjYW5ub3QgZ2V0IGxrZXkiKTsNCj4gLSAgICAgICAgICAgICAgICByZXR1cm4g
LUVJTlZBTDsNCj4gKyAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQo+ICAgICAgICAgICAgICAg
fQ0KPiAgIA0KPiAgICAgICAgICAgICAgIHJlZ19yZXN1bHQgPSAoUkRNQVJlZ2lzdGVyUmVzdWx0
ICopDQo+IEBAIC0yMTQ2LDcgKzIxNDYsNyBAQCByZXRyeToNCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmc2dlLmxrZXksIE5VTEwsIGNodW5rLA0K
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5r
X3N0YXJ0LCBjaHVua19lbmQpKSB7DQo+ICAgICAgICAgICAgICAgICAgIGVycm9yX3JlcG9ydCgi
Y2Fubm90IGdldCBsa2V5ISIpOw0KPiAtICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0K
PiArICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCj4gICAgICAgICAgICAgICB9DQo+ICAgICAg
ICAgICB9DQo+ICAgDQo+IEBAIC0yMTU4LDcgKzIxNTgsNyBAQCByZXRyeToNCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZzZ2UubGtleSwg
TlVMTCwgY2h1bmssDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjaHVua19zdGFydCwgY2h1bmtfZW5kKSkgew0KPiAgICAgICAgICAgICAg
IGVycm9yX3JlcG9ydCgiY2Fubm90IGdldCBsa2V5ISIpOw0KPiAtICAgICAgICAgICAgcmV0dXJu
IC1FSU5WQUw7DQo+ICsgICAgICAgICAgICByZXR1cm4gLTE7DQo+ICAgICAgICAgICB9DQo+ICAg
ICAgIH0NCj4gICANCj4gQEAgLTIyMDAsNyArMjIwMCw3IEBAIHJldHJ5Og0KPiAgIA0KPiAgICAg
ICB9IGVsc2UgaWYgKHJldCA+IDApIHsNCj4gICAgICAgICAgIHBlcnJvcigicmRtYSBtaWdyYXRp
b246IHBvc3QgcmRtYSB3cml0ZSBmYWlsZWQiKTsNCj4gLSAgICAgICAgcmV0dXJuIC1yZXQ7DQo+
ICsgICAgICAgIHJldHVybiAtMTsNCj4gICAgICAgfQ0KPiAgIA0KPiAgICAgICBzZXRfYml0KGNo
dW5rLCBibG9jay0+dHJhbnNpdF9iaXRtYXApOw0KPiBAQCAtMjkyMCwxNCArMjkyMCwxNCBAQCBz
dGF0aWMgaW50IHFlbXVfcmRtYV9kcmFpbl9jcShRRU1VRmlsZSAqZiwgUkRNQUNvbnRleHQgKnJk
bWEpDQo+ICAgICAgIGludCByZXQ7DQo+ICAgDQo+ICAgICAgIGlmIChxZW11X3JkbWFfd3JpdGVf
Zmx1c2goZiwgcmRtYSkgPCAwKSB7DQo+IC0gICAgICAgIHJldHVybiAtRUlPOw0KPiArICAgICAg
ICByZXR1cm4gLTE7DQo+ICAgICAgIH0NCj4gICANCj4gICAgICAgd2hpbGUgKHJkbWEtPm5iX3Nl
bnQpIHsNCj4gICAgICAgICAgIHJldCA9IHFlbXVfcmRtYV9ibG9ja19mb3Jfd3JpZChyZG1hLCBS
RE1BX1dSSURfUkRNQV9XUklURSwgTlVMTCk7DQo+ICAgICAgICAgICBpZiAocmV0IDwgMCkgew0K
PiAgICAgICAgICAgICAgIGVycm9yX3JlcG9ydCgicmRtYSBtaWdyYXRpb246IGNvbXBsZXRlIHBv
bGxpbmcgZXJyb3IhIik7DQo+IC0gICAgICAgICAgICByZXR1cm4gLUVJTzsNCj4gKyAgICAgICAg
ICAgIHJldHVybiAtMTsNCj4gICAgICAgICAgIH0NCj4gICAgICAgfQ0KPiAgIA==

