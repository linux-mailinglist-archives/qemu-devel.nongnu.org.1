Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 1ECA6708921
	for <lists+qemu-devel@lfdr.de>; Thu, 18 May 2023 22:10:14 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1pzjrz-0000gL-5R; Thu, 18 May 2023 16:05:03 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pzjrg-00009g-NF
 for qemu-devel@nongnu.org; Thu, 18 May 2023 16:04:46 -0400
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pzjrS-000582-A4
 for qemu-devel@nongnu.org; Thu, 18 May 2023 16:04:43 -0400
Received: from pps.filterd (m0279871.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 34IDlv4T021122; Thu, 18 May 2023 20:04:19 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=VRZnFjMgqqK08qSK0AY+3ddvJZZL16p/gwBAAg59IHY=;
 b=Y10Ld7zmxUUNCh70xpuXqyoCdbE6zB0i+jo0iy/k7qW5JA+bI6QUViHuNVx1W8SWRzWI
 dXtfimYUaPixvusVmJJLxs6fDuGOU9yBqJtvlod4nWhG3zZe/jooa/o3xHfWSF4UI35w
 v7K0sH2Vl4V6FLuGfMG8StUlI80fh/1aZh29FzWBKCzmtzRTLYUsS2nTiiJHUY9RiWVD
 UMNQtbYiSn18NOk/GnAfmg2zctYN98/HtP41xlKTeWjuqNvTe7lDIlwt+DGcd3DYVbpe
 rn+leXo2BCl9kFKkP5SjEpFdkvjnZlRfFC252gsBNB+2C9+kTodAY+aVbk8dx8H7E3nF uQ== 
Received: from nalasppmta03.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3qncbht1y7-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 18 May 2023 20:04:18 +0000
Received: from pps.filterd (NALASPPMTA03.qualcomm.com [127.0.0.1])
 by NALASPPMTA03.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 34IK4HBP001262; 
 Thu, 18 May 2023 20:04:17 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA03.qualcomm.com (PPS) with ESMTPS id 3qj3mn248b-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 18 May 2023 20:04:17 +0000
Received: from NALASPPMTA03.qualcomm.com (NALASPPMTA03.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 34IK4D0j001141;
 Thu, 18 May 2023 20:04:17 GMT
Received: from hu-devc-sd-u20-a-1.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.204.221])
 by NALASPPMTA03.qualcomm.com (PPS) with ESMTPS id 34IK4FPO001184
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 18 May 2023 20:04:16 +0000
Received: by hu-devc-sd-u20-a-1.qualcomm.com (Postfix, from userid 47164)
 id 971016DC; Thu, 18 May 2023 13:04:13 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 peter.maydell@linaro.org, bcain@quicinc.com, quic_mathbern@quicinc.com,
 stefanha@redhat.com, ale@rev.ng, anjo@rev.ng, quic_mliebel@quicinc.com
Subject: [PULL v2 27/44] Hexagon (target/hexagon) Move new_pred_value to
 DisasContext
Date: Thu, 18 May 2023 13:03:54 -0700
Message-Id: <20230518200411.271148-28-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20230518200411.271148-1-tsimpson@quicinc.com>
References: <20230518200411.271148-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: 8m4-YzuFxspJMcmsNXuw_4mq1DSrkJuz
X-Proofpoint-ORIG-GUID: 8m4-YzuFxspJMcmsNXuw_4mq1DSrkJuz
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.254,Aquarius:18.0.957,Hydra:6.0.573,FMLib:17.11.170.22
 definitions=2023-05-18_15,2023-05-17_02,2023-02-09_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 spamscore=0
 lowpriorityscore=0 bulkscore=0 phishscore=0 adultscore=0
 priorityscore=1501 suspectscore=0 clxscore=1015 impostorscore=0 mlxscore=0
 malwarescore=0 mlxlogscore=970 classifier=spam adjust=0 reason=mlx
 scancount=1 engine=8.12.0-2304280000 definitions=main-2305180165
Received-SPF: pass client-ip=205.220.180.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -17
X-Spam_score: -1.8
X-Spam_bar: -
X-Spam_report: (-1.8 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 SPF_HELO_NONE=0.001, SPF_PASS=-0.001,
 T_SCC_BODY_TEXT_LINE=-0.01 autolearn=no autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

VGhlIG5ld19wcmVkX3ZhbHVlIGFycmF5IGluIHRoZSBDUFVIZXhhZ29uU3RhdGUgaXMgb25seSB1
c2VkIGZvcgpib29ra2VlcGluZyB3aXRoaW4gdGhlIHRyYW5zbGF0aW9uIG9mIGEgcGFja2V0LiAg
V2l0aCByZWNlbnQgY2hhbmdlcwp0aGF0IGVsaW1pbmF0ZSB0aGUgbmVlZCB0byBmcmVlIFRDR3Yg
dmFyaWFibGVzLCB0aGVzZSBtYWtlIG1vcmUgc2Vuc2UKdG8gYmUgdHJhbnNpZW50IGFuZCBrZXB0
IGluIERpc2FzQ29udGV4dC4KClN1Z2dlc3RlZC1ieTogUmljaGFyZCBIZW5kZXJzb24gPHJpY2hh
cmQuaGVuZGVyc29uQGxpbmFyby5vcmc+ClNpZ25lZC1vZmYtYnk6IFRheWxvciBTaW1wc29uIDx0
c2ltcHNvbkBxdWljaW5jLmNvbT4KUmV2aWV3ZWQtYnk6IFJpY2hhcmQgSGVuZGVyc29uIDxyaWNo
YXJkLmhlbmRlcnNvbkBsaW5hcm8ub3JnPgpNZXNzYWdlLUlkOiA8MjAyMzA0MjcyMzAwMTIuMzgw
MDMyNy0xOS10c2ltcHNvbkBxdWljaW5jLmNvbT4KLS0tCiB0YXJnZXQvaGV4YWdvbi9jcHUuaCAg
ICAgICAgICAgICAgICAgICAgICAgIHwgIDEgLQogdGFyZ2V0L2hleGFnb24vZ2VuX3RjZy5oICAg
ICAgICAgICAgICAgICAgICB8IDEyICsrKysrKy0tLS0tLQogdGFyZ2V0L2hleGFnb24vdHJhbnNs
YXRlLmggICAgICAgICAgICAgICAgICB8ICAyICstCiB0YXJnZXQvaGV4YWdvbi9nZW5wdHIuYyAg
ICAgICAgICAgICAgICAgICAgIHwgMTAgKysrKysrKy0tLQogdGFyZ2V0L2hleGFnb24vaWRlZi1w
YXJzZXIvcGFyc2VyLWhlbHBlcnMuYyB8ICAyICstCiB0YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIu
YyAgICAgICAgICAgICAgICAgIHwgIDIgKy0KIHRhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jICAg
ICAgICAgICAgICAgICAgfCAxNiArKysrKystLS0tLS0tLS0tCiB0YXJnZXQvaGV4YWdvbi9nZW5f
dGNnX2Z1bmNzLnB5ICAgICAgICAgICAgIHwgIDIgKy0KIDggZmlsZXMgY2hhbmdlZCwgMjMgaW5z
ZXJ0aW9ucygrKSwgMjQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24v
Y3B1LmggYi90YXJnZXQvaGV4YWdvbi9jcHUuaAppbmRleCAwZWY2ZDcxN2QwLi4yYjRmNzdmYjhl
IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9jcHUuaAorKysgYi90YXJnZXQvaGV4YWdvbi9j
cHUuaApAQCAtOTgsNyArOTgsNiBAQCB0eXBlZGVmIHN0cnVjdCBDUFVBcmNoU3RhdGUgewogICAg
IHRhcmdldF91bG9uZyB0aGlzX1BDOwogICAgIHRhcmdldF91bG9uZyByZWdfd3JpdHRlbltUT1RB
TF9QRVJfVEhSRUFEX1JFR1NdOwogCi0gICAgdGFyZ2V0X3Vsb25nIG5ld19wcmVkX3ZhbHVlW05V
TV9QUkVHU107CiAgICAgdGFyZ2V0X3Vsb25nIHByZWRfd3JpdHRlbjsKIAogICAgIE1lbUxvZyBt
ZW1fbG9nX3N0b3Jlc1tTVE9SRVNfTUFYXTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2dl
bl90Y2cuaCBiL3RhcmdldC9oZXhhZ29uL2dlbl90Y2cuaAppbmRleCBlZDJjMWNjYzQ2Li5kNzhk
OTlkMTU1IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9nZW5fdGNnLmgKKysrIGIvdGFyZ2V0
L2hleGFnb24vZ2VuX3RjZy5oCkBAIC01ODEsOSArNTgxLDkgQEAKICNkZWZpbmUgZkdFTl9UQ0df
U0wyX3JldHVybl9mKFNIT1JUQ09ERSkgXAogICAgIGdlbl9jb25kX3JldHVybl9zdWJpbnNuKGN0
eCwgVENHX0NPTkRfTkUsIGhleF9wcmVkWzBdKQogI2RlZmluZSBmR0VOX1RDR19TTDJfcmV0dXJu
X3RuZXcoU0hPUlRDT0RFKSBcCi0gICAgZ2VuX2NvbmRfcmV0dXJuX3N1Ymluc24oY3R4LCBUQ0df
Q09ORF9FUSwgaGV4X25ld19wcmVkX3ZhbHVlWzBdKQorICAgIGdlbl9jb25kX3JldHVybl9zdWJp
bnNuKGN0eCwgVENHX0NPTkRfRVEsIGN0eC0+bmV3X3ByZWRfdmFsdWVbMF0pCiAjZGVmaW5lIGZH
RU5fVENHX1NMMl9yZXR1cm5fZm5ldyhTSE9SVENPREUpIFwKLSAgICBnZW5fY29uZF9yZXR1cm5f
c3ViaW5zbihjdHgsIFRDR19DT05EX05FLCBoZXhfbmV3X3ByZWRfdmFsdWVbMF0pCisgICAgZ2Vu
X2NvbmRfcmV0dXJuX3N1Ymluc24oY3R4LCBUQ0dfQ09ORF9ORSwgY3R4LT5uZXdfcHJlZF92YWx1
ZVswXSkKIAogLyoKICAqIE1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIHdpdGggbW9yZSB0aGFuIG9u
ZSBkZWZpbml0aW9uIHJlcXVpcmUKQEAgLTExMjIsNyArMTEyMiw3IEBACiAjZGVmaW5lIGZHRU5f
VENHX1NBMV9jbHJ0bmV3KFNIT1JUQ09ERSkgXAogICAgIGRvIHsgXAogICAgICAgICB0Y2dfZ2Vu
X21vdmNvbmRfdGwoVENHX0NPTkRfRVEsIFJkViwgXAotICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaGV4X25ld19wcmVkX3ZhbHVlWzBdLCB0Y2dfY29uc3RhbnRfdGwoMCksIFwKKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGN0eC0+bmV3X3ByZWRfdmFsdWVbMF0sIHRjZ19jb25zdGFudF90
bCgwKSwgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmRWLCB0Y2dfY29uc3RhbnRfdGwo
MCkpOyBcCiAgICAgfSB3aGlsZSAoMCkKIApAQCAtMTEzMCw3ICsxMTMwLDcgQEAKICNkZWZpbmUg
ZkdFTl9UQ0dfU0ExX2NscmZuZXcoU0hPUlRDT0RFKSBcCiAgICAgZG8geyBcCiAgICAgICAgIHRj
Z19nZW5fbW92Y29uZF90bChUQ0dfQ09ORF9ORSwgUmRWLCBcCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgICBoZXhfbmV3X3ByZWRfdmFsdWVbMF0sIHRjZ19jb25zdGFudF90bCgwKSwgXAorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY3R4LT5uZXdfcHJlZF92YWx1ZVswXSwgdGNnX2NvbnN0
YW50X3RsKDApLCBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZFYsIHRjZ19jb25zdGFu
dF90bCgwKSk7IFwKICAgICB9IHdoaWxlICgwKQogCkBAIC0xMTU3LDkgKzExNTcsOSBAQAogICAg
IGdlbl9jb25kX2p1bXByMzEoY3R4LCBUQ0dfQ09ORF9ORSwgaGV4X3ByZWRbMF0pCiAKICNkZWZp
bmUgZkdFTl9UQ0dfU0wyX2p1bXByMzFfdG5ldyhTSE9SVENPREUpIFwKLSAgICBnZW5fY29uZF9q
dW1wcjMxKGN0eCwgVENHX0NPTkRfRVEsIGhleF9uZXdfcHJlZF92YWx1ZVswXSkKKyAgICBnZW5f
Y29uZF9qdW1wcjMxKGN0eCwgVENHX0NPTkRfRVEsIGN0eC0+bmV3X3ByZWRfdmFsdWVbMF0pCiAj
ZGVmaW5lIGZHRU5fVENHX1NMMl9qdW1wcjMxX2ZuZXcoU0hPUlRDT0RFKSBcCi0gICAgZ2VuX2Nv
bmRfanVtcHIzMShjdHgsIFRDR19DT05EX05FLCBoZXhfbmV3X3ByZWRfdmFsdWVbMF0pCisgICAg
Z2VuX2NvbmRfanVtcHIzMShjdHgsIFRDR19DT05EX05FLCBjdHgtPm5ld19wcmVkX3ZhbHVlWzBd
KQogCiAvKiBDb3VudCB0cmFpbGluZyB6ZXJvcy9vbmVzICovCiAjZGVmaW5lIGZHRU5fVENHX1My
X2N0MChTSE9SVENPREUpIFwKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5o
IGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmgKaW5kZXggNmRkZTQ4NzU2Ni4uZmRmYTFiNmZl
MyAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmgKKysrIGIvdGFyZ2V0L2hl
eGFnb24vdHJhbnNsYXRlLmgKQEAgLTcwLDYgKzcwLDcgQEAgdHlwZWRlZiBzdHJ1Y3QgRGlzYXND
b250ZXh0IHsKICAgICBib29sIHNob3J0X2NpcmN1aXQ7CiAgICAgYm9vbCBoYXNfaHZ4X2hlbHBl
cjsKICAgICBUQ0d2IG5ld192YWx1ZVtUT1RBTF9QRVJfVEhSRUFEX1JFR1NdOworICAgIFRDR3Yg
bmV3X3ByZWRfdmFsdWVbTlVNX1BSRUdTXTsKIH0gRGlzYXNDb250ZXh0OwogCiBzdGF0aWMgaW5s
aW5lIHZvaWQgY3R4X2xvZ19wcmVkX3dyaXRlKERpc2FzQ29udGV4dCAqY3R4LCBpbnQgcG51bSkK
QEAgLTE5Myw3ICsxOTQsNiBAQCBleHRlcm4gVENHdiBoZXhfc2xvdF9jYW5jZWxsZWQ7CiBleHRl
cm4gVENHdiBoZXhfYnJhbmNoX3Rha2VuOwogZXh0ZXJuIFRDR3YgaGV4X25ld192YWx1ZV91c3I7
CiBleHRlcm4gVENHdiBoZXhfcmVnX3dyaXR0ZW5bVE9UQUxfUEVSX1RIUkVBRF9SRUdTXTsKLWV4
dGVybiBUQ0d2IGhleF9uZXdfcHJlZF92YWx1ZVtOVU1fUFJFR1NdOwogZXh0ZXJuIFRDR3YgaGV4
X3ByZWRfd3JpdHRlbjsKIGV4dGVybiBUQ0d2IGhleF9zdG9yZV9hZGRyW1NUT1JFU19NQVhdOwog
ZXh0ZXJuIFRDR3YgaGV4X3N0b3JlX3dpZHRoW1NUT1JFU19NQVhdOwpkaWZmIC0tZ2l0IGEvdGFy
Z2V0L2hleGFnb24vZ2VucHRyLmMgYi90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwppbmRleCAzNzIx
MGU2ZjA5Li4xZjY5ZjRmOTIyIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwor
KysgYi90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwpAQCAtMTIxLDcgKzEyMSwxMSBAQCBzdGF0aWMg
dm9pZCBnZW5fbG9nX3JlZ193cml0ZV9wYWlyKERpc2FzQ29udGV4dCAqY3R4LCBpbnQgcm51bSwg
VENHdl9pNjQgdmFsKQogVENHdiBnZXRfcmVzdWx0X3ByZWQoRGlzYXNDb250ZXh0ICpjdHgsIGlu
dCBwbnVtKQogewogICAgIGlmIChjdHgtPm5lZWRfY29tbWl0KSB7Ci0gICAgICAgIHJldHVybiBo
ZXhfbmV3X3ByZWRfdmFsdWVbcG51bV07CisgICAgICAgIGlmIChjdHgtPm5ld19wcmVkX3ZhbHVl
W3BudW1dID09IE5VTEwpIHsKKyAgICAgICAgICAgIGN0eC0+bmV3X3ByZWRfdmFsdWVbcG51bV0g
PSB0Y2dfdGVtcF9uZXcoKTsKKyAgICAgICAgICAgIHRjZ19nZW5fbW92aV90bChjdHgtPm5ld19w
cmVkX3ZhbHVlW3BudW1dLCAwKTsKKyAgICAgICAgfQorICAgICAgICByZXR1cm4gY3R4LT5uZXdf
cHJlZF92YWx1ZVtwbnVtXTsKICAgICB9IGVsc2UgewogICAgICAgICByZXR1cm4gaGV4X3ByZWRb
cG51bV07CiAgICAgfQpAQCAtNjA3LDcgKzYxMSw3IEBAIHN0YXRpYyB2b2lkIGdlbl9jbXBuZF9j
bXBfam1wKERpc2FzQ29udGV4dCAqY3R4LAogICAgICAgICBnZW5fbG9nX3ByZWRfd3JpdGUoY3R4
LCBwbnVtLCBwcmVkKTsKICAgICB9IGVsc2UgewogICAgICAgICBUQ0d2IHByZWQgPSB0Y2dfdGVt
cF9uZXcoKTsKLSAgICAgICAgdGNnX2dlbl9tb3ZfdGwocHJlZCwgaGV4X25ld19wcmVkX3ZhbHVl
W3BudW1dKTsKKyAgICAgICAgdGNnX2dlbl9tb3ZfdGwocHJlZCwgY3R4LT5uZXdfcHJlZF92YWx1
ZVtwbnVtXSk7CiAgICAgICAgIGdlbl9jb25kX2p1bXAoY3R4LCBjb25kMiwgcHJlZCwgcGNfb2Zm
KTsKICAgICB9CiB9CkBAIC02NjQsNyArNjY4LDcgQEAgc3RhdGljIHZvaWQgZ2VuX2NtcG5kX3Rz
dGJpdDBfam1wKERpc2FzQ29udGV4dCAqY3R4LAogICAgICAgICBnZW5fbG9nX3ByZWRfd3JpdGUo
Y3R4LCBwbnVtLCBwcmVkKTsKICAgICB9IGVsc2UgewogICAgICAgICBUQ0d2IHByZWQgPSB0Y2df
dGVtcF9uZXcoKTsKLSAgICAgICAgdGNnX2dlbl9tb3ZfdGwocHJlZCwgaGV4X25ld19wcmVkX3Zh
bHVlW3BudW1dKTsKKyAgICAgICAgdGNnX2dlbl9tb3ZfdGwocHJlZCwgY3R4LT5uZXdfcHJlZF92
YWx1ZVtwbnVtXSk7CiAgICAgICAgIGdlbl9jb25kX2p1bXAoY3R4LCBjb25kLCBwcmVkLCBwY19v
ZmYpOwogICAgIH0KIH0KZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2lkZWYtcGFyc2VyL3Bh
cnNlci1oZWxwZXJzLmMgYi90YXJnZXQvaGV4YWdvbi9pZGVmLXBhcnNlci9wYXJzZXItaGVscGVy
cy5jCmluZGV4IDA5MTYxZTM5NGQuLjY2MjZlMDA2ZjYgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhh
Z29uL2lkZWYtcGFyc2VyL3BhcnNlci1oZWxwZXJzLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vaWRl
Zi1wYXJzZXIvcGFyc2VyLWhlbHBlcnMuYwpAQCAtMTg1NCw3ICsxODU0LDcgQEAgSGV4VmFsdWUg
Z2VuX3J2YWx1ZV9wcmVkKENvbnRleHQgKmMsIFlZTFRZUEUgKmxvY3AsIEhleFZhbHVlICpwcmVk
KQogICAgICAgICAqcHJlZCA9IGdlbl90bXAoYywgbG9jcCwgMzIsIFVOU0lHTkVEKTsKICAgICAg
ICAgaWYgKGlzX2RvdG5ldykgewogICAgICAgICAgICAgT1VUKGMsIGxvY3AsICJ0Y2dfZ2VuX21v
dl9pMzIoIiwgcHJlZCwKLSAgICAgICAgICAgICAgICAiLCBoZXhfbmV3X3ByZWRfdmFsdWVbIik7
CisgICAgICAgICAgICAgICAgIiwgY3R4LT5uZXdfcHJlZF92YWx1ZVsiKTsKICAgICAgICAgICAg
IE9VVChjLCBsb2NwLCBwcmVkX3N0ciwgIl0pO1xuIik7CiAgICAgICAgIH0gZWxzZSB7CiAgICAg
ICAgICAgICBPVVQoYywgbG9jcCwgImdlbl9yZWFkX3ByZWcoIiwgcHJlZCwgIiwgIiwgcHJlZF9z
dHIsICIpO1xuIik7CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYyBiL3Rh
cmdldC9oZXhhZ29uL29wX2hlbHBlci5jCmluZGV4IGZjNWMzMGExNDEuLjI2ZmJhOWY1ZDYgMTAw
NjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jCisrKyBiL3RhcmdldC9oZXhhZ29u
L29wX2hlbHBlci5jCkBAIC0yMzEsNyArMjMxLDcgQEAgdm9pZCBIRUxQRVIoZGVidWdfY29tbWl0
X2VuZCkoQ1BVSGV4YWdvblN0YXRlICplbnYsIGludCBoYXNfc3QwLCBpbnQgaGFzX3N0MSkKICAg
ICAgICAgICAgICAgICBwcmVkX3ByaW50ZWQgPSB0cnVlOwogICAgICAgICAgICAgfQogICAgICAg
ICAgICAgSEVYX0RFQlVHX0xPRygiXHRwJWQgPSAweCIgVEFSR0VUX0ZNVF9seCAiXG4iLAotICAg
ICAgICAgICAgICAgICAgICAgICAgICBpLCBlbnYtPm5ld19wcmVkX3ZhbHVlW2ldKTsKKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgaSwgZW52LT5wcmVkW2ldKTsKICAgICAgICAgfQogICAgIH0K
IApkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMgYi90YXJnZXQvaGV4YWdv
bi90cmFuc2xhdGUuYwppbmRleCBiY2E0Mjc5N2MwLi40NTlhYWNlOTIxIDEwMDY0NAotLS0gYS90
YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYworKysgYi90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUu
YwpAQCAtNDYsNyArNDYsNiBAQCBUQ0d2IGhleF9zbG90X2NhbmNlbGxlZDsKIFRDR3YgaGV4X2Jy
YW5jaF90YWtlbjsKIFRDR3YgaGV4X25ld192YWx1ZV91c3I7CiBUQ0d2IGhleF9yZWdfd3JpdHRl
bltUT1RBTF9QRVJfVEhSRUFEX1JFR1NdOwotVENHdiBoZXhfbmV3X3ByZWRfdmFsdWVbTlVNX1BS
RUdTXTsKIFRDR3YgaGV4X3ByZWRfd3JpdHRlbjsKIFRDR3YgaGV4X3N0b3JlX2FkZHJbU1RPUkVT
X01BWF07CiBUQ0d2IGhleF9zdG9yZV93aWR0aFtTVE9SRVNfTUFYXTsKQEAgLTUxNSw2ICs1MTQs
OSBAQCBzdGF0aWMgdm9pZCBnZW5fc3RhcnRfcGFja2V0KERpc2FzQ29udGV4dCAqY3R4KQogICAg
IGZvciAoaSA9IDA7IGkgPCBUT1RBTF9QRVJfVEhSRUFEX1JFR1M7IGkrKykgewogICAgICAgICBj
dHgtPm5ld192YWx1ZVtpXSA9IE5VTEw7CiAgICAgfQorICAgIGZvciAoaSA9IDA7IGkgPCBOVU1f
UFJFR1M7IGkrKykgeworICAgICAgICBjdHgtPm5ld19wcmVkX3ZhbHVlW2ldID0gTlVMTDsKKyAg
ICB9CiAKICAgICBhbmFseXplX3BhY2tldChjdHgpOwogCkBAIC01NjgsNyArNTcwLDggQEAgc3Rh
dGljIHZvaWQgZ2VuX3N0YXJ0X3BhY2tldChEaXNhc0NvbnRleHQgKmN0eCkKICAgICBpZiAoY3R4
LT5uZWVkX2NvbW1pdCAmJiBwa3QtPnBrdF9oYXNfZW5kbG9vcCkgewogICAgICAgICBmb3IgKGlu
dCBpID0gMDsgaSA8IGN0eC0+cHJlZ19sb2dfaWR4OyBpKyspIHsKICAgICAgICAgICAgIGludCBw
cmVkX251bSA9IGN0eC0+cHJlZ19sb2dbaV07Ci0gICAgICAgICAgICB0Y2dfZ2VuX21vdl90bCho
ZXhfbmV3X3ByZWRfdmFsdWVbcHJlZF9udW1dLCBoZXhfcHJlZFtwcmVkX251bV0pOworICAgICAg
ICAgICAgY3R4LT5uZXdfcHJlZF92YWx1ZVtwcmVkX251bV0gPSB0Y2dfdGVtcF9uZXcoKTsKKyAg
ICAgICAgICAgIHRjZ19nZW5fbW92X3RsKGN0eC0+bmV3X3ByZWRfdmFsdWVbcHJlZF9udW1dLCBo
ZXhfcHJlZFtwcmVkX251bV0pOwogICAgICAgICB9CiAgICAgfQogCkBAIC02OTEsNyArNjk0LDcg
QEAgc3RhdGljIHZvaWQgZ2VuX3ByZWRfd3JpdGVzKERpc2FzQ29udGV4dCAqY3R4KQogCiAgICAg
Zm9yIChpbnQgaSA9IDA7IGkgPCBjdHgtPnByZWdfbG9nX2lkeDsgaSsrKSB7CiAgICAgICAgIGlu
dCBwcmVkX251bSA9IGN0eC0+cHJlZ19sb2dbaV07Ci0gICAgICAgIHRjZ19nZW5fbW92X3RsKGhl
eF9wcmVkW3ByZWRfbnVtXSwgaGV4X25ld19wcmVkX3ZhbHVlW3ByZWRfbnVtXSk7CisgICAgICAg
IHRjZ19nZW5fbW92X3RsKGhleF9wcmVkW3ByZWRfbnVtXSwgY3R4LT5uZXdfcHJlZF92YWx1ZVtw
cmVkX251bV0pOwogICAgIH0KIH0KIApAQCAtMTE2Miw3ICsxMTY1LDYgQEAgdm9pZCBnZW5faW50
ZXJtZWRpYXRlX2NvZGUoQ1BVU3RhdGUgKmNzLCBUcmFuc2xhdGlvbkJsb2NrICp0YiwgaW50ICpt
YXhfaW5zbnMsCiAKICNkZWZpbmUgTkFNRV9MRU4gICAgICAgICAgICAgICA2NAogc3RhdGljIGNo
YXIgcmVnX3dyaXR0ZW5fbmFtZXNbVE9UQUxfUEVSX1RIUkVBRF9SRUdTXVtOQU1FX0xFTl07Ci1z
dGF0aWMgY2hhciBuZXdfcHJlZF92YWx1ZV9uYW1lc1tOVU1fUFJFR1NdW05BTUVfTEVOXTsKIHN0
YXRpYyBjaGFyIHN0b3JlX2FkZHJfbmFtZXNbU1RPUkVTX01BWF1bTkFNRV9MRU5dOwogc3RhdGlj
IGNoYXIgc3RvcmVfd2lkdGhfbmFtZXNbU1RPUkVTX01BWF1bTkFNRV9MRU5dOwogc3RhdGljIGNo
YXIgc3RvcmVfdmFsMzJfbmFtZXNbU1RPUkVTX01BWF1bTkFNRV9MRU5dOwpAQCAtMTE5NywxMiAr
MTE5OSw2IEBAIHZvaWQgaGV4YWdvbl90cmFuc2xhdGVfaW5pdCh2b2lkKQogICAgICAgICBoZXhf
cHJlZFtpXSA9IHRjZ19nbG9iYWxfbWVtX25ldyhjcHVfZW52LAogICAgICAgICAgICAgb2Zmc2V0
b2YoQ1BVSGV4YWdvblN0YXRlLCBwcmVkW2ldKSwKICAgICAgICAgICAgIGhleGFnb25fcHJlZG5h
bWVzW2ldKTsKLQotICAgICAgICBzbnByaW50ZihuZXdfcHJlZF92YWx1ZV9uYW1lc1tpXSwgTkFN
RV9MRU4sICJuZXdfcHJlZF8lcyIsCi0gICAgICAgICAgICAgICAgIGhleGFnb25fcHJlZG5hbWVz
W2ldKTsKLSAgICAgICAgaGV4X25ld19wcmVkX3ZhbHVlW2ldID0gdGNnX2dsb2JhbF9tZW1fbmV3
KGNwdV9lbnYsCi0gICAgICAgICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3RhdGUsIG5ld19wcmVk
X3ZhbHVlW2ldKSwKLSAgICAgICAgICAgIG5ld19wcmVkX3ZhbHVlX25hbWVzW2ldKTsKICAgICB9
CiAgICAgaGV4X3ByZWRfd3JpdHRlbiA9IHRjZ19nbG9iYWxfbWVtX25ldyhjcHVfZW52LAogICAg
ICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3RhdGUsIHByZWRfd3JpdHRlbiksICJwcmVkX3dyaXR0
ZW4iKTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkgYi90YXJn
ZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5CmluZGV4IGEzNjExN2Q1N2YuLjA0MDM1NDczODcg
MTAwNzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkKKysrIGIvdGFyZ2V0
L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weQpAQCAtMTk4LDcgKzE5OCw3IEBAIGRlZiBnZW5wdHJf
ZGVjbF9uZXcoZiwgdGFnLCByZWd0eXBlLCByZWdpZCwgcmVnbm8pOgogICAgICAgICBpZiByZWdp
ZCBpbiB7InQiLCAidSIsICJ2In06CiAgICAgICAgICAgICBmLndyaXRlKAogICAgICAgICAgICAg
ICAgIGYiICAgIFRDR3Yge3JlZ3R5cGV9e3JlZ2lkfU4gPSAiCi0gICAgICAgICAgICAgICAgZiJo
ZXhfbmV3X3ByZWRfdmFsdWVbaW5zbi0+cmVnbm9be3JlZ25vfV1dO1xuIgorICAgICAgICAgICAg
ICAgIGYiY3R4LT5uZXdfcHJlZF92YWx1ZVtpbnNuLT5yZWdub1t7cmVnbm99XV07XG4iCiAgICAg
ICAgICAgICApCiAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICBwcmludCgiQmFkIHJlZ2lzdGVy
IHBhcnNlOiAiLCByZWd0eXBlLCByZWdpZCkKLS0gCjIuMjUuMQoK

