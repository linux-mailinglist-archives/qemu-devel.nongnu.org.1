Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 9CBC0A4AD11
	for <lists+qemu-devel@lfdr.de>; Sat,  1 Mar 2025 18:22:00 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1toQWd-0003BH-T3; Sat, 01 Mar 2025 12:21:20 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <brian.cain@oss.qualcomm.com>)
 id 1toQWL-00039P-HE
 for qemu-devel@nongnu.org; Sat, 01 Mar 2025 12:21:01 -0500
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <brian.cain@oss.qualcomm.com>)
 id 1toQWI-0008Qh-Az
 for qemu-devel@nongnu.org; Sat, 01 Mar 2025 12:21:01 -0500
Received: from pps.filterd (m0279862.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.18.1.2/8.18.1.2) with ESMTP id 521GTUOp015517
 for <qemu-devel@nongnu.org>; Sat, 1 Mar 2025 17:20:55 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qualcomm.com; h=
 cc:content-transfer-encoding:content-type:date:from:in-reply-to
 :message-id:mime-version:references:subject:to; s=qcppdkim1; bh=
 oL5B4J1F6NJg8yShtfpvZ5qgW1CBbx22qQqXR8Ids8U=; b=ZbU5ulx+LVWLmivB
 HVO5QuMLALXKe0zrhY431ZC2hJ4eRogZI5spq0plmbNY3arAefDYplhy1+/P2jWP
 6BaWV7o6VW0tGVkwFsw7enFtMKaac4m4ABZ7GeI4puWbIkv+5ukMIO/8mEgBRyku
 W8+/flYG1Pwfk5RTKYkcShxUPqblw8sFnYcWSgh02aOhzKnLZ94ecAh6yZqEfePh
 jq3QC1WudguJNWqp0uXz9WrdYVErIIS1902apMbQZ3XANhSFp+97mqxH0gjQQcRJ
 OetR9ccJqzCF9TMwzGJ6TfTmouJ10w8K9fm8CmLCzXbCu+OCS52V3uEqICiodBhS
 CosdsA==
Received: from mail-pj1-f71.google.com (mail-pj1-f71.google.com
 [209.85.216.71])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 453u0d11d2-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128 verify=NOT)
 for <qemu-devel@nongnu.org>; Sat, 01 Mar 2025 17:20:54 +0000 (GMT)
Received: by mail-pj1-f71.google.com with SMTP id
 98e67ed59e1d1-2feda472a6eso995906a91.0
 for <qemu-devel@nongnu.org>; Sat, 01 Mar 2025 09:20:54 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1740849654; x=1741454454;
 h=content-transfer-encoding:mime-version:references:in-reply-to
 :message-id:date:subject:cc:to:from:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=oL5B4J1F6NJg8yShtfpvZ5qgW1CBbx22qQqXR8Ids8U=;
 b=ZieejCGvTb3FAWSPCVRCIO8bxV6A01Kb2PvHaWFHxgPOSl7uaok1swBR/LUS0Suzuh
 khObnHfQozcc9fIzAgnSPjikosG6CXaDmRrAkuSmY+rneXOy2HdLIQg23S/5BOZgoLn2
 H2NqBf/1z2MVv2tIM77yh/LIz/Ki/kj6ft+29ZO62fHctNlbYtpatRBndes0Aol+7lrZ
 q5I8dIkDa/SHjIjPGYr2WRbPgVWMq7Q/bFPeDzqMXsSYg/BoZJCqfcytwS27TSFeOXYh
 Ora1K7xkYgffzp8UGGMebm+lVfg3mlHqRUfJbmHDkKHiLJO0OwxRKxhxwi4hiecS4x2y
 S8CA==
X-Gm-Message-State: AOJu0YzDyIZytNjMPDURTs8/WPAfUzX6Lxh06wb2zUuZDU3mSOwpKkwF
 SvNsnNrFuZwnXSGQ+pjushaFh5Vs82GUKNT6wivYvd7jwN68VYM9kHbRZgxXXxZiWQ86H1928Df
 PjkUnXxALCNmfWZ/X/EKPwC2lLEM+uPOGiQZtNYY16NQmqOaL4n4aWBdyGU3DKQ==
X-Gm-Gg: ASbGncsSz0/k8x5NUxlqpcAN+virSScPc41hXRZyyHjiXpAITdl9BpsjecH1D4vEe2s
 wj0Sf4QDyGvio383UFOcrxjc9vbIB6w20YXDmgUjroo1mPtrmPJvda/CRVUY7bCSa3AS60maM6H
 Dn1PhuZsTQM8vKE/MVAyySwH4IjNs559+ScpBFshuHuJ/TiAF+TaoKz6Km6dGXwkjh04tbbB7Ig
 gAW3FYv4jjcbNmyqnDNrCec+rNskQHYZ9oc+rAgtrl0bwP8neLvJa6zU3+ImROxut5mqKnc1sAH
 hh1bah8Z/xNHV+We1bJiT11d/PUEumBlkM1ojh2OsjFwRiVvJBZa/QTiW9MCKJJR
X-Received: by 2002:a17:90b:3fcb:b0:2fe:9581:fbea with SMTP id
 98e67ed59e1d1-2febabf414amr12122351a91.29.1740849653651; 
 Sat, 01 Mar 2025 09:20:53 -0800 (PST)
X-Google-Smtp-Source: AGHT+IHEynSQgj2M0pIkjKqPMhEDPmrM6xcQhgzEWepgWaTQsVk3u1kewsijzSDdodxinKwM/OFE8A==
X-Received: by 2002:a17:90b:3fcb:b0:2fe:9581:fbea with SMTP id
 98e67ed59e1d1-2febabf414amr12122299a91.29.1740849652826; 
 Sat, 01 Mar 2025 09:20:52 -0800 (PST)
Received: from hu-bcain-lv.qualcomm.com (Global_NAT1.qualcomm.com.
 [129.46.96.20]) by smtp.gmail.com with ESMTPSA id
 d9443c01a7336-223501f9dacsm51308275ad.83.2025.03.01.09.20.51
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sat, 01 Mar 2025 09:20:52 -0800 (PST)
From: Brian Cain <brian.cain@oss.qualcomm.com>
To: qemu-devel@nongnu.org
Cc: brian.cain@oss.qualcomm.com, richard.henderson@linaro.org,
 philmd@linaro.org, quic_mathbern@quicinc.com, ale@rev.ng, anjo@rev.ng,
 quic_mliebel@quicinc.com, ltaylorsimpson@gmail.com,
 alex.bennee@linaro.org, quic_mburton@quicinc.com, sidneym@quicinc.com,
 Damien Hedde <damien.hedde@dahe.fr>, Paolo Bonzini <pbonzini@redhat.com>
Subject: [PATCH 1/8] hw/intc: Add l2vic interrupt controller
Date: Sat,  1 Mar 2025 09:20:38 -0800
Message-Id: <20250301172045.1295412-2-brian.cain@oss.qualcomm.com>
X-Mailer: git-send-email 2.34.1
In-Reply-To: <20250301172045.1295412-1-brian.cain@oss.qualcomm.com>
References: <20250301172045.1295412-1-brian.cain@oss.qualcomm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Proofpoint-ORIG-GUID: FerQEyqH_q6-ZnTLN5BK1_6DSbMqN8AM
X-Proofpoint-GUID: FerQEyqH_q6-ZnTLN5BK1_6DSbMqN8AM
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.293,Aquarius:18.0.1057,Hydra:6.0.680,FMLib:17.12.68.34
 definitions=2025-03-01_07,2025-02-28_01,2024-11-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 impostorscore=0 adultscore=0
 phishscore=0 malwarescore=0 spamscore=0 mlxscore=0 suspectscore=0
 clxscore=1015 bulkscore=0 priorityscore=1501 mlxlogscore=999
 lowpriorityscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.19.0-2502100000 definitions=main-2503010140
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=brian.cain@oss.qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -26
X-Spam_score: -2.7
X-Spam_bar: --
X-Spam_report: (-2.7 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_EF=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
 RCVD_IN_VALIDITY_RPBL_BLOCKED=0.001, RCVD_IN_VALIDITY_SAFE_BLOCKED=0.001,
 SPF_HELO_NONE=0.001, SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

RnJvbTogU2lkIE1hbm5pbmcgPHNpZG5leW1AcXVpY2luYy5jb20+CgpDby1hdXRob3JlZC1ieTog
TWF0aGV1cyBUYXZhcmVzIEJlcm5hcmRpbm8gPHF1aWNfbWF0aGJlcm5AcXVpY2luYy5jb20+CkNv
LWF1dGhvcmVkLWJ5OiBEYW1pZW4gSGVkZGUgPGRhbWllbi5oZWRkZUBkYWhlLmZyPgpTaWduZWQt
b2ZmLWJ5OiBCcmlhbiBDYWluIDxicmlhbi5jYWluQG9zcy5xdWFsY29tbS5jb20+Ci0tLQogTUFJ
TlRBSU5FUlMgICAgICAgICAgICAgICAgICAgIHwgICAyICsKIGRvY3MvZGV2ZWwvaGV4YWdvbi1s
MnZpYy5yc3QgICB8ICA1OSArKysrKwogZG9jcy9kZXZlbC9pbmRleC1pbnRlcm5hbHMucnN0IHwg
ICAxICsKIGluY2x1ZGUvaHcvaW50Yy9sMnZpYy5oICAgICAgICB8ICAzNyArKysKIGh3L2ludGMv
bDJ2aWMuYyAgICAgICAgICAgICAgICB8IDQxNyArKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysKIGh3L2ludGMvS2NvbmZpZyAgICAgICAgICAgICAgICB8ICAgMyArCiBody9pbnRjL21l
c29uLmJ1aWxkICAgICAgICAgICAgfCAgIDIgKwogaHcvaW50Yy90cmFjZS1ldmVudHMgICAgICAg
ICAgIHwgICA0ICsKIDggZmlsZXMgY2hhbmdlZCwgNTI1IGluc2VydGlvbnMoKykKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBkb2NzL2RldmVsL2hleGFnb24tbDJ2aWMucnN0CiBjcmVhdGUgbW9kZSAxMDA2
NDQgaW5jbHVkZS9ody9pbnRjL2wydmljLmgKIGNyZWF0ZSBtb2RlIDEwMDY0NCBody9pbnRjL2wy
dmljLmMKCmRpZmYgLS1naXQgYS9NQUlOVEFJTkVSUyBiL01BSU5UQUlORVJTCmluZGV4IDgwNGMw
N2JjZDUuLmE4NDJmN2ZlMWIgMTAwNjQ0Ci0tLSBhL01BSU5UQUlORVJTCisrKyBiL01BSU5UQUlO
RVJTCkBAIC0yMzIsNiArMjMyLDcgQEAgSGV4YWdvbiBUQ0cgQ1BVcwogTTogQnJpYW4gQ2FpbiA8
YnJpYW4uY2FpbkBvc3MucXVhbGNvbW0uY29tPgogUzogU3VwcG9ydGVkCiBGOiB0YXJnZXQvaGV4
YWdvbi8KK0Y6IGh3L2ludGMvbDJ2aWMuW2NoXQogWDogdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJz
ZXIvCiBYOiB0YXJnZXQvaGV4YWdvbi9nZW5faWRlZl9wYXJzZXJfZnVuY3MucHkKIEY6IGxpbnV4
LXVzZXIvaGV4YWdvbi8KQEAgLTI0Miw2ICsyNDMsNyBAQCBGOiBkb2NrZXIvZG9ja2VyZmlsZXMv
ZGViaWFuLWhleGFnb24tY3Jvc3MuZG9ja2VyCiBGOiBnZGIteG1sL2hleGFnb24qLnhtbAogRjog
ZG9jcy9zeXN0ZW0vdGFyZ2V0LWhleGFnb24ucnN0CiBGOiBkb2NzL2RldmVsL2hleGFnb24tc3lz
LnJzdAorRjogZG9jcy9kZXZlbC9oZXhhZ29uLWwydmljLnJzdAogVDogZ2l0IGh0dHBzOi8vZ2l0
aHViLmNvbS9xdWljL3FlbXUuZ2l0IGhleC1uZXh0CiAKIEhleGFnb24gaWRlZi1wYXJzZXIKZGlm
ZiAtLWdpdCBhL2RvY3MvZGV2ZWwvaGV4YWdvbi1sMnZpYy5yc3QgYi9kb2NzL2RldmVsL2hleGFn
b24tbDJ2aWMucnN0Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAuLjA4ODU2
MzYyNzQKLS0tIC9kZXYvbnVsbAorKysgYi9kb2NzL2RldmVsL2hleGFnb24tbDJ2aWMucnN0CkBA
IC0wLDAgKzEsNTkgQEAKK0hleGFnb24gTDIgVmVjdG9yZWQgSW50ZXJydXB0IENvbnRyb2xsZXIK
Kz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKworCisuLiBjb2RlLWJs
b2NrOjogbm9uZQorCisgICAgICAgICAgICAgICstLS0tLS0tKworICAgICAgICAgICAgICB8ICAg
ICAgIHwgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0rCisgICAgICAgICAgICAgIHwgbDJ2
aWMgfCAgICAgICAgICAgICB8ICBoZXhhZ29uIGNvcmUgIHwKKyAgICAgICAgICAgICAgfCAgICAg
ICB8ICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfAorICAgICAgICAgICAgICB8ICstLS0t
LXwgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICB8CisgICAgICAgIC0tLS0tLT4gfFZJRDAg
Pi0tLS0tLS0tLS0tLS0+aXJxMiAtXCAgICAgICAgIHwKKyAgICAgICAgLS0tLS0tPiB8ICAgICB8
ICAgICAgICAgICAgIHwgICAgICB8ICAgICAgICAgfAorICAgICAgICAgLi4uICA+IHwgICAgIHwg
ICAgICAgICAgICAgfCAgICAgIHwgICAgICAgICB8CisgICAgICAgIC0tLS0tLT4gfCAgICAgfCAg
ICAgICAgICAgICB8IDxpbnQgc3RlZXJpbmc+IHwKKyAgICAgICAgICAgICAgfCArLS0tLS18ICAg
ICAgICAgICAgIHwgICAvIHwgIHwgXCAgICAgfAorICAgICAgICAgICAgICB8ICAuLi4gIHwgICAg
ICAgICAgICAgfCAgfCAgfCAgfCAgfCAgICB8CisgICAgICAgICAgICAgIHwgKy0tLS0tfCAgICAg
ICAgICAgICB8IHQwIHQxIHQyIHQzIC4uLnwKKyAgICAgICAgLS0tLS0tPiB8VklETiB8ICAgICAg
ICAgICAgIHwgICAgICAgICAgICAgICAgfAorICAgICAgICAtLS0tLS0+IHwgICAgIHwgICAgICAg
ICAgICAgfCAgICAgICAgICAgICAgICB8CisgICAgICAgIC0tLS0tLT4gfCAgICAgfCAgICAgICAg
ICAgICB8ICAgICAgICAgICAgICAgIHwKKyAgICAgICAgLS0tLS0tPiB8ICAgICB8ICAgICAgICAg
ICAgIHwgICAgICAgICAgICAgICAgfAorICAgICAgICAgICAgICB8ICstLS0tLXwgICAgICAgICAg
ICAgfCAgICAgICAgICAgICAgICB8CisgICAgICAgICAgICAgIHwgICAgICAgfCAgICAgICAgICAg
ICB8R2xvYmFsIFNSRUcgRmlsZXwKKyAgICAgICAgICAgICAgfCBTdGF0ZSB8ICAgICAgICAgICAg
IHwgICAgICAgICAgICAgICAgfAorICAgICAgICAgICAgICB8IFsgICAgXXw8PT09PT09PT09PT09
fD0+W1ZJRCBdICAgICAgICB8CisgICAgICAgICAgICAgIHwgWyAgICBdfDw9PT09PT09PT09PT18
PT5bVklEMV0gICAgICAgIHwKKyAgICAgICAgICAgICAgfCBbICAgIF18ICAgICAgICAgICAgIHwg
ICAgICAgICAgICAgICAgfAorICAgICAgICAgICAgICB8IFsgICAgXXwgICAgICAgICAgICAgfCAg
ICAgICAgICAgICAgICB8CisgICAgICAgICAgICAgIHwgICAgICAgfCAgICAgICAgICAgICB8ICAg
ICAgICAgICAgICAgIHwKKyAgICAgICAgICAgICAgKy0tLS0tLS0rICAgICAgICAgICAgICstLS0t
LS0tLS0tLS0tLS0tKworCitMMlZJQy9Db3JlIEludGVncmF0aW9uCistLS0tLS0tLS0tLS0tLS0t
LS0tLS0tCisKKyogaGV4YWdvbiBjb3JlIHN1cHBvcnRzIDggZXh0ZXJuYWwgaW50ZXJydXB0IHNv
dXJjZXMKKyogbDJ2aWMgc3VwcG9ydHMgMTAyNCBpbnB1dCBpbnRlcnJ1cHRzIG1hcHBlZCBhbW9u
ZyA0IG91dHB1dCBpbnRlcnJ1cHRzCisqIGwydmljIGhhcyBmb3VyIG91dHB1dCBzaWduYWxzOiB7
IFZJRDAsIFZJRDEsIFZJRDIsIFZJRDMgfQorKiBsMnZpYyBkZXZpY2UgaGFzIGEgYmFuayBvZiBy
ZWdpc3RlcnMgcGVyLVZJRCB0aGF0IGNhbiBiZSB1c2VkIHRvIHF1ZXJ5CisgIHRoZSBzdGF0dXMg
b3IgYXNzZXJ0IG5ldyBpbnRlcnJ1cHRzLgorKiBJbnRlcnJ1cHRzIGFyZSAnc3RlZXJlZCcgdG8g
dGhyZWFkcyBiYXNlZCBvbiB7IHRocmVhZCBwcmlvcml0eSwgJ0VYJyBzdGF0ZSwKKyAgdGhyZWFk
IGludGVycnVwdCBtYXNrLCB0aHJlYWQgaW50ZXJydXB0IGVuYWJsZSwgZ2xvYmFsIGludGVycnVw
dCBlbmFibGUsCisgIGV0Yy4gfS4KKyogQW55IGhhcmR3YXJlIHRocmVhZCBjb3VsZCBjb25jZWl2
YWJseSBoYW5kbGUgYW55IGlucHV0IGludGVycnVwdCwgZGVwZW5kZW50CisgIG9uIHN0YXRlLgor
KiBUaGUgc3lzdGVtIHJlZ2lzdGVyIHRyYW5zZmVyIGluc3RydWN0aW9uIGNhbiByZWFkIHRoZSBW
SUQwLVZJRDMgdmFsdWVzIGZyb20KKyAgdGhlIGwydmljIHdoZW4gcmVhZGluZyBmcm9tIGhleGFn
b24gY29yZSBzeXN0ZW0gcmVnaXN0ZXJzICJWSUQiIGFuZCAiVklEMSIuCisqIFdoZW4gbDJ2aWMg
VklEMCBoYXMgbXVsdGlwbGUgYWN0aXZlIGludGVycnVwdHMsIGl0IHB1bHNlcyB0aGUgVklEMCBv
dXRwdXQKKyAgSVJRIGFuZCBzdG9yZXMgdGhlIElSUSBudW1iZXIgZm9yIHRoZSBWSUQwIHJlZ2lz
dGVyIGZpZWxkLiAgT25seSBhZnRlciB0aGlzCisgIGludGVycnVwdCBpcyBjbGVhcmVkIGNhbiB0
aGUgbDJ2aWMgcHVsc2UgdGhlIFZJRDAgb3V0cHV0IElSUSBhZ2FpbiBhbmQgcHJvdmlkZQorICB0
aGUgbmV4dCBpbnRlcnJ1cHQgbnVtYmVyIG9uIHRoZSBWSUQwIHJlZ2lzdGVyLgorKiBUaGUgYGBj
aWFkYGAgaW5zdHJ1Y3Rpb24gY2xlYXJzIHRoZSBsMnZpYyBpbnB1dCBpbnRlcnJ1cHQgYW5kIHVu
LWRpc2FibGVzIHRoZQorICBjb3JlIGludGVycnVwdC4gIElmIHNvbWUvYW4gbDJ2aWMgVklEMCBp
bnRlcnJ1cHQgaXMgcGVuZGluZyB3aGVuIHRoaXMgb2NjdXJzLAorICB0aGUgbmV4dCBpbnRlcnJ1
cHQgc2hvdWxkIGZpcmUgYW5kIGFueSBzdWJzZXFldW50IHJlYWRzIG9mIHRoZSBWSUQgcmVnaXN0
ZXIKKyAgc2hvdWxkIHJlZmxlY3QgdGhlIG5ld2x5IHJhaXNlZCBpbnRlcnJ1cHQuCisqIEluIFFF
TVUsIG9uIGFuIGV4dGVybmFsIGludGVycnVwdCBvciBhbiB1bm1hc2tlZC1wZW5kaW5nIGludGVy
cnVwdCwKKyAgYWxsIHZDUFVzIGFyZSB0cmlnZ2VyZWQgKGhhc193b3JrPT10cnVlKSBhbmQgZWFj
aCB3aWxsIGdyYWIgdGhlIElPIGxvY2sKKyAgd2hpbGUgY29uc2lkZXJpbmcgdGhlIHN0ZWVyaW5n
IGxvZ2ljIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXkncmUgdGhlIHRocmVhZAorICB0aGF0IG11
c3QgaGFuZGxlIHRoZSBpbnRlcnJ1cHQuCmRpZmYgLS1naXQgYS9kb2NzL2RldmVsL2luZGV4LWlu
dGVybmFscy5yc3QgYi9kb2NzL2RldmVsL2luZGV4LWludGVybmFscy5yc3QKaW5kZXggMjcyNTlh
NTUyYy4uMzU5NThmMWMyMyAxMDA2NDQKLS0tIGEvZG9jcy9kZXZlbC9pbmRleC1pbnRlcm5hbHMu
cnN0CisrKyBiL2RvY3MvZGV2ZWwvaW5kZXgtaW50ZXJuYWxzLnJzdApAQCAtMTUsNiArMTUsNyBA
QCBEZXRhaWxzIGFib3V0IFFFTVUncyB2YXJpb3VzIHN1YnN5c3RlbXMgaW5jbHVkaW5nIGhvdyB0
byBhZGQgZmVhdHVyZXMgdG8gdGhlbS4KICAgIGNsb2NrcwogICAgZWJwZl9yc3MKICAgIGhleGFn
b24tc3lzCisgICBoZXhhZ29uLWwydmljCiAgICBtaWdyYXRpb24vaW5kZXgKICAgIG11bHRpLXBy
b2Nlc3MKICAgIHJlc2V0CmRpZmYgLS1naXQgYS9pbmNsdWRlL2h3L2ludGMvbDJ2aWMuaCBiL2lu
Y2x1ZGUvaHcvaW50Yy9sMnZpYy5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAw
MDAuLmVkOGNjZjMzYjEKLS0tIC9kZXYvbnVsbAorKysgYi9pbmNsdWRlL2h3L2ludGMvbDJ2aWMu
aApAQCAtMCwwICsxLDM3IEBACisvKgorICogUUVNVSBMMlZJQyBJbnRlcnJ1cHQgQ29udHJvbGxl
cgorICoKKyAqIENvcHlyaWdodChjKSAyMDIwLTIwMjUgUXVhbGNvbW0gSW5ub3ZhdGlvbiBDZW50
ZXIsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KKyAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wLW9yLWxhdGVyCisgKi8KKworI2RlZmluZSBMMlZJQ19WSURfR1JQXzAgMHgwIC8q
IFJlYWQgKi8KKyNkZWZpbmUgTDJWSUNfVklEX0dSUF8xIDB4NCAvKiBSZWFkICovCisjZGVmaW5l
IEwyVklDX1ZJRF9HUlBfMiAweDggLyogUmVhZCAqLworI2RlZmluZSBMMlZJQ19WSURfR1JQXzMg
MHhDIC8qIFJlYWQgKi8KKyNkZWZpbmUgTDJWSUNfVklEXzAgMHgxMCAvKiBSZWFkIFNPRlRXQVJF
IERFRklORUQgKi8KKyNkZWZpbmUgTDJWSUNfVklEXzEgMHgxNCAvKiBSZWFkIFNPRlRXQVJFIERF
RklORUQgTk9UIFlFVCBVU0VEICovCisjZGVmaW5lIEwyVklDX0lOVF9FTkFCTEVuIDB4MTAwIC8q
IFJlYWQvV3JpdGUgKi8KKyNkZWZpbmUgTDJWSUNfSU5UX0VOQUJMRV9DTEVBUm4gMHgxODAgLyog
V3JpdGUgKi8KKyNkZWZpbmUgTDJWSUNfSU5UX0VOQUJMRV9TRVRuIDB4MjAwIC8qIFdyaXRlICov
CisjZGVmaW5lIEwyVklDX0lOVF9UWVBFbiAweDI4MCAvKiBSZWFkL1dyaXRlICovCisjZGVmaW5l
IEwyVklDX0lOVF9TVEFUVVNuIDB4MzgwIC8qIFJlYWQgKi8KKyNkZWZpbmUgTDJWSUNfSU5UX0NM
RUFSbiAweDQwMCAvKiBXcml0ZSAqLworI2RlZmluZSBMMlZJQ19TT0ZUX0lOVG4gMHg0ODAgLyog
V3JpdGUgKi8KKyNkZWZpbmUgTDJWSUNfSU5UX1BFTkRJTkduIDB4NTAwIC8qIFJlYWQgKi8KKyNk
ZWZpbmUgTDJWSUNfSU5UX0dSUG5fMCAweDYwMCAvKiBSZWFkL1dyaXRlICovCisjZGVmaW5lIEwy
VklDX0lOVF9HUlBuXzEgMHg2ODAgLyogUmVhZC9Xcml0ZSAqLworI2RlZmluZSBMMlZJQ19JTlRf
R1JQbl8yIDB4NzAwIC8qIFJlYWQvV3JpdGUgKi8KKyNkZWZpbmUgTDJWSUNfSU5UX0dSUG5fMyAw
eDc4MCAvKiBSZWFkL1dyaXRlICovCisKKyNkZWZpbmUgTDJWSUNfSU5URVJSVVBUX01BWCAxMDI0
CisjZGVmaW5lIEwyVklDX0NJQURfSU5TVFJVQ1RJT04gLTEKKy8qCisgKiBOb3RlIGFib3V0IGwy
dmljIGdyb3VwczoKKyAqIEVhY2ggaW50ZXJydXB0IHRvIEwyVklDIGNhbiBiZSBjb25maWd1cmVk
IHRvIGFzc29jaWF0ZSB3aXRoIG9uZSBvZgorICogZm91ciBncm91cHMuCisgKiBHcm91cCAwIGlu
dGVycnVwdHMgZ28gdG8gSVJRMiB2aWEgVklEIDAgKFNTUjogMHhDMiwgdGhlIGRlZmF1bHQpCisg
KiBHcm91cCAxIGludGVycnVwdHMgZ28gdG8gSVJRMyB2aWEgVklEIDEgKFNTUjogMHhDMykKKyAq
IEdyb3VwIDIgaW50ZXJydXB0cyBnbyB0byBJUlE0IHZpYSBWSUQgMiAoU1NSOiAweEM0KQorICog
R3JvdXAgMyBpbnRlcnJ1cHRzIGdvIHRvIElSUTUgdmlhIFZJRCAzIChTU1I6IDB4QzUpCisgKi8K
ZGlmZiAtLWdpdCBhL2h3L2ludGMvbDJ2aWMuYyBiL2h3L2ludGMvbDJ2aWMuYwpuZXcgZmlsZSBt
b2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwLi45ZGY2NTc1MjE0Ci0tLSAvZGV2L251bGwKKysr
IGIvaHcvaW50Yy9sMnZpYy5jCkBAIC0wLDAgKzEsNDE3IEBACisvKgorICogUUVNVSBMMlZJQyBJ
bnRlcnJ1cHQgQ29udHJvbGxlcgorICoKKyAqIEFybSBQcmltZUNlbGwgUEwxOTAgVmVjdG9yIElu
dGVycnVwdCBDb250cm9sbGVyIHdhcyB1c2VkIGFzIGEgcmVmZXJlbmNlLgorICogQ29weXJpZ2h0
KGMpIDIwMjAtMjAyNSBRdWFsY29tbSBJbm5vdmF0aW9uIENlbnRlciwgSW5jLiBBbGwgUmlnaHRz
IFJlc2VydmVkLgorICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIK
KyAqLworCisjaW5jbHVkZSAicWVtdS9vc2RlcC5oIgorI2luY2x1ZGUgImh3L2lycS5oIgorI2lu
Y2x1ZGUgImh3L3N5c2J1cy5oIgorI2luY2x1ZGUgIm1pZ3JhdGlvbi92bXN0YXRlLmgiCisjaW5j
bHVkZSAicWVtdS9sb2cuaCIKKyNpbmNsdWRlICJxZW11L21vZHVsZS5oIgorI2luY2x1ZGUgImh3
L2ludGMvbDJ2aWMuaCIKKyNpbmNsdWRlICJ0cmFjZS5oIgorCisjZGVmaW5lIEwyVklDQShzLCBu
KSAoc1sobikgPj4gMl0pCisKKyNkZWZpbmUgVFlQRV9MMlZJQyAibDJ2aWMiCisjZGVmaW5lIEwy
VklDKG9iaikgT0JKRUNUX0NIRUNLKEwyVklDU3RhdGUsIChvYmopLCBUWVBFX0wyVklDKQorCisj
ZGVmaW5lIFNMSUNFX01BWCAoTDJWSUNfSU5URVJSVVBUX01BWCAvIDMyKQorCit0eXBlZGVmIHN0
cnVjdCBMMlZJQ1N0YXRlIHsKKyAgICBTeXNCdXNEZXZpY2UgcGFyZW50X29iajsKKworICAgIFFl
bXVNdXRleCBhY3RpdmU7CisgICAgTWVtb3J5UmVnaW9uIGlvbWVtOworICAgIE1lbW9yeVJlZ2lv
biBmYXN0X2lvbWVtOworICAgIHVpbnQzMl90IGxldmVsOworICAgIC8qCisgICAgICogb2Zmc2V0
IDA6dmlkIGdyb3VwIDAgZXRjLCAxMCBiaXRzIGluIGVhY2ggZ3JvdXAKKyAgICAgKiBhcmUgdXNl
ZDoKKyAgICAgKi8KKyAgICB1aW50MzJfdCB2aWRfZ3JvdXBbNF07CisgICAgdWludDMyX3Qgdmlk
MDsKKyAgICAvKiBDbGVhciBTdGF0dXMgb2YgQWN0aXZlIEVkZ2UgaW50ZXJydXB0LCBub3QgdXNl
ZDogKi8KKyAgICB1aW50MzJfdCBpbnRfY2xlYXJbU0xJQ0VfTUFYXSBRRU1VX0FMSUdORUQoMTYp
OworICAgIC8qIEVuYWJsZSBpbnRlcnJ1cHQgc291cmNlICovCisgICAgdWludDMyX3QgaW50X2Vu
YWJsZVtTTElDRV9NQVhdIFFFTVVfQUxJR05FRCgxNik7CisgICAgLyogQ2xlYXIgKHNldCB0byAw
KSBjb3JyZXNwb25kaW5nIGJpdCBpbiBpbnRfZW5hYmxlICovCisgICAgdWludDMyX3QgaW50X2Vu
YWJsZV9jbGVhcjsKKyAgICAvKiBTZXQgKHRvIDEpIGNvcnJlc3BvbmRpbmcgYml0IGluIGludF9l
bmFibGUgKi8KKyAgICB1aW50MzJfdCBpbnRfZW5hYmxlX3NldDsKKyAgICAvKiBQcmVzZW50IGZv
ciBkZWJ1Z2dpbmcsIG5vdCB1c2VkICovCisgICAgdWludDMyX3QgaW50X3BlbmRpbmdbU0xJQ0Vf
TUFYXSBRRU1VX0FMSUdORUQoMTYpOworICAgIC8qIEdlbmVyYXRlIGFuIGludGVycnVwdCAqLwor
ICAgIHVpbnQzMl90IGludF9zb2Z0OworICAgIC8qIFdoaWNoIGVuYWJsZWQgaW50ZXJydXB0IGlz
IGFjdGl2ZSAqLworICAgIHVpbnQzMl90IGludF9zdGF0dXNbU0xJQ0VfTUFYXSBRRU1VX0FMSUdO
RUQoMTYpOworICAgIC8qIEVkZ2Ugb3IgTGV2ZWwgaW50ZXJydXB0ICovCisgICAgdWludDMyX3Qg
aW50X3R5cGVbU0xJQ0VfTUFYXSBRRU1VX0FMSUdORUQoMTYpOworICAgIC8qIEwyIGludGVycnVw
dCBncm91cCAwLTMgMHg2MDAtMHg3RkYgKi8KKyAgICB1aW50MzJfdCBpbnRfZ3JvdXBfbjBbU0xJ
Q0VfTUFYXSBRRU1VX0FMSUdORUQoMTYpOworICAgIHVpbnQzMl90IGludF9ncm91cF9uMVtTTElD
RV9NQVhdIFFFTVVfQUxJR05FRCgxNik7CisgICAgdWludDMyX3QgaW50X2dyb3VwX24yW1NMSUNF
X01BWF0gUUVNVV9BTElHTkVEKDE2KTsKKyAgICB1aW50MzJfdCBpbnRfZ3JvdXBfbjNbU0xJQ0Vf
TUFYXSBRRU1VX0FMSUdORUQoMTYpOworICAgIHFlbXVfaXJxIGlycVs4XTsKK30gTDJWSUNTdGF0
ZTsKKworCisvKgorICogRmluZCBvdXQgaWYgdGhpcyBpcnEgaXMgYXNzb2NpYXRlZCB3aXRoIGEg
Z3JvdXAgb3RoZXIgdGhhbgorICogdGhlIGRlZmF1bHQgZ3JvdXAKKyAqLworc3RhdGljIHVpbnQz
Ml90ICpnZXRfaW50X2dyb3VwKEwyVklDU3RhdGUgKnMsIGludCBpcnEpCit7CisgICAgaW50IG4g
PSBpcnEgJiAweDFmOworICAgIGlmIChuIDwgOCkgeworICAgICAgICByZXR1cm4gcy0+aW50X2dy
b3VwX24wOworICAgIH0KKyAgICBpZiAobiA8IDE2KSB7CisgICAgICAgIHJldHVybiBzLT5pbnRf
Z3JvdXBfbjE7CisgICAgfQorICAgIGlmIChuIDwgMjQpIHsKKyAgICAgICAgcmV0dXJuIHMtPmlu
dF9ncm91cF9uMjsKKyAgICB9CisgICAgcmV0dXJuIHMtPmludF9ncm91cF9uMzsKK30KKworc3Rh
dGljIGludCBmaW5kX3NsaWNlKGludCBpcnEpCit7CisgICAgcmV0dXJuIGlycSAvIDMyOworfQor
CitzdGF0aWMgaW50IGdldF92aWQoTDJWSUNTdGF0ZSAqcywgaW50IGlycSkKK3sKKyAgICB1aW50
MzJfdCAqZ3JvdXAgPSBnZXRfaW50X2dyb3VwKHMsIGlycSk7CisgICAgdWludDMyX3Qgc2xpY2Ug
PSBncm91cFtmaW5kX3NsaWNlKGlycSldOworICAgIC8qIE1hc2sgd2l0aCAweDcgdG8gcmVtb3Zl
IHRoZSBHUlA6RU4gYml0ICovCisgICAgdWludDMyX3QgdmFsID0gc2xpY2UgPj4gKChpcnEgJiAw
eDcpICogNCk7CisgICAgaWYgKHZhbCAmIDB4OCkgeworICAgICAgICByZXR1cm4gdmFsICYgMHg3
OworICAgIH0gZWxzZSB7CisgICAgICAgIHJldHVybiAwOworICAgIH0KK30KKworc3RhdGljIGlu
bGluZSBib29sIHZpZF9hY3RpdmUoTDJWSUNTdGF0ZSAqcykKKworeworICAgIC8qIHNjYW4gYWxs
IDEwMjQgYml0cyBpbiBpbnRfc3RhdHVzIGFycmFyeSAqLworICAgIGNvbnN0IGludCBzaXplID0g
c2l6ZW9mKHMtPmludF9zdGF0dXMpICogQ0hBUl9CSVQ7CisgICAgY29uc3QgaW50IGFjdGl2ZV9p
cnEgPSBmaW5kX2ZpcnN0X2JpdCgodW5zaWduZWQgbG9uZyAqKXMtPmludF9zdGF0dXMsIHNpemUp
OworICAgIHJldHVybiAoKGFjdGl2ZV9pcnEgIT0gc2l6ZSkpID8gdHJ1ZSA6IGZhbHNlOworfQor
CitzdGF0aWMgYm9vbCBsMnZpY191cGRhdGUoTDJWSUNTdGF0ZSAqcywgaW50IGlycSkKK3sKKyAg
ICBpZiAodmlkX2FjdGl2ZShzKSkgeworICAgICAgICByZXR1cm4gdHJ1ZTsKKyAgICB9CisKKyAg
ICBib29sIHBlbmRpbmcgPSB0ZXN0X2JpdChpcnEsICh1bnNpZ25lZCBsb25nICopcy0+aW50X3Bl
bmRpbmcpOworICAgIGJvb2wgZW5hYmxlID0gdGVzdF9iaXQoaXJxLCAodW5zaWduZWQgbG9uZyAq
KXMtPmludF9lbmFibGUpOworICAgIGlmIChwZW5kaW5nICYmIGVuYWJsZSkgeworICAgICAgICBp
bnQgdmlkID0gZ2V0X3ZpZChzLCBpcnEpOworICAgICAgICBzZXRfYml0KGlycSwgKHVuc2lnbmVk
IGxvbmcgKilzLT5pbnRfc3RhdHVzKTsKKyAgICAgICAgY2xlYXJfYml0KGlycSwgKHVuc2lnbmVk
IGxvbmcgKilzLT5pbnRfcGVuZGluZyk7CisgICAgICAgIGNsZWFyX2JpdChpcnEsICh1bnNpZ25l
ZCBsb25nICopcy0+aW50X2VuYWJsZSk7CisgICAgICAgIC8qIGVuc3VyZSB0aGUgaXJxIGxpbmUg
Z29lcyBsb3cgYWZ0ZXIgZ29pbmcgaGlnaCAqLworICAgICAgICBzLT52aWQwID0gaXJxOworICAg
ICAgICBzLT52aWRfZ3JvdXBbZ2V0X3ZpZChzLCBpcnEpXSA9IGlycTsKKworICAgICAgICAvKiBh
bHJlYWR5IGxvdzogbm93IGNhbGwgcHVsc2UgKi8KKyAgICAgICAgLyogICAgIHB1bHNlOiBjYWxs
cyBxZW11X3VwcGVyKCkgYW5kIHRoZW4gcWVtdV9sb3dlcigpKSAqLworICAgICAgICBxZW11X2ly
cV9wdWxzZShzLT5pcnFbdmlkICsgMl0pOworICAgICAgICB0cmFjZV9sMnZpY19kZWxpdmVyZWQo
aXJxLCB2aWQpOworICAgICAgICByZXR1cm4gdHJ1ZTsKKyAgICB9CisgICAgcmV0dXJuIGZhbHNl
OworfQorCitzdGF0aWMgdm9pZCBsMnZpY191cGRhdGVfYWxsKEwyVklDU3RhdGUgKnMpCit7Cisg
ICAgZm9yIChpbnQgaSA9IDA7IGkgPCBMMlZJQ19JTlRFUlJVUFRfTUFYOyBpKyspIHsKKyAgICAg
ICAgaWYgKGwydmljX3VwZGF0ZShzLCBpKSA9PSB0cnVlKSB7CisgICAgICAgICAgICAvKiBvbmNl
IHZpZCBpcyBhY3RpdmUsIG5vLW9uZSBlbHNlIGNhbiBzZXQgaXQgdW50aWwgY2lhZCAqLworICAg
ICAgICAgICAgcmV0dXJuOworICAgICAgICB9CisgICAgfQorfQorCitzdGF0aWMgdm9pZCBsMnZp
Y19zZXRfaXJxKHZvaWQgKm9wYXF1ZSwgaW50IGlycSwgaW50IGxldmVsKQoreworICAgIEwyVklD
U3RhdGUgKnMgPSAoTDJWSUNTdGF0ZSAqKW9wYXF1ZTsKKyAgICBpZiAobGV2ZWwpIHsKKyAgICAg
ICAgcWVtdV9tdXRleF9sb2NrKCZzLT5hY3RpdmUpOworICAgICAgICBzZXRfYml0KGlycSwgKHVu
c2lnbmVkIGxvbmcgKilzLT5pbnRfcGVuZGluZyk7CisgICAgICAgIHFlbXVfbXV0ZXhfdW5sb2Nr
KCZzLT5hY3RpdmUpOworICAgIH0KKyAgICBsMnZpY191cGRhdGUocywgaXJxKTsKK30KKworc3Rh
dGljIHZvaWQgbDJ2aWNfd3JpdGUodm9pZCAqb3BhcXVlLCBod2FkZHIgb2Zmc2V0LCB1aW50NjRf
dCB2YWwsCisgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBzaXplKQoreworICAgIEwy
VklDU3RhdGUgKnMgPSAoTDJWSUNTdGF0ZSAqKW9wYXF1ZTsKKyAgICBxZW11X211dGV4X2xvY2so
JnMtPmFjdGl2ZSk7CisgICAgdHJhY2VfbDJ2aWNfcmVnX3dyaXRlKCh1bnNpZ25lZClvZmZzZXQs
ICh1aW50MzJfdCl2YWwpOworCisgICAgaWYgKG9mZnNldCA9PSBMMlZJQ19WSURfMCkgeworICAg
ICAgICBpZiAoKGludCl2YWwgIT0gTDJWSUNfQ0lBRF9JTlNUUlVDVElPTikgeworICAgICAgICAg
ICAgcy0+dmlkMCA9IHZhbDsKKyAgICAgICAgfSBlbHNlIHsKKyAgICAgICAgICAgIC8qIGNpYWQg
aXNzdWVkOiBjbGVhciBpbnRfc3RhdHVzICovCisgICAgICAgICAgICBjbGVhcl9iaXQocy0+dmlk
MCwgKHVuc2lnbmVkIGxvbmcgKilzLT5pbnRfc3RhdHVzKTsKKyAgICAgICAgfQorICAgIH0gZWxz
ZSBpZiAob2Zmc2V0ID49IEwyVklDX0lOVF9FTkFCTEVuICYmCisgICAgICAgICAgICAgICBvZmZz
ZXQgPCAoTDJWSUNfSU5UX0VOQUJMRV9DTEVBUm4pKSB7CisgICAgICAgIEwyVklDQShzLT5pbnRf
ZW5hYmxlLCBvZmZzZXQgLSBMMlZJQ19JTlRfRU5BQkxFbikgPSB2YWw7CisgICAgfSBlbHNlIGlm
IChvZmZzZXQgPj0gTDJWSUNfSU5UX0VOQUJMRV9DTEVBUm4gJiYKKyAgICAgICAgICAgICAgIG9m
ZnNldCA8IEwyVklDX0lOVF9FTkFCTEVfU0VUbikgeworICAgICAgICBMMlZJQ0Eocy0+aW50X2Vu
YWJsZSwgb2Zmc2V0IC0gTDJWSUNfSU5UX0VOQUJMRV9DTEVBUm4pICY9IH52YWw7CisgICAgfSBl
bHNlIGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX0VOQUJMRV9TRVRuICYmIG9mZnNldCA8IEwyVklD
X0lOVF9UWVBFbikgeworICAgICAgICBMMlZJQ0Eocy0+aW50X2VuYWJsZSwgb2Zmc2V0IC0gTDJW
SUNfSU5UX0VOQUJMRV9TRVRuKSB8PSB2YWw7CisgICAgfSBlbHNlIGlmIChvZmZzZXQgPj0gTDJW
SUNfSU5UX1RZUEVuICYmIG9mZnNldCA8IEwyVklDX0lOVF9UWVBFbiArIDB4ODApIHsKKyAgICAg
ICAgTDJWSUNBKHMtPmludF90eXBlLCBvZmZzZXQgLSBMMlZJQ19JTlRfVFlQRW4pID0gdmFsOwor
ICAgIH0gZWxzZSBpZiAob2Zmc2V0ID49IEwyVklDX0lOVF9TVEFUVVNuICYmIG9mZnNldCA8IEwy
VklDX0lOVF9DTEVBUm4pIHsKKyAgICAgICAgTDJWSUNBKHMtPmludF9zdGF0dXMsIG9mZnNldCAt
IEwyVklDX0lOVF9TVEFUVVNuKSA9IHZhbDsKKyAgICB9IGVsc2UgaWYgKG9mZnNldCA+PSBMMlZJ
Q19JTlRfQ0xFQVJuICYmIG9mZnNldCA8IEwyVklDX1NPRlRfSU5UbikgeworICAgICAgICBMMlZJ
Q0Eocy0+aW50X2NsZWFyLCBvZmZzZXQgLSBMMlZJQ19JTlRfQ0xFQVJuKSA9IHZhbDsKKyAgICB9
IGVsc2UgaWYgKG9mZnNldCA+PSBMMlZJQ19JTlRfUEVORElOR24gJiYKKyAgICAgICAgICAgICAg
IG9mZnNldCA8IEwyVklDX0lOVF9QRU5ESU5HbiArIDB4ODApIHsKKyAgICAgICAgTDJWSUNBKHMt
PmludF9wZW5kaW5nLCBvZmZzZXQgLSBMMlZJQ19JTlRfUEVORElOR24pID0gdmFsOworICAgIH0g
ZWxzZSBpZiAob2Zmc2V0ID49IEwyVklDX1NPRlRfSU5UbiAmJiBvZmZzZXQgPCBMMlZJQ19JTlRf
UEVORElOR24pIHsKKyAgICAgICAgTDJWSUNBKHMtPmludF9lbmFibGUsIG9mZnNldCAtIEwyVklD
X1NPRlRfSU5UbikgfD0gdmFsOworICAgICAgICAvKgorICAgICAgICAgKiAgTmVlZCB0byByZXZl
cnNlIGVuZ2luZWVyIHRoZSBhY3R1YWwgaXJxIG51bWJlci4KKyAgICAgICAgICovCisgICAgICAg
IGludCBpcnEgPSBmaW5kX2ZpcnN0X2JpdCgodW5zaWduZWQgbG9uZyAqKSZ2YWwsCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplb2Yocy0+aW50X2VuYWJsZVswXSkgKiBDSEFS
X0JJVCk7CisgICAgICAgIGh3YWRkciBieXRlb2Zmc2V0ID0gb2Zmc2V0IC0gTDJWSUNfU09GVF9J
TlRuOworICAgICAgICBnX2Fzc2VydChpcnEgIT0gc2l6ZW9mKHMtPmludF9lbmFibGVbMF0pICog
Q0hBUl9CSVQpOworICAgICAgICBpcnEgKz0gYnl0ZW9mZnNldCAqIDg7CisKKyAgICAgICAgLyog
VGhlIHNvZnQtaW50IGludGVyZmFjZSBvbmx5IHdvcmtzIHdpdGggZWRnZS10cmlnZ2VyZWQgaW50
ZXJydXB0cyAqLworICAgICAgICBpZiAodGVzdF9iaXQoaXJxLCAodW5zaWduZWQgbG9uZyAqKXMt
PmludF90eXBlKSkgeworICAgICAgICAgICAgcWVtdV9tdXRleF91bmxvY2soJnMtPmFjdGl2ZSk7
CisgICAgICAgICAgICBsMnZpY19zZXRfaXJxKG9wYXF1ZSwgaXJxLCAxKTsKKyAgICAgICAgICAg
IHFlbXVfbXV0ZXhfbG9jaygmcy0+YWN0aXZlKTsKKyAgICAgICAgfQorICAgIH0gZWxzZSBpZiAo
b2Zmc2V0ID49IEwyVklDX0lOVF9HUlBuXzAgJiYgb2Zmc2V0IDwgTDJWSUNfSU5UX0dSUG5fMSkg
eworICAgICAgICBMMlZJQ0Eocy0+aW50X2dyb3VwX24wLCBvZmZzZXQgLSBMMlZJQ19JTlRfR1JQ
bl8wKSA9IHZhbDsKKyAgICB9IGVsc2UgaWYgKG9mZnNldCA+PSBMMlZJQ19JTlRfR1JQbl8xICYm
IG9mZnNldCA8IEwyVklDX0lOVF9HUlBuXzIpIHsKKyAgICAgICAgTDJWSUNBKHMtPmludF9ncm91
cF9uMSwgb2Zmc2V0IC0gTDJWSUNfSU5UX0dSUG5fMSkgPSB2YWw7CisgICAgfSBlbHNlIGlmIChv
ZmZzZXQgPj0gTDJWSUNfSU5UX0dSUG5fMiAmJiBvZmZzZXQgPCBMMlZJQ19JTlRfR1JQbl8zKSB7
CisgICAgICAgIEwyVklDQShzLT5pbnRfZ3JvdXBfbjIsIG9mZnNldCAtIEwyVklDX0lOVF9HUlBu
XzIpID0gdmFsOworICAgIH0gZWxzZSBpZiAob2Zmc2V0ID49IEwyVklDX0lOVF9HUlBuXzMgJiYg
b2Zmc2V0IDwgTDJWSUNfSU5UX0dSUG5fMyArIDB4ODApIHsKKyAgICAgICAgTDJWSUNBKHMtPmlu
dF9ncm91cF9uMywgb2Zmc2V0IC0gTDJWSUNfSU5UX0dSUG5fMykgPSB2YWw7CisgICAgfSBlbHNl
IHsKKyAgICAgICAgcWVtdV9sb2dfbWFzayhMT0dfVU5JTVAsICIlczogb2Zmc2V0ICV4IHVuaW1w
bGVtZW50ZWRcbiIsIF9fZnVuY19fLAorICAgICAgICAgICAgICAgICAgICAgIChpbnQpb2Zmc2V0
KTsKKyAgICB9CisgICAgbDJ2aWNfdXBkYXRlX2FsbChzKTsKKyAgICBxZW11X211dGV4X3VubG9j
aygmcy0+YWN0aXZlKTsKKyAgICByZXR1cm47Cit9CisKK3N0YXRpYyB1aW50NjRfdCBsMnZpY19y
ZWFkKHZvaWQgKm9wYXF1ZSwgaHdhZGRyIG9mZnNldCwgdW5zaWduZWQgc2l6ZSkKK3sKKyAgICB1
aW50NjRfdCB2YWx1ZTsKKyAgICBMMlZJQ1N0YXRlICpzID0gKEwyVklDU3RhdGUgKilvcGFxdWU7
CisgICAgcWVtdV9tdXRleF9sb2NrKCZzLT5hY3RpdmUpOworCisgICAgaWYgKG9mZnNldCA9PSBM
MlZJQ19WSURfR1JQXzApIHsKKyAgICAgICAgdmFsdWUgPSBzLT52aWRfZ3JvdXBbMF07CisgICAg
fSBlbHNlIGlmIChvZmZzZXQgPT0gTDJWSUNfVklEX0dSUF8xKSB7CisgICAgICAgIHZhbHVlID0g
cy0+dmlkX2dyb3VwWzFdOworICAgIH0gZWxzZSBpZiAob2Zmc2V0ID09IEwyVklDX1ZJRF9HUlBf
MikgeworICAgICAgICB2YWx1ZSA9IHMtPnZpZF9ncm91cFsyXTsKKyAgICB9IGVsc2UgaWYgKG9m
ZnNldCA9PSBMMlZJQ19WSURfR1JQXzMpIHsKKyAgICAgICAgdmFsdWUgPSBzLT52aWRfZ3JvdXBb
M107CisgICAgfSBlbHNlIGlmIChvZmZzZXQgPT0gTDJWSUNfVklEXzApIHsKKyAgICAgICAgdmFs
dWUgPSBzLT52aWQwOworICAgIH0gZWxzZSBpZiAob2Zmc2V0ID49IEwyVklDX0lOVF9FTkFCTEVu
ICYmCisgICAgICAgICAgICAgICBvZmZzZXQgPCBMMlZJQ19JTlRfRU5BQkxFX0NMRUFSbikgewor
ICAgICAgICB2YWx1ZSA9IEwyVklDQShzLT5pbnRfZW5hYmxlLCBvZmZzZXQgLSBMMlZJQ19JTlRf
RU5BQkxFbik7CisgICAgfSBlbHNlIGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX0VOQUJMRV9DTEVB
Um4gJiYKKyAgICAgICAgICAgICAgIG9mZnNldCA8IEwyVklDX0lOVF9FTkFCTEVfU0VUbikgewor
ICAgICAgICB2YWx1ZSA9IDA7CisgICAgfSBlbHNlIGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX0VO
QUJMRV9TRVRuICYmIG9mZnNldCA8IEwyVklDX0lOVF9UWVBFbikgeworICAgICAgICB2YWx1ZSA9
IDA7CisgICAgfSBlbHNlIGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX1RZUEVuICYmIG9mZnNldCA8
IEwyVklDX0lOVF9UWVBFbiArIDB4ODApIHsKKyAgICAgICAgdmFsdWUgPSBMMlZJQ0Eocy0+aW50
X3R5cGUsIG9mZnNldCAtIEwyVklDX0lOVF9UWVBFbik7CisgICAgfSBlbHNlIGlmIChvZmZzZXQg
Pj0gTDJWSUNfSU5UX1NUQVRVU24gJiYgb2Zmc2V0IDwgTDJWSUNfSU5UX0NMRUFSbikgeworICAg
ICAgICB2YWx1ZSA9IEwyVklDQShzLT5pbnRfc3RhdHVzLCBvZmZzZXQgLSBMMlZJQ19JTlRfU1RB
VFVTbik7CisgICAgfSBlbHNlIGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX0NMRUFSbiAmJiBvZmZz
ZXQgPCBMMlZJQ19TT0ZUX0lOVG4pIHsKKyAgICAgICAgdmFsdWUgPSBMMlZJQ0Eocy0+aW50X2Ns
ZWFyLCBvZmZzZXQgLSBMMlZJQ19JTlRfQ0xFQVJuKTsKKyAgICB9IGVsc2UgaWYgKG9mZnNldCA+
PSBMMlZJQ19TT0ZUX0lOVG4gJiYgb2Zmc2V0IDwgTDJWSUNfSU5UX1BFTkRJTkduKSB7CisgICAg
ICAgIHZhbHVlID0gMDsKKyAgICB9IGVsc2UgaWYgKG9mZnNldCA+PSBMMlZJQ19JTlRfUEVORElO
R24gJiYKKyAgICAgICAgICAgICAgIG9mZnNldCA8IEwyVklDX0lOVF9QRU5ESU5HbiArIDB4ODAp
IHsKKyAgICAgICAgdmFsdWUgPSBMMlZJQ0Eocy0+aW50X3BlbmRpbmcsIG9mZnNldCAtIEwyVklD
X0lOVF9QRU5ESU5Hbik7CisgICAgfSBlbHNlIGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX0dSUG5f
MCAmJiBvZmZzZXQgPCBMMlZJQ19JTlRfR1JQbl8xKSB7CisgICAgICAgIHZhbHVlID0gTDJWSUNB
KHMtPmludF9ncm91cF9uMCwgb2Zmc2V0IC0gTDJWSUNfSU5UX0dSUG5fMCk7CisgICAgfSBlbHNl
IGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX0dSUG5fMSAmJiBvZmZzZXQgPCBMMlZJQ19JTlRfR1JQ
bl8yKSB7CisgICAgICAgIHZhbHVlID0gTDJWSUNBKHMtPmludF9ncm91cF9uMSwgb2Zmc2V0IC0g
TDJWSUNfSU5UX0dSUG5fMSk7CisgICAgfSBlbHNlIGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX0dS
UG5fMiAmJiBvZmZzZXQgPCBMMlZJQ19JTlRfR1JQbl8zKSB7CisgICAgICAgIHZhbHVlID0gTDJW
SUNBKHMtPmludF9ncm91cF9uMiwgb2Zmc2V0IC0gTDJWSUNfSU5UX0dSUG5fMik7CisgICAgfSBl
bHNlIGlmIChvZmZzZXQgPj0gTDJWSUNfSU5UX0dSUG5fMyAmJiBvZmZzZXQgPCBMMlZJQ19JTlRf
R1JQbl8zICsgMHg4MCkgeworICAgICAgICB2YWx1ZSA9IEwyVklDQShzLT5pbnRfZ3JvdXBfbjMs
IG9mZnNldCAtIEwyVklDX0lOVF9HUlBuXzMpOworICAgIH0gZWxzZSB7CisgICAgICAgIHZhbHVl
ID0gMDsKKyAgICAgICAgcWVtdV9sb2dfbWFzayhMT0dfR1VFU1RfRVJST1IsICJMMlZJQzogJXM6
IG9mZnNldCAweCV4XG4iLCBfX2Z1bmNfXywKKyAgICAgICAgICAgICAgICAgICAgICAoaW50KW9m
ZnNldCk7CisgICAgfQorCisgICAgdHJhY2VfbDJ2aWNfcmVnX3JlYWQoKHVuc2lnbmVkKW9mZnNl
dCwgdmFsdWUpOworICAgIHFlbXVfbXV0ZXhfdW5sb2NrKCZzLT5hY3RpdmUpOworCisgICAgcmV0
dXJuIHZhbHVlOworfQorCitzdGF0aWMgY29uc3QgTWVtb3J5UmVnaW9uT3BzIGwydmljX29wcyA9
IHsKKyAgICAucmVhZCA9IGwydmljX3JlYWQsCisgICAgLndyaXRlID0gbDJ2aWNfd3JpdGUsCisg
ICAgLmVuZGlhbm5lc3MgPSBERVZJQ0VfTkFUSVZFX0VORElBTiwKKyAgICAudmFsaWQubWluX2Fj
Y2Vzc19zaXplID0gNCwKKyAgICAudmFsaWQubWF4X2FjY2Vzc19zaXplID0gNCwKKyAgICAudmFs
aWQudW5hbGlnbmVkID0gZmFsc2UsCit9OworCisjZGVmaW5lIEZBU1RMMlZJQ19FTkFCTEUgMHgw
CisjZGVmaW5lIEZBU1RMMlZJQ19ESVNBQkxFIDB4MQorI2RlZmluZSBGQVNUTDJWSUNfSU5UIDB4
MgorCitzdGF0aWMgdm9pZCBmYXN0bDJ2aWNfd3JpdGUodm9pZCAqb3BhcXVlLCBod2FkZHIgb2Zm
c2V0LCB1aW50NjRfdCB2YWwsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQg
c2l6ZSkKK3sKKyAgICBpZiAob2Zmc2V0ID09IDApIHsKKyAgICAgICAgdWludDMyX3QgY21kID0g
KHZhbCA+PiAxNikgJiAweDM7CisgICAgICAgIHVpbnQzMl90IGlycSA9IHZhbCAmIDB4M2ZmOwor
ICAgICAgICB1aW50MzJfdCBzbGljZSA9IChpcnEgLyAzMikgKiA0OworICAgICAgICB2YWwgPSAx
IDw8IChpcnEgJSAzMik7CisKKyAgICAgICAgaWYgKGNtZCA9PSBGQVNUTDJWSUNfRU5BQkxFKSB7
CisgICAgICAgICAgICBsMnZpY193cml0ZShvcGFxdWUsIEwyVklDX0lOVF9FTkFCTEVfU0VUbiAr
IHNsaWNlLCB2YWwsIHNpemUpOworICAgICAgICB9IGVsc2UgaWYgKGNtZCA9PSBGQVNUTDJWSUNf
RElTQUJMRSkgeworICAgICAgICAgICAgbDJ2aWNfd3JpdGUob3BhcXVlLCBMMlZJQ19JTlRfRU5B
QkxFX0NMRUFSbiArIHNsaWNlLCB2YWwsIHNpemUpOworICAgICAgICB9IGVsc2UgaWYgKGNtZCA9
PSBGQVNUTDJWSUNfSU5UKSB7CisgICAgICAgICAgICBsMnZpY193cml0ZShvcGFxdWUsIEwyVklD
X1NPRlRfSU5UbiArIHNsaWNlLCB2YWwsIHNpemUpOworICAgICAgICB9CisgICAgICAgIHFlbXVf
bG9nX21hc2soTE9HX0dVRVNUX0VSUk9SLCAiJXM6IGludmFsaWQgd3JpdGUgY21kICUiIFBSSWQz
MiAiXG4iLAorICAgICAgICAgICAgX19mdW5jX18sIGNtZCk7CisgICAgICAgIHJldHVybjsKKyAg
ICB9CisgICAgcWVtdV9sb2dfbWFzayhMT0dfR1VFU1RfRVJST1IsICIlczogaW52YWxpZCB3cml0
ZSBvZmZzZXQgMHglMDgiIEhXQUREUl9QUkl4CisgICAgICAgICAgICAiXG4iLCBfX2Z1bmNfXywg
b2Zmc2V0KTsKK30KKworc3RhdGljIGNvbnN0IE1lbW9yeVJlZ2lvbk9wcyBmYXN0bDJ2aWNfb3Bz
ID0geworICAgIC53cml0ZSA9IGZhc3RsMnZpY193cml0ZSwKKyAgICAuZW5kaWFubmVzcyA9IERF
VklDRV9OQVRJVkVfRU5ESUFOLAorICAgIC52YWxpZC5taW5fYWNjZXNzX3NpemUgPSA0LAorICAg
IC52YWxpZC5tYXhfYWNjZXNzX3NpemUgPSA0LAorICAgIC52YWxpZC51bmFsaWduZWQgPSBmYWxz
ZSwKK307CisKK3N0YXRpYyB2b2lkIGwydmljX3Jlc2V0X2hvbGQoT2JqZWN0ICpvYmosIEdfR05V
Q19VTlVTRUQgUmVzZXRUeXBlIHJlc190eXBlKQoreworICAgIEwyVklDU3RhdGUgKnMgPSBMMlZJ
QyhvYmopOworICAgIG1lbXNldChzLT5pbnRfY2xlYXIsIDAsIHNpemVvZihzLT5pbnRfY2xlYXIp
KTsKKyAgICBtZW1zZXQocy0+aW50X2VuYWJsZSwgMCwgc2l6ZW9mKHMtPmludF9lbmFibGUpKTsK
KyAgICBtZW1zZXQocy0+aW50X3BlbmRpbmcsIDAsIHNpemVvZihzLT5pbnRfcGVuZGluZykpOwor
ICAgIG1lbXNldChzLT5pbnRfc3RhdHVzLCAwLCBzaXplb2Yocy0+aW50X3N0YXR1cykpOworICAg
IG1lbXNldChzLT5pbnRfdHlwZSwgMCwgc2l6ZW9mKHMtPmludF90eXBlKSk7CisgICAgbWVtc2V0
KHMtPmludF9ncm91cF9uMCwgMCwgc2l6ZW9mKHMtPmludF9ncm91cF9uMCkpOworICAgIG1lbXNl
dChzLT5pbnRfZ3JvdXBfbjEsIDAsIHNpemVvZihzLT5pbnRfZ3JvdXBfbjEpKTsKKyAgICBtZW1z
ZXQocy0+aW50X2dyb3VwX24yLCAwLCBzaXplb2Yocy0+aW50X2dyb3VwX24yKSk7CisgICAgbWVt
c2V0KHMtPmludF9ncm91cF9uMywgMCwgc2l6ZW9mKHMtPmludF9ncm91cF9uMykpOworICAgIHMt
PmludF9zb2Z0ID0gMDsKKyAgICBzLT52aWQwID0gMDsKKworICAgIGwydmljX3VwZGF0ZV9hbGwo
cyk7Cit9CisKKworc3RhdGljIHZvaWQgcmVzZXRfaXJxX2hhbmRsZXIodm9pZCAqb3BhcXVlLCBp
bnQgaXJxLCBpbnQgbGV2ZWwpCit7CisgICAgTDJWSUNTdGF0ZSAqcyA9IChMMlZJQ1N0YXRlICop
b3BhcXVlOworICAgIE9iamVjdCAqb2JqID0gT0JKRUNUKG9wYXF1ZSk7CisgICAgaWYgKGxldmVs
KSB7CisgICAgICAgIGwydmljX3Jlc2V0X2hvbGQob2JqLCBSRVNFVF9UWVBFX0NPTEQpOworICAg
IH0KKyAgICBsMnZpY191cGRhdGVfYWxsKHMpOworfQorCitzdGF0aWMgdm9pZCBsMnZpY19pbml0
KE9iamVjdCAqb2JqKQoreworICAgIERldmljZVN0YXRlICpkZXYgPSBERVZJQ0Uob2JqKTsKKyAg
ICBMMlZJQ1N0YXRlICpzID0gTDJWSUMob2JqKTsKKyAgICBTeXNCdXNEZXZpY2UgKnNiZCA9IFNZ
U19CVVNfREVWSUNFKG9iaik7CisgICAgaW50IGk7CisKKyAgICBtZW1vcnlfcmVnaW9uX2luaXRf
aW8oJnMtPmlvbWVtLCBvYmosICZsMnZpY19vcHMsIHMsICJsMnZpYyIsIDB4MTAwMCk7CisgICAg
c3lzYnVzX2luaXRfbW1pbyhzYmQsICZzLT5pb21lbSk7CisgICAgbWVtb3J5X3JlZ2lvbl9pbml0
X2lvKCZzLT5mYXN0X2lvbWVtLCBvYmosICZmYXN0bDJ2aWNfb3BzLCBzLCAiZmFzdCIsCisgICAg
ICAgICAgICAgICAgICAgICAgICAgIDB4MTAwMDApOworICAgIHN5c2J1c19pbml0X21taW8oc2Jk
LCAmcy0+ZmFzdF9pb21lbSk7CisKKyAgICBxZGV2X2luaXRfZ3Bpb19pbihkZXYsIGwydmljX3Nl
dF9pcnEsIEwyVklDX0lOVEVSUlVQVF9NQVgpOworICAgIHFkZXZfaW5pdF9ncGlvX2luX25hbWVk
KGRldiwgcmVzZXRfaXJxX2hhbmRsZXIsICJyZXNldCIsIDEpOworICAgIGZvciAoaSA9IDA7IGkg
PCA4OyBpKyspIHsKKyAgICAgICAgc3lzYnVzX2luaXRfaXJxKHNiZCwgJnMtPmlycVtpXSk7Cisg
ICAgfQorICAgIHFlbXVfbXV0ZXhfaW5pdCgmcy0+YWN0aXZlKTsgLyogVE9ETzogUmVtb3ZlIHRo
aXMgaXMgYW4gZXhwZXJpbWVudCAqLworfQorCitzdGF0aWMgY29uc3QgVk1TdGF0ZURlc2NyaXB0
aW9uIHZtc3RhdGVfbDJ2aWMgPSB7CisgICAgLm5hbWUgPSAibDJ2aWMiLAorICAgIC52ZXJzaW9u
X2lkID0gMSwKKyAgICAubWluaW11bV92ZXJzaW9uX2lkID0gMSwKKyAgICAuZmllbGRzID0KKyAg
ICAgICAgKFZNU3RhdGVGaWVsZFtdKXsKKyAgICAgICAgICAgIFZNU1RBVEVfVUlOVDMyKGxldmVs
LCBMMlZJQ1N0YXRlKSwKKyAgICAgICAgICAgIFZNU1RBVEVfVUlOVDMyX0FSUkFZKHZpZF9ncm91
cCwgTDJWSUNTdGF0ZSwgNCksCisgICAgICAgICAgICBWTVNUQVRFX1VJTlQzMih2aWQwLCBMMlZJ
Q1N0YXRlKSwKKyAgICAgICAgICAgIFZNU1RBVEVfVUlOVDMyX0FSUkFZKGludF9lbmFibGUsIEwy
VklDU3RhdGUsIFNMSUNFX01BWCksCisgICAgICAgICAgICBWTVNUQVRFX1VJTlQzMihpbnRfZW5h
YmxlX2NsZWFyLCBMMlZJQ1N0YXRlKSwKKyAgICAgICAgICAgIFZNU1RBVEVfVUlOVDMyKGludF9l
bmFibGVfc2V0LCBMMlZJQ1N0YXRlKSwKKyAgICAgICAgICAgIFZNU1RBVEVfVUlOVDMyX0FSUkFZ
KGludF90eXBlLCBMMlZJQ1N0YXRlLCBTTElDRV9NQVgpLAorICAgICAgICAgICAgVk1TVEFURV9V
SU5UMzJfQVJSQVkoaW50X3N0YXR1cywgTDJWSUNTdGF0ZSwgU0xJQ0VfTUFYKSwKKyAgICAgICAg
ICAgIFZNU1RBVEVfVUlOVDMyX0FSUkFZKGludF9jbGVhciwgTDJWSUNTdGF0ZSwgU0xJQ0VfTUFY
KSwKKyAgICAgICAgICAgIFZNU1RBVEVfVUlOVDMyKGludF9zb2Z0LCBMMlZJQ1N0YXRlKSwKKyAg
ICAgICAgICAgIFZNU1RBVEVfVUlOVDMyX0FSUkFZKGludF9wZW5kaW5nLCBMMlZJQ1N0YXRlLCBT
TElDRV9NQVgpLAorICAgICAgICAgICAgVk1TVEFURV9VSU5UMzJfQVJSQVkoaW50X2dyb3VwX24w
LCBMMlZJQ1N0YXRlLCBTTElDRV9NQVgpLAorICAgICAgICAgICAgVk1TVEFURV9VSU5UMzJfQVJS
QVkoaW50X2dyb3VwX24xLCBMMlZJQ1N0YXRlLCBTTElDRV9NQVgpLAorICAgICAgICAgICAgVk1T
VEFURV9VSU5UMzJfQVJSQVkoaW50X2dyb3VwX24yLCBMMlZJQ1N0YXRlLCBTTElDRV9NQVgpLAor
ICAgICAgICAgICAgVk1TVEFURV9VSU5UMzJfQVJSQVkoaW50X2dyb3VwX24zLCBMMlZJQ1N0YXRl
LCBTTElDRV9NQVgpLAorICAgICAgICAgICAgVk1TVEFURV9FTkRfT0ZfTElTVCgpIH0KK307CisK
K3N0YXRpYyB2b2lkIGwydmljX2NsYXNzX2luaXQoT2JqZWN0Q2xhc3MgKmtsYXNzLCB2b2lkICpk
YXRhKQoreworICAgIERldmljZUNsYXNzICpkYyA9IERFVklDRV9DTEFTUyhrbGFzcyk7CisgICAg
UmVzZXR0YWJsZUNsYXNzICpyYyA9IFJFU0VUVEFCTEVfQ0xBU1Moa2xhc3MpOworCisgICAgZGMt
PnZtc2QgPSAmdm1zdGF0ZV9sMnZpYzsKKyAgICByYy0+cGhhc2VzLmhvbGQgPSBsMnZpY19yZXNl
dF9ob2xkOworfQorCitzdGF0aWMgY29uc3QgVHlwZUluZm8gbDJ2aWNfaW5mbyA9IHsKKyAgICAu
bmFtZSA9IFRZUEVfTDJWSUMsCisgICAgLnBhcmVudCA9IFRZUEVfU1lTX0JVU19ERVZJQ0UsCisg
ICAgLmluc3RhbmNlX3NpemUgPSBzaXplb2YoTDJWSUNTdGF0ZSksCisgICAgLmluc3RhbmNlX2lu
aXQgPSBsMnZpY19pbml0LAorICAgIC5jbGFzc19pbml0ID0gbDJ2aWNfY2xhc3NfaW5pdCwKK307
CisKK3N0YXRpYyB2b2lkIGwydmljX3JlZ2lzdGVyX3R5cGVzKHZvaWQpCit7CisgICAgdHlwZV9y
ZWdpc3Rlcl9zdGF0aWMoJmwydmljX2luZm8pOworfQorCit0eXBlX2luaXQobDJ2aWNfcmVnaXN0
ZXJfdHlwZXMpCmRpZmYgLS1naXQgYS9ody9pbnRjL0tjb25maWcgYi9ody9pbnRjL0tjb25maWcK
aW5kZXggZGQ0MDViZGI1ZC4uNDcxZTAyZGYyNyAxMDA2NDQKLS0tIGEvaHcvaW50Yy9LY29uZmln
CisrKyBiL2h3L2ludGMvS2NvbmZpZwpAQCAtOCw2ICs4LDkgQEAgY29uZmlnIEk4MjU5CiBjb25m
aWcgUEwxOTAKICAgICBib29sCiAKK2NvbmZpZyBMMlZJQworICAgIGJvb2wKKwogY29uZmlnIElP
QVBJQwogICAgIGJvb2wKICAgICBzZWxlY3QgSTgyNTkKZGlmZiAtLWdpdCBhL2h3L2ludGMvbWVz
b24uYnVpbGQgYi9ody9pbnRjL21lc29uLmJ1aWxkCmluZGV4IDUxMGZkZmI2ODguLjkxOWFiZTVl
ZWMgMTAwNjQ0Ci0tLSBhL2h3L2ludGMvbWVzb24uYnVpbGQKKysrIGIvaHcvaW50Yy9tZXNvbi5i
dWlsZApAQCAtNjcsNiArNjcsOCBAQCBzcGVjaWZpY19zcy5hZGQod2hlbjogJ0NPTkZJR19QU0VS
SUVTJywgaWZfdHJ1ZTogZmlsZXMoJ3hpY3Nfc3BhcHIuYycsICdzcGFwcl94aQogc3BlY2lmaWNf
c3MuYWRkKHdoZW46ICdDT05GSUdfWElWRScsIGlmX3RydWU6IGZpbGVzKCd4aXZlLmMnKSkKIHNw
ZWNpZmljX3NzLmFkZCh3aGVuOiBbJ0NPTkZJR19LVk0nLCAnQ09ORklHX1hJVkUnXSwKIAkJaWZf
dHJ1ZTogZmlsZXMoJ3NwYXByX3hpdmVfa3ZtLmMnKSkKKworc3BlY2lmaWNfc3MuYWRkKHdoZW46
ICdDT05GSUdfTDJWSUMnLCBpZl90cnVlOiBmaWxlcygnbDJ2aWMuYycpKQogc3BlY2lmaWNfc3Mu
YWRkKHdoZW46ICdDT05GSUdfTTY4S19JUlFDJywgaWZfdHJ1ZTogZmlsZXMoJ202OGtfaXJxYy5j
JykpCiBzcGVjaWZpY19zcy5hZGQod2hlbjogJ0NPTkZJR19MT09OR1NPTl9JUElfQ09NTU9OJywg
aWZfdHJ1ZTogZmlsZXMoJ2xvb25nc29uX2lwaV9jb21tb24uYycpKQogc3BlY2lmaWNfc3MuYWRk
KHdoZW46ICdDT05GSUdfTE9PTkdTT05fSVBJJywgaWZfdHJ1ZTogZmlsZXMoJ2xvb25nc29uX2lw
aS5jJykpCmRpZmYgLS1naXQgYS9ody9pbnRjL3RyYWNlLWV2ZW50cyBiL2h3L2ludGMvdHJhY2Ut
ZXZlbnRzCmluZGV4IDNkY2YxNDcxOTguLmJjNjYyNjBmYzAgMTAwNjQ0Ci0tLSBhL2h3L2ludGMv
dHJhY2UtZXZlbnRzCisrKyBiL2h3L2ludGMvdHJhY2UtZXZlbnRzCkBAIC0zMDMsNiArMzAzLDEw
IEBAIHNoX2ludGNfcmVnaXN0ZXIoY29uc3QgY2hhciAqcywgaW50IGlkLCB1bnNpZ25lZCBzaG9y
dCB2LCBpbnQgYywgaW50IG0pICIlcyAldSAtCiBzaF9pbnRjX3JlYWQodW5zaWduZWQgc2l6ZSwg
dWludDY0X3Qgb2Zmc2V0LCB1bnNpZ25lZCBsb25nIHZhbCkgInNpemUgJXUgMHglIiBQUkl4NjQg
IiAtPiAweCVseCIKIHNoX2ludGNfd3JpdGUodW5zaWduZWQgc2l6ZSwgdWludDY0X3Qgb2Zmc2V0
LCB1bnNpZ25lZCBsb25nIHZhbCkgInNpemUgJXUgMHglIiBQUkl4NjQgIiA8LSAweCVseCIKIHNo
X2ludGNfc2V0KGludCBpZCwgaW50IGVuYWJsZSkgInNldHRpbmcgaW50ZXJydXB0IGdyb3VwICVk
IHRvICVkIgorIyBsMnZpYy5jCitsMnZpY19yZWdfd3JpdGUodW5zaWduZWQgaW50IGFkZHIsIHVp
bnQzMl90IHZhbHVlKSAiYWRkcjogMHglMDN4IHZhbHVlOiAweCUwOCJQUkl4MzIKK2wydmljX3Jl
Z19yZWFkKHVuc2lnbmVkIGludCBhZGRyLCB1aW50MzJfdCB2YWx1ZSkgImFkZHI6IDB4JTAzeCB2
YWx1ZTogMHglMDgiUFJJeDMyCitsMnZpY19kZWxpdmVyZWQoaW50IGlycSwgaW50IHZpZCkgImwy
dmljOiBkZWxpdmVyZWQgJWQgKHZpZCAlZCkiCiAKICMgbG9vbmdzb25faXBpLmMKIGxvb25nc29u
X2lwaV9yZWFkKHVuc2lnbmVkIHNpemUsIHVpbnQ2NF90IGFkZHIsIHVpbnQ2NF90IHZhbCkgInNp
emU6ICV1IGFkZHI6IDB4JSJQUkl4NjQgInZhbDogMHglIlBSSXg2NAotLSAKMi4zNC4xCgo=

