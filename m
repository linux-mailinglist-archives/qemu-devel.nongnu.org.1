Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 3D59191EE9B
	for <lists+qemu-devel@lfdr.de>; Tue,  2 Jul 2024 07:54:49 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1sOWRg-00081a-8S; Tue, 02 Jul 2024 01:52:52 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <clement.mathieu--drif@eviden.com>)
 id 1sOWRd-0007zm-CR
 for qemu-devel@nongnu.org; Tue, 02 Jul 2024 01:52:49 -0400
Received: from smarthost2.eviden.com ([80.78.11.83])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <clement.mathieu--drif@eviden.com>)
 id 1sOWRZ-0006Un-5C
 for qemu-devel@nongnu.org; Tue, 02 Jul 2024 01:52:49 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=eviden.com; i=@eviden.com; q=dns/txt; s=mail;
 t=1719899565; x=1751435565;
 h=from:to:cc:subject:date:message-id:references:
 in-reply-to:content-id:content-transfer-encoding: mime-version;
 bh=aaciKa6xrwSW2NtKsj36kO/MEVhisO6XpupR7gvFUH0=;
 b=NT+6ChqCq3RO1Y4T3lL3ArDXr29bUtBiDzv1JvnDDd2Psujx2u4MB/mh
 1QkbrtjyYKDIcy/OfCIEdqYrieA0VximXzNVP6JLS/Kje3+dkjsNnLTfY
 MThPLhQPHV/TGn8lo6hjCZQa0NNoIuY3+m2DxJYhYpe290iIwGx778Rgv
 4fmB4neZoMlAxE9FRhhQ8HDbPqTJYXqTtdfoDxnH8nfe19TkdDgxyOVCG
 3MFnXbPDnfFtxNe01LoxbXjfaOi0j3zrzOLztpp3JYpUqUWzWzTsDpjs6
 YrbT/Dx1mA0ssECZTcVHICSKoQiO4/QxFoOVSdW2xqsXcIyLaxWGHZJJj w==;
X-IronPort-AV: E=Sophos;i="6.09,178,1716242400"; d="scan'208";a="15721524"
X-MGA-submission: =?us-ascii?q?MDFdYXZNQMo2OED/j5/Bxa2wB2WbI6frAHbL2u?=
 =?us-ascii?q?5lX8arh7JObDvePlN4pGdDkrXUFheqjsOB0KV6zF2vtkaF2UNT65zihj?=
 =?us-ascii?q?z9/qSIiOr9MYab155/Pw2r82x17t+BhBk7jxrGoXOOLRbRTE0V0OylT3?=
 =?us-ascii?q?HSQg5a9GRE3tumJVanXftITQ=3D=3D?=
Received: from mail-am6eur05lp2113.outbound.protection.outlook.com (HELO
 EUR05-AM6-obe.outbound.protection.outlook.com) ([104.47.18.113])
 by smarthost2.eviden.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 02 Jul 2024 07:52:44 +0200
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=EkuQ7QZVygErYSEeIU0AY9bgAQbuGa0Z/E+D7gnFSYepCaT2EL0j3TPGWYPgwktQzugswlQFhXRxpf+6KSvJyFmWVpf1BDdA/t5J9r4yjG7pesFBSU4XjciNSs73TeThkpL5OvPEtKJDypKusei3lFNQFRvpQtIW534d4xQyShUtL/3vXX+i04CZxw8K6GMRdgvIRvW8WSRlXaMIcWe+QJ2aEwXmSvbcNdoMcpXFBH5caBmA0mJ8KaFBeICMk2gg58uMU0GZs8DA0w1uE49DwIDBVS3eQDQCkaoAyoJ59GKD1lYlo4xJrrIh1LH1w25WdwmvVn8rqYXK4hpWD1lc3g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=aaciKa6xrwSW2NtKsj36kO/MEVhisO6XpupR7gvFUH0=;
 b=XRG2Mzac4RXdU10DjCPz8KnmmS8UQyNQfOcMjuHsklftBGknozcctFl6ohjHkx2JLAhRIAoH/d4eQRmVreJiMbKuRghGeFuPQ/uZn7X6TkKL1c99+ZUY6gJIkP/SF307TdOyGQCTS8x0uv6MYXdwK/wEUj8L3qfkxbzLAD+jjG1554ayx5yea7XQlQK480SiACPpiatUVXMgOMpNMfD+RI9MtVJM+eH0ez/WAx151I9nxFEsaXi0rxWmaQ5prEY/mh2inwCNhNIxJvt0YJXsIHWK9Ixj1AplqUcVafNZFML2k9TCukU+HXa1anB47z2hECT8jVY7sOV316d3jPlvgw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=eviden.com; dmarc=pass action=none header.from=eviden.com;
 dkim=pass header.d=eviden.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Eviden.com;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=aaciKa6xrwSW2NtKsj36kO/MEVhisO6XpupR7gvFUH0=;
 b=heDAWprl/FuBFHP1clQgmwKvDlYaf6ITaysfi3JkqH1eR3aBqnHOMw3u06By/QtU8J+RTLMwBawn9pThJ68N2E4XmHUIx/Gp5ZFi7mganLY9R6L7ak9xqZ2cwI1fC/6xj7MwgWWLw6ktEbxPr/cPe5Nsy4y4c+tVObPpIDIFP5F9fvAmykTtVchUJvCqynWAHSntwkakSIYqwj3NbrjjrvKUQJVTyGIX14Zkc+t+wdjs7Y8NdhjZX1Ha1bSybYRJ2N3tg5U4aRXDPqUstHYJwfbhF/wqMNwm0yXx78rcSvVxf8CBu11CNJxp0VDpTT/zm8YoEvlCZWLniQBNXHjgKw==
Received: from AM8PR07MB7602.eurprd07.prod.outlook.com (2603:10a6:20b:24b::7)
 by AS8PR07MB7080.eurprd07.prod.outlook.com (2603:10a6:20b:239::10)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.7741.21; Tue, 2 Jul
 2024 05:52:43 +0000
Received: from AM8PR07MB7602.eurprd07.prod.outlook.com
 ([fe80::fbd7:ca71:b636:6f9d]) by AM8PR07MB7602.eurprd07.prod.outlook.com
 ([fe80::fbd7:ca71:b636:6f9d%4]) with mapi id 15.20.7741.017; Tue, 2 Jul 2024
 05:52:43 +0000
From: CLEMENT MATHIEU--DRIF <clement.mathieu--drif@eviden.com>
To: "qemu-devel@nongnu.org" <qemu-devel@nongnu.org>
CC: "jasowang@redhat.com" <jasowang@redhat.com>, "zhenzhong.duan@intel.com"
 <zhenzhong.duan@intel.com>, "kevin.tian@intel.com" <kevin.tian@intel.com>,
 "yi.l.liu@intel.com" <yi.l.liu@intel.com>, "joao.m.martins@oracle.com"
 <joao.m.martins@oracle.com>, "peterx@redhat.com" <peterx@redhat.com>,
 "mst@redhat.com" <mst@redhat.com>, CLEMENT MATHIEU--DRIF
 <clement.mathieu--drif@eviden.com>
Subject: [PATCH ats_vtd v5 17/22] atc: generic ATC that can be used by PCIe
 devices that support SVM
Thread-Topic: [PATCH ats_vtd v5 17/22] atc: generic ATC that can be used by
 PCIe devices that support SVM
Thread-Index: AQHazEQOlP+g0o1Bb0i4sVdTaZApDg==
Date: Tue, 2 Jul 2024 05:52:43 +0000
Message-ID: <20240702055221.1337035-18-clement.mathieu--drif@eviden.com>
References: <20240702055221.1337035-1-clement.mathieu--drif@eviden.com>
In-Reply-To: <20240702055221.1337035-1-clement.mathieu--drif@eviden.com>
Accept-Language: en-GB, fr-FR, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=eviden.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: AM8PR07MB7602:EE_|AS8PR07MB7080:EE_
x-ms-office365-filtering-correlation-id: 9c4a2b03-732a-4633-5896-08dc9a5b30ca
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|1800799024|366016|376014|38070700018;
x-microsoft-antispam-message-info: =?utf-8?B?bHNrOTU4WGNnWk1MY1ZZWWNIbHRYLzdhY2NEcjVxYW93bXQxbzhqek1WQ3Rr?=
 =?utf-8?B?NHRUL0hYRHFDdlFMSkNOWFVzeGt3Zi9VWVFWUGZUSS9mWDVsK0VXT2FpSEhj?=
 =?utf-8?B?Smd3bURUY0R4cDhDVDJSeVVBaXhkcUROR0xPYTRab09iVm5MRWVnc3IwOGVQ?=
 =?utf-8?B?QUJONW94ZG8ycW5VSi92dU50cmIvbUNmYmx2NWl3dExDL2dsLzJaZmlVZzJE?=
 =?utf-8?B?eDM3d2dBQ3ovSWM5MllXWTd1a2RRSWVyS09GSkRaT1BlbjJ1U3BYeGUva2gy?=
 =?utf-8?B?MXNrTTByS3R1M2xkQVI2U2pod3o1UjhUU051YWUvWWMvRGhPRUhjNVBpWTJn?=
 =?utf-8?B?VjBKeVFSYWhYWEx1TFUrNzZGZHJCOFJ5SURlNXBLSHVCOXJ3ZFk5dEIvWmRV?=
 =?utf-8?B?eUlHdU0wVDVnb2JCSnpiMCt6SnpENTc2WWdKbTNNaDhPMjhncTN6V0JPaElR?=
 =?utf-8?B?RGNUUHcwTjU4WnNUWGpCTm5FOWowTmhpNC9NbEMrYVg2cXNXNFZZcWxxNlgv?=
 =?utf-8?B?VVdsLy9kMnlVR2dRN05HN2tEUUpEbXJJSXZwdHhXSUVDU1UrTVk4TVc1MU5i?=
 =?utf-8?B?ZExuNVFlV1NoUGJRcVJZVmhhdWJHSU9PYzlJMTFEUk1TeW11TFJaTEhxbWd5?=
 =?utf-8?B?TXl1VlhVR0RvUENyOFpMdElBc3hmREVzRzFpbFN4ekhWTWlYdmNQOG02RGFG?=
 =?utf-8?B?NnIxUDJqR3pTdWVNME1DZlBOdXVuaGk4MGFINE9samFHNmI5dXRTT3IzeDBI?=
 =?utf-8?B?c0VLVnBEVms3ajYyS29Hd2lTZzZLN0VadjdNRTJLbXlyMWZnQXBpYVY1VU5U?=
 =?utf-8?B?akRZSzdFeHlCalJEY3diVG1sYXhLRFQrZHZOSmMyYUhwZzFXMlMwOVl6emRw?=
 =?utf-8?B?cTdvVld1T1BpSVI1OGpvZ2xVSFhrc1M2a1QwWjNWQXNHeUNnQWZ6QzBZRHlP?=
 =?utf-8?B?N1FyMDZoVXJCM1VybWc1Mjkxemdqc0hMemxyWkV6NDhrRjhGVXJiMHdLWlRv?=
 =?utf-8?B?aUlKUG9VcVkvSXJKWkZZQUU4Z0hMc1QrNmplSGd3TDFvSnFGUWZFTVc3WFRX?=
 =?utf-8?B?QWZ0YSt2UG54WGdqZ1l5eVB6dk1jK1c2c0NEaVQ1dlhwQS9jMDhrN1VMMlBy?=
 =?utf-8?B?NTlQK0hMRmM4eGZESXZBenhiSHZHZk5pR2pVU3h3akZlU2xOL0dmQldpdXJZ?=
 =?utf-8?B?clo5RytDL29HdXQ5bmFjbFRuL09nbysybUpDWFo2TmFpbXk2NXZiU1R3NFVn?=
 =?utf-8?B?WkJoOW1CSDg3SkxTbTZBUUhzSU1vVmYxM1BsL29DQm9HRlZJbVBDekk0M0Yx?=
 =?utf-8?B?cXJ1RDgrdjg4NkppK2hxRkRsclpJRkJJbjNyMG96QU5JYWk4Mk1UUnVtbWpQ?=
 =?utf-8?B?dXZHMWQyeE5hcWVob090RGlDeHJtc1ZwTy9ZQndybGgybHRZaW9jMTVoZHpB?=
 =?utf-8?B?ZlFMZ1lVTmF6U1VkZmRjYUpCc0VDS3JSOUYrVEpVSTR5MkJOZ1V3dTVlaUdC?=
 =?utf-8?B?VzVrVDBTUUsxWDVlSENMTGlqdUlEUzVMMkptSkJLQWpqR3FBVlMrUnZqL21X?=
 =?utf-8?B?N2F2RitPb3VGMGs1VDArVzgwUWJmbEJVdDFMdW1MTGk1WVJic00zMGZwZXFJ?=
 =?utf-8?B?SVJvMUFBV3RmanNkdzBlV0o5MFdBUHFid29RWi8zQm52N3YrYlJraSsyalc4?=
 =?utf-8?B?S1cyekpVSENvVWp4SVZEb3c4SU9peVh4TGhFVmdQQ1RLLzZqRVVHUmRTQ1pl?=
 =?utf-8?B?M0FhcXl1WFBoL24vU01VU1RDUzl5OWlEc2FuZmJJMVlqelJEa3hLTEtoWTdw?=
 =?utf-8?Q?TwWHpVk6h58bB4hAMtEPwq4SRiXtHFtu0K8Bo=3D?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:AM8PR07MB7602.eurprd07.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(1800799024)(366016)(376014)(38070700018); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?aG5rN3FiWElsWnZ5WDRadEtPc25PblkzWWNUT0NHL2hvWFZjUjRKbzdwUU1L?=
 =?utf-8?B?MGRBK2krazZiK05CLzVqT0M5RjdHQkRteEN5TmV3cUZhTDVVKzV1UjFvaDNY?=
 =?utf-8?B?TnhhMW85TU5lLzFHWE16b1BQVDV1d0J6NDNVUDZWYzA5VXJVekhZd24rdkFy?=
 =?utf-8?B?d3V6MzhIYU4vbGwvQUVkUXROcHU2cG1qSnRYeWRYRERBd3E4UURhbExFVFlp?=
 =?utf-8?B?dVJ3Z2Q5YVRBeGVGQmUraC9FZyswRWxEbGlSNnF0VEYvcWVreUpmbWI5ZEJ2?=
 =?utf-8?B?dTRqWkk0Wkl2blBuRldqUG5FaFZja3NVRlZGenk1cDd3TzBnOGlxdlIxdkRS?=
 =?utf-8?B?QlcweGFsei8vWk43L3IvYmNabm5kUERZNGZNY0MyRUpIekNhOGRDRGNkRlox?=
 =?utf-8?B?anVKN2NGSWFDQnc3bTBGK2hPcVhycmdUSU16VnlUNVVPM1R5TUxKRUpTeWtx?=
 =?utf-8?B?M05sOGEvcGxXeHJyMWFFOFdnVUdnWUZKajBkbE5FTlNlYWhTUytJeE5DUkRl?=
 =?utf-8?B?VWVkM3hhWnVzOUxlenJLT2gzc2VvS2ZmMVllZ2NGeGJGWERQbHpsTHIvS0R4?=
 =?utf-8?B?V1Y5T00zRHduZjAxK0NtdWExQjc5MWZ0cjM3dWZXays3NTBGTmZYNG5mcEtk?=
 =?utf-8?B?dmNVU0JhSVRZSEhKRGVUL2tvRjMxMkRiOWVaUWJhbTgycjQ2NENrbXlQNjYy?=
 =?utf-8?B?eU9nUGpiSHFMZzFNMlpHVi9NOHFyK3pjaGN0Q3hkWmx4OTRZaVZMZ2o1dTg2?=
 =?utf-8?B?SzlHeHJHRjluaVZjL29MeUJxQ2ZoWnJmUzBCZEluclp1ZktzWnRSellKcW9m?=
 =?utf-8?B?ZDFMZjZDWDQ1RFN3Ymo1MEM4bDB4R1lsaHdOREVjMmNWTjNPbTBZRTllRFlh?=
 =?utf-8?B?YnZGcFBIcWJjcUt0ajNGamlqNC9jdEFzeEErWHMwcStabnFXajcxcVFBeTht?=
 =?utf-8?B?NXg2enhYM2M5YTFyQks3c3VTcnhpUmVudnV4citvVUF1dnVQelBUYm4wbGZQ?=
 =?utf-8?B?TGNQUXdUNDVJaVF2bTNvbi9KRDZvR2h6MEdycDA4cG9HRE8zVjdKQjM2eXJn?=
 =?utf-8?B?S2FEV1dkd2xRd2pBakhkSjZrRVJuQTJYOXMyOTBWSEtQQTFJSGIzaUlBNlhE?=
 =?utf-8?B?QXlsSXVlNUoraXRoWStDV2dyUlZ0UTVCcitqQmxPRDJDd0xYblhlTEc3M1dK?=
 =?utf-8?B?QWU2RE9rL1lRL1MwRFVGOHhUU3k0Q0FXdy9lcjRRN3ZGSVliVHpTbFpmclJx?=
 =?utf-8?B?cGQrUlZuYzByQkl5QW9MY002b0RoeERPVXAvZDNxdjgweDRZbEtjY29mMGNR?=
 =?utf-8?B?dzcvblg1cjVGYTNIOW8wYWhDc2RtTXpsSUFQc09neTJ2SUV5ckZsM2huT2Zi?=
 =?utf-8?B?SEU1cnJuVmhvL29JeGhnNnQrcEJNZ0pCMC9rZTJNanNlcE9OQ2xCVVFGd0xC?=
 =?utf-8?B?SUlyVGlXb21BdDlRblpLcWFUZ2NqNnYzNUt0ZEVJSXBCUG9sTy9NY1BLeEZz?=
 =?utf-8?B?NVYrL0FVWHM5R2ExNGtTcGpueWxMRm5ldjRzd1dCMWZZTGZ4OEFlZ245alR0?=
 =?utf-8?B?bE9Famt4b3p2SG9QN2ZXTndnOXdORko1d3hiUWRCUDBSWW50SU5QUm84cjZt?=
 =?utf-8?B?SGlzekNYRGtxWFRkNUJWQlNUVGlFcm55RHVNbUtOWTJ0RUdETWFmMER6bmRs?=
 =?utf-8?B?bCszRHVFZDl1RjB2bkN2RUJjTFlSb3NkYlg3bTFVdFoxQ1lnK04rbmVFSFdT?=
 =?utf-8?B?eUQ4Z044VTVRMmpibjZkT2l1bVZFRjBqR1dLM0lTOGV5UGlOM2NNWTI2ZjV1?=
 =?utf-8?B?SFk4L2p5bXJyUnU1c2VsNWlmajZ2K3psdkExdE1PVWppbU56ZjdwamlNZlJr?=
 =?utf-8?B?WFQwdjJnMks2dkN6c0ZXZldTak1kUm9kUSs4bVhick41Rk8wY0hYSXozOCtP?=
 =?utf-8?B?TksxVnl2UkcyQUFHT0NtUEt2VlRPc1RHOTY4dzBPNHdDZ0QxU1RhK3NNTUNt?=
 =?utf-8?B?dnpvNVBxam1WNkN1cmlLRFlSci9tVDd2dUs1Q2JSbyt1d3NteFZFUjdncS9U?=
 =?utf-8?B?VXViSmdhRUllTFY0UVRuL3I1Y0U4WFZMMXR3c0FCS0VRU1pqeklRcC83emQv?=
 =?utf-8?B?MzdIVklZZk9mdmx2aDlobHNOc3Q4WEdKa2JOSDZXWjZJVW9SQ3d5TzFqWEpC?=
 =?utf-8?Q?b2n8j6EMvHtFOl0Vod0actc=3D?=
Content-Type: text/plain; charset="utf-8"
Content-ID: <AEB10A4C40AC7A48A6FFB01E4811865F@eurprd07.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: eviden.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: AM8PR07MB7602.eurprd07.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 9c4a2b03-732a-4633-5896-08dc9a5b30ca
X-MS-Exchange-CrossTenant-originalarrivaltime: 02 Jul 2024 05:52:43.0905 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 7d1c7785-2d8a-437d-b842-1ed5d8fbe00a
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: pFQPKPCHQX9ChxQNNrfuPLbfrzHJ4NWz07nT5zLGI8+a/veW0IIqri/+gNsKQOGVMwraLBeDc3lUuz7iJuZYdxUltJvjTj1mnvOOblBgenozZL8INn4+yO1UgucL6+yS
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AS8PR07MB7080
Received-SPF: pass client-ip=80.78.11.83;
 envelope-from=clement.mathieu--drif@eviden.com; helo=smarthost2.eviden.com
X-Spam_score_int: -20
X-Spam_score: -2.1
X-Spam_bar: --
X-Spam_report: (-2.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, SPF_HELO_PASS=-0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

RnJvbTogQ2zDqW1lbnQgTWF0aGlldS0tRHJpZiA8Y2xlbWVudC5tYXRoaWV1LS1kcmlmQGV2aWRl
bi5jb20+DQoNCkFzIHRoZSBTVk0tY2FwYWJsZSBkZXZpY2VzIHdpbGwgbmVlZCB0byBjYWNoZSB0
cmFuc2xhdGlvbnMsIHdlIHByb3ZpZGUNCmFuIGZpcnN0IGltcGxlbWVudGF0aW9uLg0KDQpUaGlz
IGNhY2hlIHVzZXMgYSB0d28tbGV2ZWwgZGVzaWduIGJhc2VkIG9uIGhhc2ggdGFibGVzLg0KVGhl
IGZpcnN0IGxldmVsIGlzIGluZGV4ZWQgYnkgYSBQQVNJRCBhbmQgdGhlIHNlY29uZCBieSBhIHZp
cnR1YWwgYWRkcmVzc2UuDQoNClNpZ25lZC1vZmYtYnk6IENsw6ltZW50IE1hdGhpZXUtLURyaWYg
PGNsZW1lbnQubWF0aGlldS0tZHJpZkBldmlkZW4uY29tPg0KLS0tDQogdXRpbC9hdGMuYyAgICAg
ICB8IDIxMSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKw0K
IHV0aWwvYXRjLmggICAgICAgfCAxMTcgKysrKysrKysrKysrKysrKysrKysrKysrKysNCiB1dGls
L21lc29uLmJ1aWxkIHwgICAxICsNCiAzIGZpbGVzIGNoYW5nZWQsIDMyOSBpbnNlcnRpb25zKCsp
DQogY3JlYXRlIG1vZGUgMTAwNjQ0IHV0aWwvYXRjLmMNCiBjcmVhdGUgbW9kZSAxMDA2NDQgdXRp
bC9hdGMuaA0KDQpkaWZmIC0tZ2l0IGEvdXRpbC9hdGMuYyBiL3V0aWwvYXRjLmMNCm5ldyBmaWxl
IG1vZGUgMTAwNjQ0DQppbmRleCAwMDAwMDAwMDAwLi41ODRjZTA0NWRiDQotLS0gL2Rldi9udWxs
DQorKysgYi91dGlsL2F0Yy5jDQpAQCAtMCwwICsxLDIxMSBAQA0KKy8qDQorICogUUVNVSBlbXVs
YXRpb24gb2YgYW4gQVRDDQorICoNCisgKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsg
eW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQ0KKyAqIGl0IHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5DQor
ICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyIHZlcnNpb24gMiBvZiB0aGUg
TGljZW5zZSwgb3INCisgKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLg0KKw0K
KyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwg
YmUgdXNlZnVsLA0KKyAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRo
ZSBpbXBsaWVkIHdhcnJhbnR5IG9mDQorICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9S
IEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQ0KKyAqIEdOVSBHZW5lcmFsIFB1YmxpYyBM
aWNlbnNlIGZvciBtb3JlIGRldGFpbHMuDQorDQorICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVk
IGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcNCisgKiB3aXRo
IHRoaXMgcHJvZ3JhbTsgaWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+
Lg0KKyAqLw0KKw0KKyNpbmNsdWRlICJ1dGlsL2F0Yy5oIg0KKw0KKw0KKyNkZWZpbmUgUEFHRV9U
QUJMRV9FTlRSWV9TSVpFIDgNCisNCisvKiBhIHBhc2lkIGlzIGhhc2hlZCB1c2luZyB0aGUgaWRl
bnRpdHkgZnVuY3Rpb24gKi8NCitzdGF0aWMgZ3VpbnQgYXRjX3Bhc2lkX2tleV9oYXNoKGdjb25z
dHBvaW50ZXIgdikNCit7DQorICAgIHJldHVybiAoZ3VpbnQpKHVpbnRwdHJfdCl2OyAvKiBwYXNp
ZCAqLw0KK30NCisNCisvKiBwYXNpZCBlcXVhbGl0eSAqLw0KK3N0YXRpYyBnYm9vbGVhbiBhdGNf
cGFzaWRfa2V5X2VxdWFsKGdjb25zdHBvaW50ZXIgdjEsIGdjb25zdHBvaW50ZXIgdjIpDQorew0K
KyAgICByZXR1cm4gdjEgPT0gdjI7DQorfQ0KKw0KKy8qIEhhc2ggZnVuY3Rpb24gZm9yIElPVExC
IGVudHJpZXMgKi8NCitzdGF0aWMgZ3VpbnQgYXRjX2FkZHJfa2V5X2hhc2goZ2NvbnN0cG9pbnRl
ciB2KQ0KK3sNCisgICAgaHdhZGRyIGFkZHIgPSAoaHdhZGRyKXY7DQorICAgIHJldHVybiAoZ3Vp
bnQpKChhZGRyID4+IDMyKSBeIChhZGRyICYgMHhmZmZmZmZmZlUpKTsNCit9DQorDQorLyogRXF1
YWxpdHkgdGVzdCBmb3IgSU9UTEIgZW50cmllcyAqLw0KK3N0YXRpYyBnYm9vbGVhbiBhdGNfYWRk
cl9rZXlfZXF1YWwoZ2NvbnN0cG9pbnRlciB2MSwgZ2NvbnN0cG9pbnRlciB2MikNCit7DQorICAg
IHJldHVybiAoaHdhZGRyKXYxID09IChod2FkZHIpdjI7DQorfQ0KKw0KK3N0YXRpYyB2b2lkIGF0
Y19hZGRyZXNzX3NwYWNlX2ZyZWUodm9pZCAqYXMpDQorew0KKyAgICBnX2hhc2hfdGFibGVfdW5y
ZWYoYXMpOw0KK30NCisNCisvKiByZXR1cm4gbG9nMih2YWwpLCBvciBVSU5UOF9NQVggaWYgdmFs
IGlzIG5vdCBhIHBvd2VyIG9mIDIgKi8NCitzdGF0aWMgdWludDhfdCBpbG9nMih1aW50NjRfdCB2
YWwpDQorew0KKyAgICB1aW50OF90IHJlc3VsdCA9IDA7DQorICAgIHdoaWxlICh2YWwgIT0gMSkg
ew0KKyAgICAgICAgaWYgKHZhbCAmIDEpIHsNCisgICAgICAgICAgICByZXR1cm4gVUlOVDhfTUFY
Ow0KKyAgICAgICAgfQ0KKw0KKyAgICAgICAgdmFsID4+PSAxOw0KKyAgICAgICAgcmVzdWx0ICs9
IDE7DQorICAgIH0NCisgICAgcmV0dXJuIHJlc3VsdDsNCit9DQorDQorQVRDICphdGNfbmV3KHVp
bnQ2NF90IHBhZ2Vfc2l6ZSwgdWludDhfdCBhZGRyZXNzX3dpZHRoKQ0KK3sNCisgICAgQVRDICph
dGM7DQorICAgIHVpbnQ4X3QgbG9nX3BhZ2Vfc2l6ZSA9IGlsb2cyKHBhZ2Vfc2l6ZSk7DQorICAg
IC8qIG51bWJlciBvZiBiaXRzIGVhY2ggdXNlZCB0byBzdG9yZSBhbGwgdGhlIGludGVybWVkaWF0
ZSBpbmRleGVzICovDQorICAgIHVpbnQ2NF90IGFkZHJfbG9va3VwX2luZGV4ZXNfc2l6ZTsNCisN
CisgICAgaWYgKGxvZ19wYWdlX3NpemUgPT0gVUlOVDhfTUFYKSB7DQorICAgICAgICByZXR1cm4g
TlVMTDsNCisgICAgfQ0KKyAgICAvKg0KKyAgICAgKiBXZSBvbmx5IHN1cHBvcnQgcGFnZSB0YWJs
ZSBlbnRyaWVzIG9mIDggKFBBR0VfVEFCTEVfRU5UUllfU0laRSkgYnl0ZXMNCisgICAgICogbG9n
MihwYWdlX3NpemUgLyA4KSA9IGxvZzIocGFnZV9zaXplKSAtIDMNCisgICAgICogaXMgdGhlIGxl
dmVsIG9mZnNldA0KKyAgICAgKi8NCisgICAgaWYgKGxvZ19wYWdlX3NpemUgPD0gMykgew0KKyAg
ICAgICAgcmV0dXJuIE5VTEw7DQorICAgIH0NCisNCisgICAgYXRjID0gZ19uZXcwKEFUQywgMSk7
DQorICAgIGF0Yy0+YWRkcmVzc19zcGFjZXMgPSBnX2hhc2hfdGFibGVfbmV3X2Z1bGwoYXRjX3Bh
c2lkX2tleV9oYXNoLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGF0Y19wYXNpZF9rZXlfZXF1YWwsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgTlVMTCwgYXRjX2FkZHJlc3Nfc3BhY2VfZnJlZSk7DQorICAg
IGF0Yy0+bGV2ZWxfb2Zmc2V0ID0gbG9nX3BhZ2Vfc2l6ZSAtIDM7DQorICAgIC8qIGF0IHRoaXMg
cG9pbnQsIHdlIGtub3cgdGhhdCBwYWdlX3NpemUgaXMgYSBwb3dlciBvZiAyICovDQorICAgIGF0
Yy0+bWluX2FkZHJfbWFzayA9IHBhZ2Vfc2l6ZSAtIDE7DQorICAgIGFkZHJfbG9va3VwX2luZGV4
ZXNfc2l6ZSA9IGFkZHJlc3Nfd2lkdGggLSBsb2dfcGFnZV9zaXplOw0KKyAgICBpZiAoKGFkZHJf
bG9va3VwX2luZGV4ZXNfc2l6ZSAlIGF0Yy0+bGV2ZWxfb2Zmc2V0KSAhPSAwKSB7DQorICAgICAg
ICBnb3RvIGVycm9yOw0KKyAgICB9DQorICAgIGF0Yy0+bGV2ZWxzID0gYWRkcl9sb29rdXBfaW5k
ZXhlc19zaXplIC8gYXRjLT5sZXZlbF9vZmZzZXQ7DQorICAgIGF0Yy0+cGFnZV9zaXplID0gcGFn
ZV9zaXplOw0KKyAgICByZXR1cm4gYXRjOw0KKw0KK2Vycm9yOg0KKyAgICBnX2ZyZWUoYXRjKTsN
CisgICAgcmV0dXJuIE5VTEw7DQorfQ0KKw0KK3N0YXRpYyBpbmxpbmUgR0hhc2hUYWJsZSAqYXRj
X2dldF9hZGRyZXNzX3NwYWNlX2NhY2hlKEFUQyAqYXRjLCB1aW50MzJfdCBwYXNpZCkNCit7DQor
ICAgIHJldHVybiBnX2hhc2hfdGFibGVfbG9va3VwKGF0Yy0+YWRkcmVzc19zcGFjZXMsDQorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnY29uc3Rwb2ludGVyKSh1aW50cHRyX3QpcGFz
aWQpOw0KK30NCisNCit2b2lkIGF0Y19jcmVhdGVfYWRkcmVzc19zcGFjZV9jYWNoZShBVEMgKmF0
YywgdWludDMyX3QgcGFzaWQpDQorew0KKyAgICBHSGFzaFRhYmxlICphc19jYWNoZTsNCisNCisg
ICAgYXNfY2FjaGUgPSBhdGNfZ2V0X2FkZHJlc3Nfc3BhY2VfY2FjaGUoYXRjLCBwYXNpZCk7DQor
ICAgIGlmICghYXNfY2FjaGUpIHsNCisgICAgICAgIGFzX2NhY2hlID0gZ19oYXNoX3RhYmxlX25l
d19mdWxsKGF0Y19hZGRyX2tleV9oYXNoLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgYXRjX2FkZHJfa2V5X2VxdWFsLA0KKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgTlVMTCwgZ19mcmVlKTsNCisgICAgICAgIGdfaGFzaF90YWJsZV9y
ZXBsYWNlKGF0Yy0+YWRkcmVzc19zcGFjZXMsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAoZ3BvaW50ZXIpKHVpbnRwdHJfdClwYXNpZCwgYXNfY2FjaGUpOw0KKyAgICB9DQorfQ0KKw0K
K3ZvaWQgYXRjX2RlbGV0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlKEFUQyAqYXRjLCB1aW50MzJfdCBw
YXNpZCkNCit7DQorICAgIGdfaGFzaF90YWJsZV9yZW1vdmUoYXRjLT5hZGRyZXNzX3NwYWNlcywg
KGdwb2ludGVyKSh1aW50cHRyX3QpcGFzaWQpOw0KK30NCisNCitpbnQgYXRjX3VwZGF0ZShBVEMg
KmF0YywgSU9NTVVUTEJFbnRyeSAqZW50cnkpDQorew0KKyAgICBJT01NVVRMQkVudHJ5ICp2YWx1
ZTsNCisgICAgR0hhc2hUYWJsZSAqYXNfY2FjaGUgPSBhdGNfZ2V0X2FkZHJlc3Nfc3BhY2VfY2Fj
aGUoYXRjLCBlbnRyeS0+cGFzaWQpOw0KKyAgICBpZiAoIWFzX2NhY2hlKSB7DQorICAgICAgICBy
ZXR1cm4gLUVOT0RFVjsNCisgICAgfQ0KKyAgICB2YWx1ZSA9IGdfbWVtZHVwMihlbnRyeSwgc2l6
ZW9mKCp2YWx1ZSkpOw0KKyAgICBnX2hhc2hfdGFibGVfcmVwbGFjZShhc19jYWNoZSwgKGdwb2lu
dGVyKShlbnRyeS0+aW92YSksIHZhbHVlKTsNCisgICAgcmV0dXJuIDA7DQorfQ0KKw0KK0lPTU1V
VExCRW50cnkgKmF0Y19sb29rdXAoQVRDICphdGMsIHVpbnQzMl90IHBhc2lkLCBod2FkZHIgYWRk
cikNCit7DQorICAgIElPTU1VVExCRW50cnkgKmVudHJ5Ow0KKyAgICBod2FkZHIgbWFzayA9IGF0
Yy0+bWluX2FkZHJfbWFzazsNCisgICAgaHdhZGRyIGtleSA9IGFkZHIgJiAofm1hc2spOw0KKyAg
ICBHSGFzaFRhYmxlICphc19jYWNoZSA9IGF0Y19nZXRfYWRkcmVzc19zcGFjZV9jYWNoZShhdGMs
IHBhc2lkKTsNCisNCisgICAgaWYgKCFhc19jYWNoZSkgew0KKyAgICAgICAgcmV0dXJuIE5VTEw7
DQorICAgIH0NCisNCisgICAgLyoNCisgICAgICogSXRlcmF0ZSBvdmVyIHRoZSBwb3NzaWJsZSBw
YWdlIHNpemVzIGFuZCB0cnkgdG8gZmluZCBhIGhpdA0KKyAgICAgKi8NCisgICAgZm9yICh1aW50
OF90IGxldmVsID0gMDsgbGV2ZWwgPCBhdGMtPmxldmVsczsgKytsZXZlbCkgew0KKyAgICAgICAg
ZW50cnkgPSBnX2hhc2hfdGFibGVfbG9va3VwKGFzX2NhY2hlLCAoZ2NvbnN0cG9pbnRlcilrZXkp
Ow0KKyAgICAgICAgaWYgKGVudHJ5ICYmIChtYXNrID09IGVudHJ5LT5hZGRyX21hc2spKSB7DQor
ICAgICAgICAgICAgcmV0dXJuIGVudHJ5Ow0KKyAgICAgICAgfQ0KKyAgICAgICAgbWFzayA9ICht
YXNrIDw8IGF0Yy0+bGV2ZWxfb2Zmc2V0KSB8ICgoMSA8PCBhdGMtPmxldmVsX29mZnNldCkgLSAx
KTsNCisgICAgICAgIGtleSA9IGFkZHIgJiAofm1hc2spOw0KKyAgICB9DQorDQorICAgIHJldHVy
biBOVUxMOw0KK30NCisNCitzdGF0aWMgZ2Jvb2xlYW4gYXRjX2ludmFsaWRhdGVfZW50cnlfcHJl
ZGljYXRlKGdwb2ludGVyIGtleSwgZ3BvaW50ZXIgdmFsdWUsDQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncG9pbnRlciB1c2VyX2RhdGEpDQorew0KKyAg
ICBJT01NVVRMQkVudHJ5ICplbnRyeSA9IChJT01NVVRMQkVudHJ5ICopdmFsdWU7DQorICAgIElP
TU1VVExCRW50cnkgKnRhcmdldCA9IChJT01NVVRMQkVudHJ5ICopdXNlcl9kYXRhOw0KKyAgICBo
d2FkZHIgdGFyZ2V0X21hc2sgPSB+dGFyZ2V0LT5hZGRyX21hc2s7DQorICAgIGh3YWRkciBlbnRy
eV9tYXNrID0gfmVudHJ5LT5hZGRyX21hc2s7DQorICAgIHJldHVybiAoKHRhcmdldC0+aW92YSAm
IHRhcmdldF9tYXNrKSA9PSAoZW50cnktPmlvdmEgJiB0YXJnZXRfbWFzaykpIHx8DQorICAgICAg
ICAgICAoKHRhcmdldC0+aW92YSAmIGVudHJ5X21hc2spID09IChlbnRyeS0+aW92YSAmIGVudHJ5
X21hc2spKTsNCit9DQorDQordm9pZCBhdGNfaW52YWxpZGF0ZShBVEMgKmF0YywgSU9NTVVUTEJF
bnRyeSAqZW50cnkpDQorew0KKyAgICBHSGFzaFRhYmxlICphc19jYWNoZSA9IGF0Y19nZXRfYWRk
cmVzc19zcGFjZV9jYWNoZShhdGMsIGVudHJ5LT5wYXNpZCk7DQorICAgIGlmICghYXNfY2FjaGUp
IHsNCisgICAgICAgIHJldHVybjsNCisgICAgfQ0KKyAgICBnX2hhc2hfdGFibGVfZm9yZWFjaF9y
ZW1vdmUoYXNfY2FjaGUsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdGNfaW52
YWxpZGF0ZV9lbnRyeV9wcmVkaWNhdGUsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBlbnRyeSk7DQorfQ0KKw0KK3ZvaWQgYXRjX2Rlc3Ryb3koQVRDICphdGMpDQorew0KKyAgICBn
X2hhc2hfdGFibGVfdW5yZWYoYXRjLT5hZGRyZXNzX3NwYWNlcyk7DQorfQ0KKw0KK3NpemVfdCBh
dGNfZ2V0X21heF9udW1iZXJfb2ZfcGFnZXMoQVRDICphdGMsIGh3YWRkciBhZGRyLCBzaXplX3Qg
bGVuZ3RoKQ0KK3sNCisgICAgaHdhZGRyIHBhZ2VfbWFzayA9IH4oYXRjLT5taW5fYWRkcl9tYXNr
KTsNCisgICAgc2l6ZV90IHJlc3VsdCA9IChsZW5ndGggLyBhdGMtPnBhZ2Vfc2l6ZSk7DQorICAg
IGlmICgoKChhZGRyICYgcGFnZV9tYXNrKSArIGxlbmd0aCAtIDEpICYgcGFnZV9tYXNrKSAhPQ0K
KyAgICAgICAgKChhZGRyICsgbGVuZ3RoIC0gMSkgJiBwYWdlX21hc2spKSB7DQorICAgICAgICBy
ZXN1bHQgKz0gMTsNCisgICAgfQ0KKyAgICByZXR1cm4gcmVzdWx0ICsgKGxlbmd0aCAlIGF0Yy0+
cGFnZV9zaXplICE9IDAgPyAxIDogMCk7DQorfQ0KKw0KK3ZvaWQgYXRjX3Jlc2V0KEFUQyAqYXRj
KQ0KK3sNCisgICAgZ19oYXNoX3RhYmxlX3JlbW92ZV9hbGwoYXRjLT5hZGRyZXNzX3NwYWNlcyk7
DQorfQ0KZGlmZiAtLWdpdCBhL3V0aWwvYXRjLmggYi91dGlsL2F0Yy5oDQpuZXcgZmlsZSBtb2Rl
IDEwMDY0NA0KaW5kZXggMDAwMDAwMDAwMC4uOGJlOTVmNWNjYQ0KLS0tIC9kZXYvbnVsbA0KKysr
IGIvdXRpbC9hdGMuaA0KQEAgLTAsMCArMSwxMTcgQEANCisvKg0KKyAqIFFFTVUgZW11bGF0aW9u
IG9mIGFuIEFUQw0KKyAqDQorICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBj
YW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkNCisgKiBpdCB1bmRlciB0aGUgdGVybXMg
b2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQ0KKyAqIHRo
ZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIgb2YgdGhlIExpY2Vu
c2UsIG9yDQorICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4NCisNCisgKiBU
aGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVz
ZWZ1bCwNCisgKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1w
bGllZCB3YXJyYW50eSBvZg0KKyAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBB
UlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUNCisgKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5z
ZSBmb3IgbW9yZSBkZXRhaWxzLg0KKw0KKyAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNv
cHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nDQorICogd2l0aCB0aGlz
IHByb2dyYW07IGlmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4NCisg
Ki8NCisNCisjaWZuZGVmIFVUSUxfQVRDX0gNCisjZGVmaW5lIFVUSUxfQVRDX0gNCisNCisjaW5j
bHVkZSAicWVtdS9vc2RlcC5oIg0KKyNpbmNsdWRlICJleGVjL21lbW9yeS5oIg0KKw0KK3R5cGVk
ZWYgc3RydWN0IEFUQyB7DQorICAgIEdIYXNoVGFibGUgKmFkZHJlc3Nfc3BhY2VzOyAvKiBLZXkg
OiBwYXNpZCwgdmFsdWUgOiBHSGFzaFRhYmxlICovDQorICAgIGh3YWRkciBtaW5fYWRkcl9tYXNr
Ow0KKyAgICB1aW50NjRfdCBwYWdlX3NpemU7DQorICAgIHVpbnQ4X3QgbGV2ZWxzOw0KKyAgICB1
aW50OF90IGxldmVsX29mZnNldDsNCit9IEFUQzsNCisNCisvKg0KKyAqIGF0Y19uZXc6IENyZWF0
ZSBhbiBBVEMuDQorICoNCisgKiBSZXR1cm4gYW4gQVRDIG9yIE5VTEwgaWYgdGhlIGNyZWF0aW9u
IGZhaWxlZA0KKyAqDQorICogQHBhZ2Vfc2l6ZTogI1BDSURldmljZSBkb2luZyB0aGUgbWVtb3J5
IGFjY2Vzcw0KKyAqIEBhZGRyZXNzX3dpZHRoOiB3aWR0aCBvZiB0aGUgdmlydHVhbCBhZGRyZXNz
ZXMgdXNlZCBieSB0aGUgSU9NTVUgKGluIGJpdHMpDQorICovDQorQVRDICphdGNfbmV3KHVpbnQ2
NF90IHBhZ2Vfc2l6ZSwgdWludDhfdCBhZGRyZXNzX3dpZHRoKTsNCisNCisvKg0KKyAqIGF0Y191
cGRhdGU6IEluc2VydCBvciB1cGRhdGUgYW4gZW50cnkgaW4gdGhlIGNhY2hlDQorICoNCisgKiBS
ZXR1cm4gMCBpZiB0aGUgb3BlcmF0aW9uIHN1Y2NlZWRzLCBhIG5lZ2F0aXZlIGVycm9yIGNvZGUg
b3RoZXJ3aXNlDQorICoNCisgKiBUaGUgaW5zZXJ0aW9uIHdpbGwgZmFpbCBpZiB0aGUgYWRkcmVz
cyBzcGFjZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBwYXNpZA0KKyAqIGhhcyBub3QgYmVlbiBjcmVh
dGVkIHdpdGggYXRjX2NyZWF0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlDQorICoNCisgKiBAYXRjOiB0
aGUgQVRDIHRvIHVwZGF0ZQ0KKyAqIEBlbnRyeTogdGhlIHRsYiBlbnRyeSB0byBpbnNlcnQgaW50
byB0aGUgY2FjaGUNCisgKi8NCitpbnQgYXRjX3VwZGF0ZShBVEMgKmF0YywgSU9NTVVUTEJFbnRy
eSAqZW50cnkpOw0KKw0KKy8qDQorICogYXRjX2NyZWF0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlOiBk
ZWxhcmUgYSBuZXcgYWRkcmVzcyBzcGFjZQ0KKyAqIGlkZW50aWZpZWQgYnkgYSBQQVNJRA0KKyAq
DQorICogQGF0YzogdGhlIEFUQyB0byB1cGRhdGUNCisgKiBAcGFzaWQ6IHRoZSBwYXNpZCBvZiB0
aGUgYWRkcmVzcyBzcGFjZSB0byBiZSBjcmVhdGVkDQorICovDQordm9pZCBhdGNfY3JlYXRlX2Fk
ZHJlc3Nfc3BhY2VfY2FjaGUoQVRDICphdGMsIHVpbnQzMl90IHBhc2lkKTsNCisNCisvKg0KKyAq
IGF0Y19kZWxldGVfYWRkcmVzc19zcGFjZV9jYWNoZTogZGVsZXRlIGFuIGFkZHJlc3Mgc3BhY2UN
CisgKiBpZGVudGlmaWVkIGJ5IGEgUEFTSUQNCisgKg0KKyAqIEBhdGM6IHRoZSBBVEMgdG8gdXBk
YXRlDQorICogQHBhc2lkOiB0aGUgcGFzaWQgb2YgdGhlIGFkZHJlc3Mgc3BhY2UgdG8gYmUgZGVs
ZXRlZA0KKyAqLw0KK3ZvaWQgYXRjX2RlbGV0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlKEFUQyAqYXRj
LCB1aW50MzJfdCBwYXNpZCk7DQorDQorLyoNCisgKiBhdGNfbG9va3VwOiBxdWVyeSB0aGUgY2Fj
aGUgaW4gYSBnaXZlbiBhZGRyZXNzIHNwYWNlDQorICoNCisgKiBAYXRjOiB0aGUgQVRDIHRvIHF1
ZXJ5DQorICogQHBhc2lkOiB0aGUgcGFzaWQgb2YgdGhlIGFkZHJlc3Mgc3BhY2UgdG8gcXVlcnkN
CisgKiBAYWRkcjogdGhlIHZpcnR1YWwgYWRkcmVzcyB0byB0cmFuc2xhdGUNCisgKi8NCitJT01N
VVRMQkVudHJ5ICphdGNfbG9va3VwKEFUQyAqYXRjLCB1aW50MzJfdCBwYXNpZCwgaHdhZGRyIGFk
ZHIpOw0KKw0KKy8qDQorICogYXRjX2ludmFsaWRhdGU6IGludmFsaWRhdGUgYW4gZW50cnkgaW4g
dGhlIGNhY2hlDQorICoNCisgKiBAYXRjOiB0aGUgQVRDIHRvIHVwZGF0ZQ0KKyAqIEBlbnRyeTog
dGhlIGVudHJ5IHRvIGludmFsaWRhdGUNCisgKi8NCit2b2lkIGF0Y19pbnZhbGlkYXRlKEFUQyAq
YXRjLCBJT01NVVRMQkVudHJ5ICplbnRyeSk7DQorDQorLyoNCisgKiBhdGNfZGVzdHJveTogZGVs
ZXRlIGFuIEFUQw0KKyAqDQorICogQGF0YzogdGhlIGNhY2hlIHRvIGJlIGRlbGV0ZWQNCisgKi8N
Cit2b2lkIGF0Y19kZXN0cm95KEFUQyAqYXRjKTsNCisNCisvKg0KKyAqIGF0Y19nZXRfbWF4X251
bWJlcl9vZl9wYWdlczogZ2V0IHRoZSBudW1iZXIgb2YgcGFnZXMgYSBtZW1vcnkgb3BlcmF0aW9u
DQorICogd2lsbCBhY2Nlc3MgaWYgYWxsIHRoZSBwYWdlcyBjb25jZXJuZWQgaGF2ZSB0aGUgbWlu
aW11bSBzaXplLg0KKyAqDQorICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBkZXRlcm1p
bmUgdGhlIHNpemUgb2YgdGhlIHJlc3VsdCBhcnJheSB0byBiZQ0KKyAqIGFsbG9jYXRlZCB3aGVu
IGlzc3VpbmcgYW4gQVRTIHJlcXVlc3QuDQorICoNCisgKiBAYXRjOiB0aGUgY2FjaGUNCisgKiBA
YWRkcjogc3RhcnQgYWRkcmVzcw0KKyAqIEBsZW5ndGg6IG51bWJlciBvZiBieXRlcyBhY2Nlc3Nl
ZCBmcm9tIGFkZHINCisgKi8NCitzaXplX3QgYXRjX2dldF9tYXhfbnVtYmVyX29mX3BhZ2VzKEFU
QyAqYXRjLCBod2FkZHIgYWRkciwgc2l6ZV90IGxlbmd0aCk7DQorDQorLyoNCisgKiBhdGNfcmVz
ZXQ6IGludmFsaWRhdGVzIGFsbCB0aGUgZW50cmllcyBzdG9yZWQgaW4gdGhlIEFUQw0KKyAqDQor
ICogQGF0YzogdGhlIGNhY2hlDQorICovDQordm9pZCBhdGNfcmVzZXQoQVRDICphdGMpOw0KKw0K
KyNlbmRpZg0KZGlmZiAtLWdpdCBhL3V0aWwvbWVzb24uYnVpbGQgYi91dGlsL21lc29uLmJ1aWxk
DQppbmRleCA3MmI1MDVkZjExLi4yMjczZjgxNzZhIDEwMDY0NA0KLS0tIGEvdXRpbC9tZXNvbi5i
dWlsZA0KKysrIGIvdXRpbC9tZXNvbi5idWlsZA0KQEAgLTkzLDYgKzkzLDcgQEAgaWYgaGF2ZV9i
bG9jaw0KICAgdXRpbF9zcy5hZGQoZmlsZXMoJ2hiaXRtYXAuYycpKQ0KICAgdXRpbF9zcy5hZGQo
ZmlsZXMoJ2hleGR1bXAuYycpKQ0KICAgdXRpbF9zcy5hZGQoZmlsZXMoJ2lvdmEtdHJlZS5jJykp
DQorICB1dGlsX3NzLmFkZChmaWxlcygnYXRjLmMnKSkNCiAgIHV0aWxfc3MuYWRkKGZpbGVzKCdp
b3YuYycpKQ0KICAgdXRpbF9zcy5hZGQoZmlsZXMoJ252ZGltbS11dGlscy5jJykpDQogICB1dGls
X3NzLmFkZChmaWxlcygnYmxvY2staGVscGVycy5jJykpDQotLSANCjIuNDUuMg==

