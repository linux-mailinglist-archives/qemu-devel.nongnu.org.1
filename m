Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 7F3B27E5020
	for <lists+qemu-devel@lfdr.de>; Wed,  8 Nov 2023 06:46:55 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1r0bNn-00024f-Pi; Wed, 08 Nov 2023 00:45:43 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <zhenzhong.duan@intel.com>)
 id 1r0bNl-00024V-CF
 for qemu-devel@nongnu.org; Wed, 08 Nov 2023 00:45:41 -0500
Received: from mgamail.intel.com ([134.134.136.31])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <zhenzhong.duan@intel.com>)
 id 1r0bNh-0005tR-Nb
 for qemu-devel@nongnu.org; Wed, 08 Nov 2023 00:45:41 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=intel.com; i=@intel.com; q=dns/txt; s=Intel;
 t=1699422337; x=1730958337;
 h=from:to:cc:subject:date:message-id:references:
 in-reply-to:content-transfer-encoding:mime-version;
 bh=qmFhngXNroYb9DJzWlIJ311MeixNmZpAPXIYu4jDzfI=;
 b=Ukh7LFfVsnjVlC0W3roVfvdu+X4f0ffyvr23By77XxhgPlOG7yJV5nok
 qjwe2AhOHZHh2yLJVHdezKdgdmAXDoIn6xa95q28X2uEnS0nGNuyxgkzf
 BIpfy4S8se8IENYGB0HAt8ZfTbIsm4SRcC+WJKB72+Oqe+ROWHHwoQ25p
 hxU+SrnlH3nTkregxISP4+zw/3OFTHP5aM/Z+GkNLT+Jk7A+wyauwAKW3
 Efh5/HqhVl0vdTejVW5NA2KDFl8a3iyYN8fEjbgp6uyco6GK8dtRvWrJ5
 U+yzabqaZYt7RJoIaNjbB32pnnkUqvNxZFnXBWKCQyr5SWaVTSiYDUykv w==;
X-IronPort-AV: E=McAfee;i="6600,9927,10887"; a="453999535"
X-IronPort-AV: E=Sophos;i="6.03,285,1694761200"; d="scan'208";a="453999535"
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by orsmga104.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 07 Nov 2023 21:45:34 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=McAfee;i="6600,9927,10887"; a="762950094"
X-IronPort-AV: E=Sophos;i="6.03,285,1694761200"; d="scan'208";a="762950094"
Received: from fmsmsx602.amr.corp.intel.com ([10.18.126.82])
 by orsmga002.jf.intel.com with ESMTP/TLS/AES256-GCM-SHA384;
 07 Nov 2023 21:45:34 -0800
Received: from fmsmsx611.amr.corp.intel.com (10.18.126.91) by
 fmsmsx602.amr.corp.intel.com (10.18.126.82) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2507.34; Tue, 7 Nov 2023 21:45:33 -0800
Received: from fmsmsx610.amr.corp.intel.com (10.18.126.90) by
 fmsmsx611.amr.corp.intel.com (10.18.126.91) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2507.34; Tue, 7 Nov 2023 21:45:32 -0800
Received: from fmsedg602.ED.cps.intel.com (10.1.192.136) by
 fmsmsx610.amr.corp.intel.com (10.18.126.90) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2507.34 via Frontend Transport; Tue, 7 Nov 2023 21:45:32 -0800
Received: from NAM11-BN8-obe.outbound.protection.outlook.com (104.47.58.168)
 by edgegateway.intel.com (192.55.55.71) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.1.2507.34; Tue, 7 Nov 2023 21:45:32 -0800
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=mrBeRdogo5yeccZMdaikA8QCTTLGz9140UqGYXwnR5uMKLVG0UoDuBqZQFj+xztsxJrEIX3qTMhNnI2iAnFhlDgp93h2eV1zedOv6mHINBOLZDjWSLtymo4qmTr8LgPRlXE/Jyy0V3BtzcbmG57b6LiTKMttx9TrHBbCFVCJlsZ2d6vsRbaEDzovN4PqurWHyE2TDh2UzsGTk+Ic5G96cVxxBegI1ZaPLv8Tds1GiM+ALCFu7npGIgBrKFUQc96MigUZqZszIpYYVR9mcRJNJ4vc46DPZs/a45iFOrX5FJiiFPJwxIUMbhY3KjrZFbAvatAhPw2uG5mTZpKc6QYlKA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=qmFhngXNroYb9DJzWlIJ311MeixNmZpAPXIYu4jDzfI=;
 b=DKDlyrgpdxYYMlNM/vo5Lf0oOvGBjKND8MOX+E96mXFLeEWkqbaHJ09ddIyF/+nsGvU5/P96Fc0ujoGdgHF9YDJgf0hK41zSvzW3FiZNVhKezjCRjGxuCWeWotFZH4XYvynEpugNVaqy65mQrIdIUekCj9P6oitkW/qqws4c0m9wgFDeOmmtFdn2jlr+cqMOId+yqwbu2fnysny/MeTN2I8PJpvB/i7SM+Ejbvj6fkEgPl3a43GYa1DjXU3F8uaLTjQsM9C6FzpyuAMnDAvy3zi6mUt+yzD7JoPvKJGK5BiBr2MX0iatHt4XSxRniQbJuFNuuXacAXEQlY8fRPQSJQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=intel.com; dmarc=pass action=none header.from=intel.com;
 dkim=pass header.d=intel.com; arc=none
Received: from SJ0PR11MB6744.namprd11.prod.outlook.com (2603:10b6:a03:47d::10)
 by CYYPR11MB8329.namprd11.prod.outlook.com (2603:10b6:930:c7::20)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6954.29; Wed, 8 Nov
 2023 05:45:29 +0000
Received: from SJ0PR11MB6744.namprd11.prod.outlook.com
 ([fe80::a4bb:8de0:9dde:2fea]) by SJ0PR11MB6744.namprd11.prod.outlook.com
 ([fe80::a4bb:8de0:9dde:2fea%4]) with mapi id 15.20.6954.028; Wed, 8 Nov 2023
 05:45:29 +0000
From: "Duan, Zhenzhong" <zhenzhong.duan@intel.com>
To: =?utf-8?B?Q8OpZHJpYyBMZSBHb2F0ZXI=?= <clg@redhat.com>,
 "qemu-devel@nongnu.org" <qemu-devel@nongnu.org>
CC: "alex.williamson@redhat.com" <alex.williamson@redhat.com>,
 "jgg@nvidia.com" <jgg@nvidia.com>, "nicolinc@nvidia.com"
 <nicolinc@nvidia.com>, "Martins, Joao" <joao.m.martins@oracle.com>,
 "eric.auger@redhat.com" <eric.auger@redhat.com>, "peterx@redhat.com"
 <peterx@redhat.com>, "jasowang@redhat.com" <jasowang@redhat.com>, "Tian,
 Kevin" <kevin.tian@intel.com>, "Liu, Yi L" <yi.l.liu@intel.com>, "Sun, Yi Y"
 <yi.y.sun@intel.com>, "Peng, Chao P" <chao.p.peng@intel.com>
Subject: RE: [PATCH v4 28/41] vfio/iommufd: Implement the iommufd backend
Thread-Topic: [PATCH v4 28/41] vfio/iommufd: Implement the iommufd backend
Thread-Index: AQHaDV58rXzWcAbguEiSUs8ukZNa17Bu5WAAgAEM/LA=
Date: Wed, 8 Nov 2023 05:45:29 +0000
Message-ID: <SJ0PR11MB6744337449DF817248BA8B5A92A8A@SJ0PR11MB6744.namprd11.prod.outlook.com>
References: <20231102071302.1818071-1-zhenzhong.duan@intel.com>
 <20231102071302.1818071-29-zhenzhong.duan@intel.com>
 <ceab2862-d251-489e-8fdf-c93048a52243@redhat.com>
In-Reply-To: <ceab2862-d251-489e-8fdf-c93048a52243@redhat.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=intel.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: SJ0PR11MB6744:EE_|CYYPR11MB8329:EE_
x-ms-office365-filtering-correlation-id: 33069afb-84e4-426c-841e-08dbe01dea74
x-ld-processed: 46c98d88-e344-4ed4-8496-4ed7712e255d,ExtAddr
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: DEkDLgZ//zHJ3EiX6HU2I8JKnD4fOBZiuDPBG6hIjFo+62xsGBFNz/2aSZZLEiJk2AlQtE7f9YGnjR7/N/emRJZ2AWQLnHLmlpbVDV5bZ6sTGBMLPpwfrpEaUGIOk8m+eYnqY76XCOlYsgjrmEKuaw3iv+HY7LuremVPNK6voN2LZHSXlAJF1raryvi0dA3QeffmH2hLOE0ToxmGWGWEQc09cundLYAEhp2QmtGvmAE0i6+ZsM5ji+Zlm6/T8RGdb3/yYoZBLWzjjPzKJ37epQS7JnZ74trk1ZU+z3MZsHdIOM0Drh75ZrAPwcrI7gYjepDLVXONXRNa1XbvxI4xx9tqsMiDKPpxw0Di7XhWFzHnpsmPjYn9hkxJh6PXprdPKye+H6mJ+mFCRxWqLI5ZXDjnY5PUZMOAJG5Js3G9B00LXsCQUi2MoiJE51eSFySNDSlL2ItnxUI9XB2MYExldGp9EvSy5XL1F/9D1Iz0N+LV/kmWmLbt/x9Pan18QoQfO7A1iZghqUmXFN5zLH507Vlmqc8NdNRTRinjLOTdAUfK1S1yliQE33seb/YXz08H1sL/5vbrz69SPgFQrj4H8ScpKgglJ8S1qESCE0i5bk6ebU7k3mt8D4T1omwS08Ax
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:SJ0PR11MB6744.namprd11.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230031)(376002)(39860400002)(346002)(396003)(366004)(136003)(230922051799003)(451199024)(1800799009)(64100799003)(186009)(82960400001)(107886003)(122000001)(38070700009)(66574015)(83380400001)(76116006)(66946007)(26005)(478600001)(7696005)(6506007)(71200400001)(9686003)(66556008)(66476007)(2906002)(8676002)(8936002)(55016003)(110136005)(41300700001)(38100700002)(5660300002)(4326008)(52536014)(30864003)(86362001)(66446008)(316002)(64756008)(33656002)(54906003)(579004);
 DIR:OUT; SFP:1102; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?N0QrbnpFdTVJY3NpUCs0V3VoRzZwTHBHMW9MRUU4M1ZMU0V5ZWs4NFFkeGtn?=
 =?utf-8?B?VktETTRNWldlanhMWXRWUllDSmdUQ0h4cE9nWCtKSktkZlJCY0FrWDFEcmxB?=
 =?utf-8?B?Y09tOUE5NHdWajlxclBkVDdubzlFbUNWb2dLaURUeHppZThiRXNyclFPWjEv?=
 =?utf-8?B?c3IwODJrWGk2U1ZuOTZBcTMzNWJHQUJVdVN1K3lYbXNmUW1SYzdYK2lha2N5?=
 =?utf-8?B?K1ZsMWdXanhXVEgyYTlVV0F5Z0QxanZQN1JoOUlPYUk4RkZqK0VJbk5IOGt5?=
 =?utf-8?B?NmFZYk1obEtpZEV3cmNaeUo0TC9rNlAwNGtsa2FMRndjY1lzQzFuYXZ6bS9a?=
 =?utf-8?B?VCt3VHJiRWdWejN5Zi9semdjQVNtS1N3czRrL3BDL0l6amdJSmlScVFHTlZj?=
 =?utf-8?B?aDVwNVhPaWkxL0lpd1pETXI4V3hKZUp2V0tJeTNqS0l2MG1ONnFpcUpuWFk2?=
 =?utf-8?B?ZnduY25qWjBnN2wwVTVCQlJJMDhVa0lIeVpZd0Fhall5Uis5TTkrNnBaejhy?=
 =?utf-8?B?NERuOHJSMmFVWTl3Nm0zbHRyWVhHRExvWEZjUXh2YWY0VnVXNURHSGVUK2tX?=
 =?utf-8?B?TjRINEJsTjExNStoUFZESXF2aGVGMUVUZDNyaGtqcktkRlZ6VEd0a2I3WGJB?=
 =?utf-8?B?R2JBWTg0TDQ0WjQ5d2pqU2l2TWNETVRpaSs5LzhybjY3bHFiNFp5TVJmNFor?=
 =?utf-8?B?bUJQWFdGbEl0NlVnd1RkT3cvMlVlMWVBQXZ5LzduK2M5dm1SbVpaV1VMSTNl?=
 =?utf-8?B?aHJJcjZ1RXZ3STUvbUN2VUttQ1hoMEFWRldnWUhwS1NhaWpNNEpqbUYzS09T?=
 =?utf-8?B?UHBDeWZnODlqb1k3ZXNaNEpsbFRyalFjYWk3T3pSdWIzQ2xJT3E2L1VUYzNC?=
 =?utf-8?B?Ykw5ek9Venk0UllEV3dRR0pmVUpsTXI0UDg2UmZJTHcweStKaElERjFlRHVn?=
 =?utf-8?B?OXpBdXJrelFxSWFtTHFUN2ovV2duSXJ4L1J6d2xXbVlDbGgyNEcvVEpjSFRz?=
 =?utf-8?B?dlJ6NWpwWEY2dW5YUE9QSXhTY1lRUVRjb2s5N1lYTHFUMDhuZ21IZTFNYUY0?=
 =?utf-8?B?cEUrYnNzQ3JvS2xNSlM4ZWE5dWVCVlFRdWE4bXJzbHZZKzVhRyt4S0xZQm9x?=
 =?utf-8?B?NUxIVHpqRTI2QjI1MkNpVitIbGVpKzBlMkxYTU9oMG1NUnZlWU9uU2J0ZG1T?=
 =?utf-8?B?bGNxU014UHRweE5GcHRjZWw5NDVOUWtTM2ZpNUdJU282QXdoWVZTTUp4cDU4?=
 =?utf-8?B?NVRqWlc0Y2NJcjVGRHJrcDZ5Ni90b29ZUXZtZUdBUTQ1by9xTkxnaVFDT2N0?=
 =?utf-8?B?WStOMlR5akF3Z0RZQlVGc210UkV6QmZsVEN2MDZ5bTc3VGw4dzRHNjUxU0R0?=
 =?utf-8?B?elplUnlMMmxaeldQbHd4SlRWOHQ5K0g0ZzJGR0RDK3NPK29xaHY3TStVOWJ0?=
 =?utf-8?B?TDJ0MkxNdEt6Sit0NlRGUlROcE9XS2ZVOWxGdHNSSFJFYWlQeFUxWEprZWdM?=
 =?utf-8?B?MGZtZm4rZlFFMHV2cFpsQWJwL1Rlbmw5Y1ZGYXVudE5obXNBcFo1N0JMU2Jp?=
 =?utf-8?B?K0FEVWUwcFVBcyt2TGs2djFZS1FBby82ZnZCeGU1dURVV1RkdjUvQlpKZUpN?=
 =?utf-8?B?a2YrUUh3ZTFIWFpOWXg2YWxiK1o0ckxUc3VacG1kaDRzb3BBRm5qcXBrMUFa?=
 =?utf-8?B?alZvNmF5bG5iWldWL2cxblJwcFBaclJSa3FjRHVrazc2dFI1a0VTNjFwaFhs?=
 =?utf-8?B?bnJrSmtlakJOZThZOVV3NWxrMTNoaElxRkRaOVdiSURiVlF0bUNtbHZSZG12?=
 =?utf-8?B?MXV4U0trdjhaZDBqdHY2UC92SUJxWmlYblNRbWozalBMQ0pPVjcyTVpTelZH?=
 =?utf-8?B?VktmanpJN2srVDd0RWkwT1g4T3dYN2tBRnJUSTltcGFpMWxaODN0bmF6bW9P?=
 =?utf-8?B?K2dlTXB0SXBGZEJxQjJKM0pQeTBXQVNwYTFBcGZRV1ZHUTZ1SHB5UTgzeWpy?=
 =?utf-8?B?MG9CTmx3dE1zRjlZajJlMUp6ZDFabGlHNmFEdDNqTlR2bFVZcjlJaUsxNE4z?=
 =?utf-8?B?M2x1aSt6S2ZIL3BEdUxyUEtyalhQMVozcE83dUo2Z3Z5elZmMVljVFVWc0t5?=
 =?utf-8?Q?rJ7krTdYVj91P0zXT0Jml9hA0?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: SJ0PR11MB6744.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 33069afb-84e4-426c-841e-08dbe01dea74
X-MS-Exchange-CrossTenant-originalarrivaltime: 08 Nov 2023 05:45:29.4678 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 46c98d88-e344-4ed4-8496-4ed7712e255d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: RfTXKgQ3G6VIBTndQrfWKPVYq4mpavrOxJMx5jfyZIauySr9IpUDvilMS9z9gJEk8gv7UMY9nIQ4K1rf3ZkUYea0j5WXrF+Wzt6bXpRNeVs=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CYYPR11MB8329
X-OriginatorOrg: intel.com
Received-SPF: pass client-ip=134.134.136.31;
 envelope-from=zhenzhong.duan@intel.com; helo=mgamail.intel.com
X-Spam_score_int: -43
X-Spam_score: -4.4
X-Spam_bar: ----
X-Spam_report: (-4.4 / 5.0 requ) BAYES_00=-1.9, DKIMWL_WL_HIGH=-0.001,
 DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1,
 RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_NONE=0.001, SPF_PASS=-0.001,
 T_SCC_BODY_TEXT_LINE=-0.01 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

DQoNCj4tLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPkZyb206IEPDqWRyaWMgTGUgR29hdGVy
IDxjbGdAcmVkaGF0LmNvbT4NCj5TZW50OiBUdWVzZGF5LCBOb3ZlbWJlciA3LCAyMDIzIDk6NDEg
UE0NCj5TdWJqZWN0OiBSZTogW1BBVENIIHY0IDI4LzQxXSB2ZmlvL2lvbW11ZmQ6IEltcGxlbWVu
dCB0aGUgaW9tbXVmZCBiYWNrZW5kDQo+DQo+T24gMTEvMi8yMyAwODoxMiwgWmhlbnpob25nIER1
YW4gd3JvdGU6DQo+PiBGcm9tOiBZaSBMaXUgPHlpLmwubGl1QGludGVsLmNvbT4NCj4+DQo+PiBB
ZGQgdGhlIGlvbW11ZmQgYmFja2VuZC4gVGhlIElPTU1VRkQgY29udGFpbmVyIGNsYXNzIGlzIGlt
cGxlbWVudGVkDQo+PiBiYXNlZCBvbiB0aGUgbmV3IC9kZXYvaW9tbXUgdXNlciBBUEkuIFRoaXMg
YmFja2VuZCBvYnZpb3VzbHkgZGVwZW5kcw0KPj4gb24gQ09ORklHX0lPTU1VRkQuDQo+Pg0KPj4g
U28gZmFyLCB0aGUgaW9tbXVmZCBiYWNrZW5kIGRvZXNuJ3Qgc3VwcG9ydCBkaXJ0eSBwYWdlIHN5
bmMgeWV0IGR1ZQ0KPj4gdG8gbWlzc2luZyBzdXBwb3J0IGluIHRoZSBob3N0IGtlcm5lbC4NCj4+
DQo+PiBDby1hdXRob3JlZC1ieTogRXJpYyBBdWdlciA8ZXJpYy5hdWdlckByZWRoYXQuY29tPg0K
Pj4gU2lnbmVkLW9mZi1ieTogRXJpYyBBdWdlciA8ZXJpYy5hdWdlckByZWRoYXQuY29tPg0KPg0K
PkkgdGhpbmsgb25lIHRhZyBmb3IgRXJpYyBpcyBlbm91Z2guDQo+DQo+PiBTaWduZWQtb2ZmLWJ5
OiBZaSBMaXUgPHlpLmwubGl1QGludGVsLmNvbT4NCj4+IFNpZ25lZC1vZmYtYnk6IFpoZW56aG9u
ZyBEdWFuIDx6aGVuemhvbmcuZHVhbkBpbnRlbC5jb20+DQo+PiAtLS0NCj4+IHY0OiB1c2UgU1BE
WCBpZGVudGlmaWVyLCB1c2UgaW9tbXVmZF9jZGV2XyogcHJlZml4LCBtZXJnZSB3aXRoIG1hbnVh
bCBhbGxvYw0KPnBhdGNoDQo+Pg0KPj4gICBpbmNsdWRlL2h3L3ZmaW8vdmZpby1jb21tb24uaCB8
ICAyMyArKw0KPj4gICBody92ZmlvL2NvbW1vbi5jICAgICAgICAgICAgICB8ICAxOSArLQ0KPj4g
ICBody92ZmlvL2lvbW11ZmQuYyAgICAgICAgICAgICB8IDUwNCArKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrDQo+PiAgIGh3L3ZmaW8vbWVzb24uYnVpbGQgICAgICAgICAgIHwgICAz
ICsNCj4+ICAgaHcvdmZpby90cmFjZS1ldmVudHMgICAgICAgICAgfCAgMTMgKw0KPj4gICA1IGZp
bGVzIGNoYW5nZWQsIDU1OCBpbnNlcnRpb25zKCspLCA0IGRlbGV0aW9ucygtKQ0KPj4gICBjcmVh
dGUgbW9kZSAxMDA2NDQgaHcvdmZpby9pb21tdWZkLmMNCj4+DQo+PiBkaWZmIC0tZ2l0IGEvaW5j
bHVkZS9ody92ZmlvL3ZmaW8tY29tbW9uLmggYi9pbmNsdWRlL2h3L3ZmaW8vdmZpby1jb21tb24u
aA0KPj4gaW5kZXggMjRlY2MwZTdlZS4uM2YxYTM5YTk5MSAxMDA2NDQNCj4+IC0tLSBhL2luY2x1
ZGUvaHcvdmZpby92ZmlvLWNvbW1vbi5oDQo+PiArKysgYi9pbmNsdWRlL2h3L3ZmaW8vdmZpby1j
b21tb24uaA0KPj4gQEAgLTg5LDYgKzg5LDIzIEBAIHR5cGVkZWYgc3RydWN0IFZGSU9Ib3N0RE1B
V2luZG93IHsNCj4+ICAgICAgIFFMSVNUX0VOVFJZKFZGSU9Ib3N0RE1BV2luZG93KSBob3N0d2lu
X25leHQ7DQo+PiAgIH0gVkZJT0hvc3RETUFXaW5kb3c7DQo+Pg0KPj4gKyNpZmRlZiBDT05GSUdf
SU9NTVVGRA0KPg0KPlBsZWFzZSByZW1vdmUgdGhlICNpZmRlZi4NCg0KV2lsbCBkby4NCg0KPg0K
Pj4gK3R5cGVkZWYgc3RydWN0IFZGSU9JT0FTSHdwdCB7DQo+PiArICAgIHVpbnQzMl90IGh3cHRf
aWQ7DQo+PiArICAgIFFMSVNUX0hFQUQoLCBWRklPRGV2aWNlKSBkZXZpY2VfbGlzdDsNCj4+ICsg
ICAgUUxJU1RfRU5UUlkoVkZJT0lPQVNId3B0KSBuZXh0Ow0KPj4gK30gVkZJT0lPQVNId3B0Ow0K
Pj4gKw0KPj4gK3R5cGVkZWYgc3RydWN0IElPTU1VRkRCYWNrZW5kIElPTU1VRkRCYWNrZW5kOw0K
Pj4gKw0KPj4gK3R5cGVkZWYgc3RydWN0IFZGSU9JT01NVUZEQ29udGFpbmVyIHsNCj4+ICsgICAg
VkZJT0NvbnRhaW5lckJhc2UgYmNvbnRhaW5lcjsNCj4+ICsgICAgSU9NTVVGREJhY2tlbmQgKmJl
Ow0KPj4gKyAgICB1aW50MzJfdCBpb2FzX2lkOw0KPj4gKyAgICBRTElTVF9IRUFEKCwgVkZJT0lP
QVNId3B0KSBod3B0X2xpc3Q7DQo+PiArfSBWRklPSU9NTVVGRENvbnRhaW5lcjsNCj4+ICsjZW5k
aWYNCj4+ICsNCj4+ICAgdHlwZWRlZiBzdHJ1Y3QgVkZJT0RldmljZU9wcyBWRklPRGV2aWNlT3Bz
Ow0KPj4NCj4+ICAgdHlwZWRlZiBzdHJ1Y3QgVkZJT0RldmljZSB7DQo+PiBAQCAtMTE2LDYgKzEz
MywxMSBAQCB0eXBlZGVmIHN0cnVjdCBWRklPRGV2aWNlIHsNCj4+ICAgICAgIE9uT2ZmQXV0byBw
cmVfY29weV9kaXJ0eV9wYWdlX3RyYWNraW5nOw0KPj4gICAgICAgYm9vbCBkaXJ0eV9wYWdlc19z
dXBwb3J0ZWQ7DQo+PiAgICAgICBib29sIGRpcnR5X3RyYWNraW5nOw0KPj4gKyNpZmRlZiBDT05G
SUdfSU9NTVVGRA0KPj4gKyAgICBpbnQgZGV2aWQ7DQo+PiArICAgIFZGSU9JT0FTSHdwdCAqaHdw
dDsNCj4+ICsgICAgSU9NTVVGREJhY2tlbmQgKmlvbW11ZmQ7DQo+PiArI2VuZGlmDQo+PiAgIH0g
VkZJT0RldmljZTsNCj4+DQo+PiAgIHN0cnVjdCBWRklPRGV2aWNlT3BzIHsNCj4+IEBAIC0yMDEs
NiArMjIzLDcgQEAgdHlwZWRlZiBRTElTVF9IRUFEKFZGSU9EZXZpY2VMaXN0LCBWRklPRGV2aWNl
KQ0KPlZGSU9EZXZpY2VMaXN0Ow0KPj4gICBleHRlcm4gVkZJT0dyb3VwTGlzdCB2ZmlvX2dyb3Vw
X2xpc3Q7DQo+PiAgIGV4dGVybiBWRklPRGV2aWNlTGlzdCB2ZmlvX2RldmljZV9saXN0Ow0KPj4g
ICBleHRlcm4gY29uc3QgVkZJT0lPTU1VT3BzIHZmaW9fbGVnYWN5X29wczsNCj4+ICtleHRlcm4g
Y29uc3QgVkZJT0lPTU1VT3BzIHZmaW9faW9tbXVmZF9vcHM7DQo+PiAgIGV4dGVybiBjb25zdCBN
ZW1vcnlMaXN0ZW5lciB2ZmlvX21lbW9yeV9saXN0ZW5lcjsNCj4+ICAgZXh0ZXJuIGludCB2Zmlv
X2t2bV9kZXZpY2VfZmQ7DQo+Pg0KPj4gZGlmZiAtLWdpdCBhL2h3L3ZmaW8vY29tbW9uLmMgYi9o
dy92ZmlvL2NvbW1vbi5jDQo+PiBpbmRleCA1NzJhZTdjOTM0Li5hNjFkY2UyODQ1IDEwMDY0NA0K
Pj4gLS0tIGEvaHcvdmZpby9jb21tb24uYw0KPj4gKysrIGIvaHcvdmZpby9jb21tb24uYw0KPj4g
QEAgLTE0NjIsMTAgKzE0NjIsMTMgQEAgVkZJT0FkZHJlc3NTcGFjZQ0KPip2ZmlvX2dldF9hZGRy
ZXNzX3NwYWNlKEFkZHJlc3NTcGFjZSAqYXMpDQo+Pg0KPj4gICB2b2lkIHZmaW9fcHV0X2FkZHJl
c3Nfc3BhY2UoVkZJT0FkZHJlc3NTcGFjZSAqc3BhY2UpDQo+PiAgIHsNCj4+IC0gICAgaWYgKFFM
SVNUX0VNUFRZKCZzcGFjZS0+Y29udGFpbmVycykpIHsNCj4+IC0gICAgICAgIFFMSVNUX1JFTU9W
RShzcGFjZSwgbGlzdCk7DQo+PiAtICAgICAgICBnX2ZyZWUoc3BhY2UpOw0KPj4gKyAgICBpZiAo
IVFMSVNUX0VNUFRZKCZzcGFjZS0+Y29udGFpbmVycykpIHsNCj4+ICsgICAgICAgIHJldHVybjsN
Cj4+ICAgICAgIH0NCj4+ICsNCj4+ICsgICAgUUxJU1RfUkVNT1ZFKHNwYWNlLCBsaXN0KTsNCj4+
ICsgICAgZ19mcmVlKHNwYWNlKTsNCj4+ICsNCj4+ICAgICAgIGlmIChRTElTVF9FTVBUWSgmdmZp
b19hZGRyZXNzX3NwYWNlcykpIHsNCj4+ICAgICAgICAgICBxZW11X3VucmVnaXN0ZXJfcmVzZXQo
dmZpb19yZXNldF9oYW5kbGVyLCBOVUxMKTsNCj4+ICAgICAgIH0NCj4+IEBAIC0xNDk4LDggKzE1
MDEsMTYgQEAgcmV0cnk6DQo+PiAgIGludCB2ZmlvX2F0dGFjaF9kZXZpY2UoY2hhciAqbmFtZSwg
VkZJT0RldmljZSAqdmJhc2VkZXYsDQo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkcmVz
c1NwYWNlICphcywgRXJyb3IgKiplcnJwKQ0KPj4gICB7DQo+PiAtICAgIGNvbnN0IFZGSU9JT01N
VU9wcyAqb3BzID0gJnZmaW9fbGVnYWN5X29wczsNCj4+ICsgICAgY29uc3QgVkZJT0lPTU1VT3Bz
ICpvcHM7DQo+Pg0KPj4gKyNpZmRlZiBDT05GSUdfSU9NTVVGRA0KPg0KPllvdSBjYW4ga2VlcCB0
aGlzIG9uZSB0aG91Z2guDQoNCldpbGwgZG8uDQoNCj4NCj4+ICsgICAgaWYgKHZiYXNlZGV2LT5p
b21tdWZkKSB7DQo+PiArICAgICAgICBvcHMgPSAmdmZpb19pb21tdWZkX29wczsNCj4+ICsgICAg
fSBlbHNlDQo+PiArI2VuZGlmDQo+PiArICAgIHsNCj4+ICsgICAgICAgIG9wcyA9ICZ2ZmlvX2xl
Z2FjeV9vcHM7DQo+PiArICAgIH0NCj4+ICAgICAgIHJldHVybiBvcHMtPmF0dGFjaF9kZXZpY2Uo
bmFtZSwgdmJhc2VkZXYsIGFzLCBlcnJwKTsNCj4+ICAgfQ0KPj4NCj4+IGRpZmYgLS1naXQgYS9o
dy92ZmlvL2lvbW11ZmQuYyBiL2h3L3ZmaW8vaW9tbXVmZC5jDQo+PiBuZXcgZmlsZSBtb2RlIDEw
MDY0NA0KPj4gaW5kZXggMDAwMDAwMDAwMC4uMWJiNTVjYTJjNA0KPj4gLS0tIC9kZXYvbnVsbA0K
Pj4gKysrIGIvaHcvdmZpby9pb21tdWZkLmMNCj4+IEBAIC0wLDAgKzEsNTA0IEBADQo+PiArLyoN
Cj4+ICsgKiBpb21tdWZkIGNvbnRhaW5lciBiYWNrZW5kDQo+PiArICoNCj4+ICsgKiBDb3B5cmln
aHQgKEMpIDIwMjMgSW50ZWwgQ29ycG9yYXRpb24uDQo+PiArICogQ29weXJpZ2h0IFJlZCBIYXQs
IEluYy4gMjAyMw0KPj4gKyAqDQo+PiArICogQXV0aG9yczogWWkgTGl1IDx5aS5sLmxpdUBpbnRl
bC5jb20+DQo+PiArICogICAgICAgICAgRXJpYyBBdWdlciA8ZXJpYy5hdWdlckByZWRoYXQuY29t
Pg0KPj4gKyAqDQo+PiArICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0
ZXINCj4+ICsgKi8NCj4+ICsNCj4+ICsjaW5jbHVkZSAicWVtdS9vc2RlcC5oIg0KPj4gKyNpbmNs
dWRlIDxzeXMvaW9jdGwuaD4NCj4+ICsjaW5jbHVkZSA8bGludXgvdmZpby5oPg0KPj4gKyNpbmNs
dWRlIDxsaW51eC9pb21tdWZkLmg+DQo+PiArDQo+PiArI2luY2x1ZGUgImh3L3ZmaW8vdmZpby1j
b21tb24uaCINCj4+ICsjaW5jbHVkZSAicWVtdS9lcnJvci1yZXBvcnQuaCINCj4+ICsjaW5jbHVk
ZSAidHJhY2UuaCINCj4+ICsjaW5jbHVkZSAicWFwaS9lcnJvci5oIg0KPj4gKyNpbmNsdWRlICJz
eXNlbXUvaW9tbXVmZC5oIg0KPj4gKyNpbmNsdWRlICJody9xZGV2LWNvcmUuaCINCj4+ICsjaW5j
bHVkZSAic3lzZW11L3Jlc2V0LmgiDQo+PiArI2luY2x1ZGUgInFlbXUvY3V0aWxzLmgiDQo+PiAr
I2luY2x1ZGUgInFlbXUvY2hhcmRldl9vcGVuLmgiDQo+PiArDQo+PiArc3RhdGljIGludCBpb21t
dWZkX21hcChWRklPQ29udGFpbmVyQmFzZSAqYmNvbnRhaW5lciwgaHdhZGRyIGlvdmEsDQo+PiAr
ICAgICAgICAgICAgICAgICAgICAgICByYW1fYWRkcl90IHNpemUsIHZvaWQgKnZhZGRyLCBib29s
IHJlYWRvbmx5KQ0KPj4gK3sNCj4+ICsgICAgVkZJT0lPTU1VRkRDb250YWluZXIgKmNvbnRhaW5l
ciA9DQo+PiArICAgICAgICBjb250YWluZXJfb2YoYmNvbnRhaW5lciwgVkZJT0lPTU1VRkRDb250
YWluZXIsIGJjb250YWluZXIpOw0KPj4gKw0KPj4gKyAgICByZXR1cm4gaW9tbXVmZF9iYWNrZW5k
X21hcF9kbWEoY29udGFpbmVyLT5iZSwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGNvbnRhaW5lci0+aW9hc19pZCwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGlvdmEsIHNpemUsIHZhZGRyLCByZWFkb25seSk7DQo+PiArfQ0KPj4gKw0KPj4g
K3N0YXRpYyBpbnQgaW9tbXVmZF91bm1hcChWRklPQ29udGFpbmVyQmFzZSAqYmNvbnRhaW5lciwN
Cj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgaHdhZGRyIGlvdmEsIHJhbV9hZGRyX3Qgc2l6
ZSwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgSU9NTVVUTEJFbnRyeSAqaW90bGIpDQo+
PiArew0KPj4gKyAgICBWRklPSU9NTVVGRENvbnRhaW5lciAqY29udGFpbmVyID0NCj4+ICsgICAg
ICAgIGNvbnRhaW5lcl9vZihiY29udGFpbmVyLCBWRklPSU9NTVVGRENvbnRhaW5lciwgYmNvbnRh
aW5lcik7DQo+PiArDQo+PiArICAgIC8qIFRPRE86IEhhbmRsZSBkbWFfdW5tYXBfYml0bWFwIHdp
dGggaW90bGIgYXJncyAobWlncmF0aW9uKSAqLw0KPj4gKyAgICByZXR1cm4gaW9tbXVmZF9iYWNr
ZW5kX3VubWFwX2RtYShjb250YWluZXItPmJlLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjb250YWluZXItPmlvYXNfaWQsIGlvdmEsIHNpemUpOw0KPj4gK30NCj4+
ICsNCj4+ICtzdGF0aWMgdm9pZCBpb21tdWZkX2NkZXZfa3ZtX2RldmljZV9hZGQoVkZJT0Rldmlj
ZSAqdmJhc2VkZXYpDQo+PiArew0KPj4gKyAgICBFcnJvciAqZXJyID0gTlVMTDsNCj4+ICsNCj4+
ICsgICAgaWYgKHZmaW9fa3ZtX2RldmljZV9hZGRfZmQodmJhc2VkZXYtPmZkLCAmZXJyKSkgew0K
Pj4gKyAgICAgICAgZXJyb3JfcmVwb3J0X2VycihlcnIpOw0KPj4gKyAgICB9DQo+PiArfQ0KPj4g
Kw0KPj4gK3N0YXRpYyB2b2lkIGlvbW11ZmRfY2Rldl9rdm1fZGV2aWNlX2RlbChWRklPRGV2aWNl
ICp2YmFzZWRldikNCj4+ICt7DQo+PiArICAgIEVycm9yICplcnIgPSBOVUxMOw0KPj4gKw0KPj4g
KyAgICBpZiAodmZpb19rdm1fZGV2aWNlX2RlbF9mZCh2YmFzZWRldi0+ZmQsICZlcnIpKSB7DQo+
PiArICAgICAgICBlcnJvcl9yZXBvcnRfZXJyKGVycik7DQo+PiArICAgIH0NCj4+ICt9DQo+PiAr
DQo+PiArc3RhdGljIGludCBpb21tdWZkX2Nvbm5lY3RfYW5kX2JpbmQoVkZJT0RldmljZSAqdmJh
c2VkZXYsIEVycm9yICoqZXJycCkNCj4+ICt7DQo+PiArICAgIElPTU1VRkRCYWNrZW5kICppb21t
dWZkID0gdmJhc2VkZXYtPmlvbW11ZmQ7DQo+PiArICAgIHN0cnVjdCB2ZmlvX2RldmljZV9iaW5k
X2lvbW11ZmQgYmluZCA9IHsNCj4+ICsgICAgICAgIC5hcmdzeiA9IHNpemVvZihiaW5kKSwNCj4+
ICsgICAgICAgIC5mbGFncyA9IDAsDQo+PiArICAgIH07DQo+PiArICAgIGludCByZXQ7DQo+PiAr
DQo+PiArICAgIHJldCA9IGlvbW11ZmRfYmFja2VuZF9jb25uZWN0KGlvbW11ZmQsIGVycnApOw0K
Pj4gKyAgICBpZiAocmV0KSB7DQo+PiArICAgICAgICByZXR1cm4gcmV0Ow0KPj4gKyAgICB9DQo+
PiArDQo+PiArICAgIC8qDQo+PiArICAgICAqIEFkZCBkZXZpY2UgdG8ga3ZtLXZmaW8gdG8gYmUg
cHJlcGFyZWQgZm9yIHRoZSB0cmFja2luZw0KPj4gKyAgICAgKiBpbiBLVk0uIEVzcGVjaWFsbHkg
Zm9yIHNvbWUgZW11bGF0ZWQgZGV2aWNlcywgaXQgcmVxdWlyZXMNCj4+ICsgICAgICogdG8gaGF2
ZSBrdm0gaW5mb3JtYXRpb24gaW4gdGhlIGRldmljZSBvcGVuLg0KPj4gKyAgICAgKi8NCj4+ICsg
ICAgaW9tbXVmZF9jZGV2X2t2bV9kZXZpY2VfYWRkKHZiYXNlZGV2KTsNCj4+ICsNCj4+ICsgICAg
LyogQmluZCBkZXZpY2UgdG8gaW9tbXVmZCAqLw0KPj4gKyAgICBiaW5kLmlvbW11ZmQgPSBpb21t
dWZkLT5mZDsNCj4+ICsgICAgcmV0ID0gaW9jdGwodmJhc2VkZXYtPmZkLCBWRklPX0RFVklDRV9C
SU5EX0lPTU1VRkQsICZiaW5kKTsNCj4+ICsgICAgaWYgKHJldCkgew0KPj4gKyAgICAgICAgZXJy
b3Jfc2V0Z19lcnJubyhlcnJwLCBlcnJubywgImVycm9yIGJpbmQgZGV2aWNlIGZkPSVkIHRvIGlv
bW11ZmQ9JWQiLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICB2YmFzZWRldi0+ZmQsIGJp
bmQuaW9tbXVmZCk7DQo+PiArICAgICAgICBnb3RvIGVycl9iaW5kOw0KPj4gKyAgICB9DQo+PiAr
DQo+PiArICAgIHZiYXNlZGV2LT5kZXZpZCA9IGJpbmQub3V0X2RldmlkOw0KPj4gKyAgICB0cmFj
ZV9pb21tdWZkX2Nvbm5lY3RfYW5kX2JpbmQoYmluZC5pb21tdWZkLCB2YmFzZWRldi0+bmFtZSwN
Cj52YmFzZWRldi0+ZmQsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2
YmFzZWRldi0+ZGV2aWQpOw0KPj4gKyAgICByZXR1cm4gcmV0Ow0KPj4gK2Vycl9iaW5kOg0KPj4g
KyAgICBpb21tdWZkX2NkZXZfa3ZtX2RldmljZV9kZWwodmJhc2VkZXYpOw0KPj4gKyAgICBpb21t
dWZkX2JhY2tlbmRfZGlzY29ubmVjdChpb21tdWZkKTsNCj4+ICsgICAgcmV0dXJuIHJldDsNCj4+
ICt9DQo+PiArDQo+PiArc3RhdGljIHZvaWQgaW9tbXVmZF91bmJpbmRfYW5kX2Rpc2Nvbm5lY3Qo
VkZJT0RldmljZSAqdmJhc2VkZXYpDQo+PiArew0KPj4gKyAgICAvKiBVbmJpbmQgaXMgYXV0b21h
dGljYWxseSBjb25kdWN0ZWQgd2hlbiBkZXZpY2UgZmQgaXMgY2xvc2VkICovDQo+PiArICAgIGlv
bW11ZmRfY2Rldl9rdm1fZGV2aWNlX2RlbCh2YmFzZWRldik7DQo+PiArICAgIGlvbW11ZmRfYmFj
a2VuZF9kaXNjb25uZWN0KHZiYXNlZGV2LT5pb21tdWZkKTsNCj4+ICt9DQo+PiArDQo+PiArc3Rh
dGljIGludCBpb21tdWZkX2NkZXZfZ2V0ZmQoY29uc3QgY2hhciAqc3lzZnNfcGF0aCwgRXJyb3Ig
KiplcnJwKQ0KPj4gK3sNCj4+ICsgICAgbG9uZyBpbnQgcmV0ID0gLUVOT1RUWTsNCj4+ICsgICAg
Y2hhciAqcGF0aCwgKnZmaW9fZGV2X3BhdGggPSBOVUxMLCAqdmZpb19wYXRoID0gTlVMTDsNCj4+
ICsgICAgRElSICpkaXIgPSBOVUxMOw0KPj4gKyAgICBzdHJ1Y3QgZGlyZW50ICpkZW50Ow0KPj4g
KyAgICBnY2hhciAqY29udGVudHM7DQo+PiArICAgIHN0cnVjdCBzdGF0IHN0Ow0KPj4gKyAgICBn
c2l6ZSBsZW5ndGg7DQo+PiArICAgIGludCBtYWpvciwgbWlub3I7DQo+PiArICAgIGRldl90IHZm
aW9fZGV2dDsNCj4+ICsNCj4+ICsgICAgcGF0aCA9IGdfc3RyZHVwX3ByaW50ZigiJXMvdmZpby1k
ZXYiLCBzeXNmc19wYXRoKTsNCj4+ICsgICAgaWYgKHN0YXQocGF0aCwgJnN0KSA8IDApIHsNCj4+
ICsgICAgICAgIGVycm9yX3NldGdfZXJybm8oZXJycCwgZXJybm8sICJubyBzdWNoIGhvc3QgZGV2
aWNlIik7DQo+PiArICAgICAgICBnb3RvIG91dF9mcmVlX3BhdGg7DQo+PiArICAgIH0NCj4+ICsN
Cj4+ICsgICAgZGlyID0gb3BlbmRpcihwYXRoKTsNCj4+ICsgICAgaWYgKCFkaXIpIHsNCj4+ICsg
ICAgICAgIGVycm9yX3NldGdfZXJybm8oZXJycCwgZXJybm8sICJjb3VsZG4ndCBvcGVuIGRpcnJl
Y3RvcnkgJXMiLCBwYXRoKTsNCj4+ICsgICAgICAgIGdvdG8gb3V0X2ZyZWVfcGF0aDsNCj4+ICsg
ICAgfQ0KPj4gKw0KPj4gKyAgICB3aGlsZSAoKGRlbnQgPSByZWFkZGlyKGRpcikpKSB7DQo+PiAr
ICAgICAgICBpZiAoIXN0cm5jbXAoZGVudC0+ZF9uYW1lLCAidmZpbyIsIDQpKSB7DQo+PiArICAg
ICAgICAgICAgdmZpb19kZXZfcGF0aCA9IGdfc3RyZHVwX3ByaW50ZigiJXMvJXMvZGV2IiwgcGF0
aCwgZGVudC0+ZF9uYW1lKTsNCj4+ICsgICAgICAgICAgICBicmVhazsNCj4+ICsgICAgICAgIH0N
Cj4+ICsgICAgfQ0KPj4gKw0KPj4gKyAgICBpZiAoIXZmaW9fZGV2X3BhdGgpIHsNCj4+ICsgICAg
ICAgIGVycm9yX3NldGcoZXJycCwgImZhaWxlZCB0byBmaW5kIHZmaW8tZGV2L3ZmaW9YL2RldiIp
Ow0KPj4gKyAgICAgICAgZ290byBvdXRfY2xvc2VfZGlyOw0KPj4gKyAgICB9DQo+PiArDQo+PiAr
ICAgIGlmICghZ19maWxlX2dldF9jb250ZW50cyh2ZmlvX2Rldl9wYXRoLCAmY29udGVudHMsICZs
ZW5ndGgsIE5VTEwpKSB7DQo+PiArICAgICAgICBlcnJvcl9zZXRnKGVycnAsICJmYWlsZWQgdG8g
bG9hZCBcIiVzXCIiLCB2ZmlvX2Rldl9wYXRoKTsNCj4+ICsgICAgICAgIGdvdG8gb3V0X2ZyZWVf
ZGV2X3BhdGg7DQo+PiArICAgIH0NCj4+ICsNCj4+ICsgICAgaWYgKHNzY2FuZihjb250ZW50cywg
IiVkOiVkIiwgJm1ham9yLCAmbWlub3IpICE9IDIpIHsNCj4+ICsgICAgICAgIGVycm9yX3NldGco
ZXJycCwgImZhaWxlZCB0byBnZXQgbWFqb3I6bWlub3IgZm9yIFwiJXNcIiIsIHZmaW9fZGV2X3Bh
dGgpOw0KPj4gKyAgICAgICAgZ290byBvdXRfZnJlZV9kZXZfcGF0aDsNCj4+ICsgICAgfQ0KPj4g
KyAgICBnX2ZyZWUoY29udGVudHMpOw0KPj4gKyAgICB2ZmlvX2RldnQgPSBtYWtlZGV2KG1ham9y
LCBtaW5vcik7DQo+PiArDQo+PiArICAgIHZmaW9fcGF0aCA9IGdfc3RyZHVwX3ByaW50ZigiL2Rl
di92ZmlvL2RldmljZXMvJXMiLCBkZW50LT5kX25hbWUpOw0KPj4gKyAgICByZXQgPSBvcGVuX2Nk
ZXYodmZpb19wYXRoLCB2ZmlvX2RldnQpOw0KPj4gKyAgICBpZiAocmV0IDwgMCkgew0KPj4gKyAg
ICAgICAgZXJyb3Jfc2V0ZyhlcnJwLCAiRmFpbGVkIHRvIG9wZW4gJXMiLCB2ZmlvX3BhdGgpOw0K
Pj4gKyAgICB9DQo+PiArDQo+PiArICAgIHRyYWNlX2lvbW11ZmRfY2Rldl9nZXRmZCh2ZmlvX3Bh
dGgsIHJldCk7DQo+PiArICAgIGdfZnJlZSh2ZmlvX3BhdGgpOw0KPj4gKw0KPj4gK291dF9mcmVl
X2Rldl9wYXRoOg0KPj4gKyAgICBnX2ZyZWUodmZpb19kZXZfcGF0aCk7DQo+PiArb3V0X2Nsb3Nl
X2RpcjoNCj4+ICsgICAgY2xvc2VkaXIoZGlyKTsNCj4+ICtvdXRfZnJlZV9wYXRoOg0KPj4gKyAg
ICBpZiAoKmVycnApIHsNCj4+ICsgICAgICAgIGVycm9yX3ByZXBlbmQoZXJycCwgVkZJT19NU0df
UFJFRklYLCBwYXRoKTsNCj4+ICsgICAgfQ0KPj4gKyAgICBnX2ZyZWUocGF0aCk7DQo+PiArDQo+
PiArICAgIHJldHVybiByZXQ7DQo+PiArfQ0KPj4gKw0KPj4gK3N0YXRpYyBWRklPSU9BU0h3cHQN
Cj4qaW9tbXVmZF9jb250YWluZXJfZ2V0X2h3cHQoVkZJT0lPTU1VRkRDb250YWluZXIgKmNvbnRh
aW5lciwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB1aW50MzJfdCBod3B0X2lkKQ0KPj4gK3sNCj4+ICsgICAgVkZJT0lPQVNId3B0ICpod3B0Ow0K
Pj4gKw0KPj4gKyAgICBRTElTVF9GT1JFQUNIKGh3cHQsICZjb250YWluZXItPmh3cHRfbGlzdCwg
bmV4dCkgew0KPj4gKyAgICAgICAgaWYgKGh3cHQtPmh3cHRfaWQgPT0gaHdwdF9pZCkgew0KPj4g
KyAgICAgICAgICAgIHJldHVybiBod3B0Ow0KPj4gKyAgICAgICAgfQ0KPj4gKyAgICB9DQo+PiAr
DQo+PiArICAgIGh3cHQgPSBnX21hbGxvYzAoc2l6ZW9mKCpod3B0KSk7DQo+PiArDQo+PiArICAg
IGh3cHQtPmh3cHRfaWQgPSBod3B0X2lkOw0KPj4gKyAgICBRTElTVF9JTklUKCZod3B0LT5kZXZp
Y2VfbGlzdCk7DQo+PiArICAgIFFMSVNUX0lOU0VSVF9IRUFEKCZjb250YWluZXItPmh3cHRfbGlz
dCwgaHdwdCwgbmV4dCk7DQo+PiArDQo+PiArICAgIHJldHVybiBod3B0Ow0KPj4gK30NCj4+ICsN
Cj4+ICtzdGF0aWMgdm9pZCBpb21tdWZkX2NvbnRhaW5lcl9wdXRfaHdwdChJT01NVUZEQmFja2Vu
ZCAqYmUsDQo+VkZJT0lPQVNId3B0ICpod3B0KQ0KPj4gK3sNCj4+ICsgICAgUUxJU1RfUkVNT1ZF
KGh3cHQsIG5leHQpOw0KPj4gKyAgICBpb21tdWZkX2JhY2tlbmRfZnJlZV9pZChiZS0+ZmQsIGh3
cHQtPmh3cHRfaWQpOw0KPj4gKyAgICBnX2ZyZWUoaHdwdCk7DQo+PiArfQ0KPj4gKw0KPj4gK3N0
YXRpYyBpbnQgaW9tbXVmZF9jZGV2X2F0dGFjaF9od3B0KFZGSU9EZXZpY2UgKnZiYXNlZGV2LCB1
aW50MzJfdA0KPmh3cHRfaWQsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgRXJyb3IgKiplcnJwKQ0KPj4gK3sNCj4+ICsgICAgaW50IHJldCwgaW9tbXVmZCA9IHZiYXNl
ZGV2LT5pb21tdWZkLT5mZDsNCj4+ICsgICAgc3RydWN0IHZmaW9fZGV2aWNlX2F0dGFjaF9pb21t
dWZkX3B0IGF0dGFjaF9kYXRhID0gew0KPj4gKyAgICAgICAgLmFyZ3N6ID0gc2l6ZW9mKGF0dGFj
aF9kYXRhKSwNCj4+ICsgICAgICAgIC5mbGFncyA9IDAsDQo+PiArICAgICAgICAucHRfaWQgPSBo
d3B0X2lkLA0KPj4gKyAgICB9Ow0KPj4gKw0KPj4gKyAgICAvKiBBdHRhY2ggZGV2aWNlIHRvIGFu
IGh3cHQgd2l0aGluIGlvbW11ZmQgKi8NCj4+ICsgICAgcmV0ID0gaW9jdGwodmJhc2VkZXYtPmZk
LCBWRklPX0RFVklDRV9BVFRBQ0hfSU9NTVVGRF9QVCwNCj4mYXR0YWNoX2RhdGEpOw0KPj4gKyAg
ICBpZiAocmV0KSB7DQo+PiArICAgICAgICBlcnJvcl9zZXRnX2Vycm5vKGVycnAsIGVycm5vLA0K
Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAiW2lvbW11ZmQ9JWRdIGVycm9yIGF0dGFjaCAl
cyAoJWQpIHRvIGh3cHRfaWQ9JWQiLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICBpb21t
dWZkLCB2YmFzZWRldi0+bmFtZSwgdmJhc2VkZXYtPmZkLCBod3B0X2lkKTsNCj4+ICsgICAgfQ0K
Pj4gKyAgICB0cmFjZV9pb21tdWZkX2NkZXZfYXR0YWNoX2h3cHQoaW9tbXVmZCwgdmJhc2VkZXYt
Pm5hbWUsIHZiYXNlZGV2LQ0KPj5mZCwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGh3cHRfaWQpOw0KPj4gKyAgICByZXR1cm4gcmV0Ow0KPj4gK30NCj4+ICsNCj4+ICtz
dGF0aWMgaW50IGlvbW11ZmRfY2Rldl9kZXRhY2hfaHdwdChWRklPRGV2aWNlICp2YmFzZWRldiwg
RXJyb3IgKiplcnJwKQ0KPj4gK3sNCj4+ICsgICAgaW50IHJldCwgaW9tbXVmZCA9IHZiYXNlZGV2
LT5pb21tdWZkLT5mZDsNCj4+ICsgICAgc3RydWN0IHZmaW9fZGV2aWNlX2RldGFjaF9pb21tdWZk
X3B0IGRldGFjaF9kYXRhID0gew0KPj4gKyAgICAgICAgLmFyZ3N6ID0gc2l6ZW9mKGRldGFjaF9k
YXRhKSwNCj4+ICsgICAgICAgIC5mbGFncyA9IDAsDQo+PiArICAgIH07DQo+PiArDQo+PiArICAg
IHJldCA9IGlvY3RsKHZiYXNlZGV2LT5mZCwgVkZJT19ERVZJQ0VfREVUQUNIX0lPTU1VRkRfUFQs
DQo+JmRldGFjaF9kYXRhKTsNCj4+ICsgICAgaWYgKHJldCkgew0KPj4gKyAgICAgICAgZXJyb3Jf
c2V0Z19lcnJubyhlcnJwLCBlcnJubywgImRldGFjaCAlcyBmcm9tIGlvYXMgZmFpbGVkIiwNCj4+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgdmJhc2VkZXYtPm5hbWUpOw0KPj4gKyAgICB9DQo+
PiArICAgIHRyYWNlX2lvbW11ZmRfY2Rldl9kZXRhY2hfaHdwdChpb21tdWZkLCB2YmFzZWRldi0+
bmFtZSwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZiYXNlZGV2LT5o
d3B0LT5od3B0X2lkKTsNCj4+ICsgICAgcmV0dXJuIHJldDsNCj4+ICt9DQo+PiArDQo+PiArc3Rh
dGljIGludCBpb21tdWZkX2NkZXZfYXR0YWNoX2NvbnRhaW5lcihWRklPRGV2aWNlICp2YmFzZWRl
diwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZGSU9JT01N
VUZEQ29udGFpbmVyICpjb250YWluZXIsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBFcnJvciAqKmVycnApDQo+PiArew0KPj4gKyAgICBpbnQgcmV0LCBpb21t
dWZkID0gdmJhc2VkZXYtPmlvbW11ZmQtPmZkOw0KPj4gKyAgICBWRklPSU9BU0h3cHQgKmh3cHQ7
DQo+PiArICAgIHVpbnQzMl90IGh3cHRfaWQ7DQo+PiArICAgIEVycm9yICplcnIgPSBOVUxMOw0K
Pj4gKw0KPj4gKyAgICAvKiB0cnkgdG8gYXR0YWNoIHRvIGFuIGV4aXN0aW5nIGh3cHQgaW4gdGhp
cyBjb250YWluZXIgKi8NCj4+ICsgICAgUUxJU1RfRk9SRUFDSChod3B0LCAmY29udGFpbmVyLT5o
d3B0X2xpc3QsIG5leHQpIHsNCj4+ICsgICAgICAgIHJldCA9IGlvbW11ZmRfY2Rldl9hdHRhY2hf
aHdwdCh2YmFzZWRldiwgaHdwdC0+aHdwdF9pZCwgJmVycik7DQo+PiArICAgICAgICBpZiAocmV0
KSB7DQo+PiArICAgICAgICAgICAgY29uc3QgY2hhciAqbXNnID0gZXJyb3JfZ2V0X3ByZXR0eShl
cnIpOw0KPj4gKw0KPj4gKyAgICAgICAgICAgIHRyYWNlX2lvbW11ZmRfY2Rldl9mYWlsX2F0dGFj
aF9leGlzdGluZ19od3B0KG1zZyk7DQo+PiArICAgICAgICAgICAgZXJyb3JfZnJlZShlcnIpOw0K
Pj4gKyAgICAgICAgICAgIGVyciA9IE5VTEw7DQo+PiArICAgICAgICB9IGVsc2Ugew0KPj4gKyAg
ICAgICAgICAgIGdvdG8gZm91bmRfaHdwdDsNCj4+ICsgICAgICAgIH0NCj4+ICsgICAgfQ0KPj4g
Kw0KPj4gKyAgICByZXQgPSBpb21tdWZkX2JhY2tlbmRfYWxsb2NfaHdwdChpb21tdWZkLCB2YmFz
ZWRldi0+ZGV2aWQsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNv
bnRhaW5lci0+aW9hc19pZCwgJmh3cHRfaWQpOw0KPj4gKw0KPj4gKyAgICBpZiAocmV0KSB7DQo+
PiArICAgICAgICBlcnJvcl9zZXRnX2Vycm5vKGVycnAsIGVycm5vLCAiZXJyb3IgYWxsb2Mgc2hh
ZG93IGh3cHQiKTsNCj4+ICsgICAgICAgIHJldHVybiByZXQ7DQo+PiArICAgIH0NCj4+ICsNCj4+
ICsgICAgLyogQXR0YWNoIGNkZXYgdG8gYSBuZXcgYWxsb2NhdGVkIGh3cHQgd2l0aGluIGlvbW11
ZmQgKi8NCj4+ICsgICAgcmV0ID0gaW9tbXVmZF9jZGV2X2F0dGFjaF9od3B0KHZiYXNlZGV2LCBo
d3B0X2lkLCBlcnJwKTsNCj4+ICsgICAgaWYgKHJldCkgew0KPj4gKyAgICAgICAgaW9tbXVmZF9i
YWNrZW5kX2ZyZWVfaWQoaW9tbXVmZCwgaHdwdF9pZCk7DQo+PiArICAgICAgICByZXR1cm4gcmV0
Ow0KPj4gKyAgICB9DQo+PiArDQo+PiArICAgIGh3cHQgPSBpb21tdWZkX2NvbnRhaW5lcl9nZXRf
aHdwdChjb250YWluZXIsIGh3cHRfaWQpOw0KPj4gK2ZvdW5kX2h3cHQ6DQo+PiArICAgIFFMSVNU
X0lOU0VSVF9IRUFEKCZod3B0LT5kZXZpY2VfbGlzdCwgdmJhc2VkZXYsIG5leHQpOw0KPj4gKyAg
ICB2YmFzZWRldi0+aHdwdCA9IGh3cHQ7DQo+PiArDQo+PiArICAgIHRyYWNlX2lvbW11ZmRfY2Rl
dl9hdHRhY2hfY29udGFpbmVyKGlvbW11ZmQsIHZiYXNlZGV2LT5uYW1lLA0KPnZiYXNlZGV2LT5m
ZCwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVy
LT5pb2FzX2lkLCBod3B0LT5od3B0X2lkKTsNCj4+ICsgICAgcmV0dXJuIHJldDsNCj4+ICt9DQo+
PiArDQo+PiArc3RhdGljIHZvaWQgaW9tbXVmZF9jZGV2X2RldGFjaF9jb250YWluZXIoVkZJT0Rl
dmljZSAqdmJhc2VkZXYsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgVkZJT0lPTU1VRkRDb250YWluZXIgKmNvbnRhaW5lcikNCj4+ICt7DQo+PiArICAgIFZG
SU9JT0FTSHdwdCAqaHdwdCA9IHZiYXNlZGV2LT5od3B0Ow0KPj4gKyAgICBFcnJvciAqZXJyID0g
TlVMTDsNCj4+ICsgICAgaW50IHJldDsNCj4+ICsNCj4+ICsgICAgcmV0ID0gaW9tbXVmZF9jZGV2
X2RldGFjaF9od3B0KHZiYXNlZGV2LCAmZXJyKTsNCj4+ICsgICAgaWYgKHJldCkgew0KPj4gKyAg
ICAgICAgZXJyb3JfcmVwb3J0X2VycihlcnIpOw0KPj4gKyAgICB9DQo+PiArDQo+PiArICAgIFFM
SVNUX1JFTU9WRSh2YmFzZWRldiwgbmV4dCk7DQo+PiArICAgIHZiYXNlZGV2LT5od3B0ID0gTlVM
TDsNCj4+ICsgICAgaWYgKFFMSVNUX0VNUFRZKCZod3B0LT5kZXZpY2VfbGlzdCkpIHsNCj4+ICsg
ICAgICAgIGlvbW11ZmRfY29udGFpbmVyX3B1dF9od3B0KHZiYXNlZGV2LT5pb21tdWZkLCBod3B0
KTsNCj4+ICsgICAgfQ0KPj4gKw0KPj4gKyAgICB0cmFjZV9pb21tdWZkX2NkZXZfZGV0YWNoX2Nv
bnRhaW5lcihjb250YWluZXItPmJlLT5mZCwgdmJhc2VkZXYtDQo+Pm5hbWUsDQo+PiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci0+aW9hc19pZCk7DQo+
PiArfQ0KPj4gKw0KPj4gK3N0YXRpYyB2b2lkIGlvbW11ZmRfY29udGFpbmVyX2Rlc3Ryb3koVkZJ
T0lPTU1VRkRDb250YWluZXIgKmNvbnRhaW5lcikNCj4+ICt7DQo+PiArICAgIFZGSU9Db250YWlu
ZXJCYXNlICpiY29udGFpbmVyID0gJmNvbnRhaW5lci0+YmNvbnRhaW5lcjsNCj4+ICsNCj4+ICsg
ICAgaWYgKCFRTElTVF9FTVBUWSgmY29udGFpbmVyLT5od3B0X2xpc3QpKSB7DQo+PiArICAgICAg
ICByZXR1cm47DQo+PiArICAgIH0NCj4+ICsgICAgbWVtb3J5X2xpc3RlbmVyX3VucmVnaXN0ZXIo
JmJjb250YWluZXItPmxpc3RlbmVyKTsNCj4+ICsgICAgdmZpb19jb250YWluZXJfZGVzdHJveShi
Y29udGFpbmVyKTsNCj4+ICsgICAgaW9tbXVmZF9iYWNrZW5kX3B1dF9pb2FzKGNvbnRhaW5lci0+
YmUsIGNvbnRhaW5lci0+aW9hc19pZCk7DQo+PiArICAgIGdfZnJlZShjb250YWluZXIpOw0KPj4g
K30NCj4+ICsNCj4+ICtzdGF0aWMgaW50IGlvbW11ZmRfcmFtX2Jsb2NrX2Rpc2NhcmRfZGlzYWJs
ZShib29sIHN0YXRlKQ0KPj4gK3sNCj4+ICsgICAgLyoNCj4+ICsgICAgICogV2Ugc3VwcG9ydCBj
b29yZGluYXRlZCBkaXNjYXJkaW5nIG9mIFJBTSB2aWEgdGhlIFJhbURpc2NhcmRNYW5hZ2VyLg0K
Pj4gKyAgICAgKi8NCj4+ICsgICAgcmV0dXJuIHJhbV9ibG9ja191bmNvb3JkaW5hdGVkX2Rpc2Nh
cmRfZGlzYWJsZShzdGF0ZSk7DQo+PiArfQ0KPj4gKw0KPj4gK3N0YXRpYyBpbnQgaW9tbXVmZF9h
dHRhY2hfZGV2aWNlKGNvbnN0IGNoYXIgKm5hbWUsIFZGSU9EZXZpY2UgKnZiYXNlZGV2LA0KPj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFkZHJlc3NTcGFjZSAqYXMsIEVycm9y
ICoqZXJycCkNCj4+ICt7DQo+PiArICAgIFZGSU9Db250YWluZXJCYXNlICpiY29udGFpbmVyOw0K
Pj4gKyAgICBWRklPSU9NTVVGRENvbnRhaW5lciAqY29udGFpbmVyOw0KPj4gKyAgICBWRklPQWRk
cmVzc1NwYWNlICpzcGFjZTsNCj4+ICsgICAgc3RydWN0IHZmaW9fZGV2aWNlX2luZm8gZGV2X2lu
Zm8gPSB7IC5hcmdzeiA9IHNpemVvZihkZXZfaW5mbykgfTsNCj4+ICsgICAgaW50IHJldCwgZGV2
ZmQ7DQo+PiArICAgIHVpbnQzMl90IGlvYXNfaWQ7DQo+PiArICAgIEVycm9yICplcnIgPSBOVUxM
Ow0KPj4gKw0KPj4gKyAgICBkZXZmZCA9IGlvbW11ZmRfY2Rldl9nZXRmZCh2YmFzZWRldi0+c3lz
ZnNkZXYsIGVycnApOw0KPj4gKyAgICBpZiAoZGV2ZmQgPCAwKSB7DQo+PiArICAgICAgICByZXR1
cm4gZGV2ZmQ7DQo+PiArICAgIH0NCj4+ICsgICAgdmJhc2VkZXYtPmZkID0gZGV2ZmQ7DQo+PiAr
DQo+PiArICAgIHJldCA9IGlvbW11ZmRfY29ubmVjdF9hbmRfYmluZCh2YmFzZWRldiwgZXJycCk7
DQo+PiArICAgIGlmIChyZXQpIHsNCj4+ICsgICAgICAgIGdvdG8gZXJyX2Nvbm5lY3RfYmluZDsN
Cj4+ICsgICAgfQ0KPj4gKw0KPj4gKyAgICBzcGFjZSA9IHZmaW9fZ2V0X2FkZHJlc3Nfc3BhY2Uo
YXMpOw0KPj4gKw0KPj4gKyAgICAvKiB0cnkgdG8gYXR0YWNoIHRvIGFuIGV4aXN0aW5nIGNvbnRh
aW5lciBpbiB0aGlzIHNwYWNlICovDQo+PiArICAgIFFMSVNUX0ZPUkVBQ0goYmNvbnRhaW5lciwg
JnNwYWNlLT5jb250YWluZXJzLCBuZXh0KSB7DQo+PiArICAgICAgICBjb250YWluZXIgPSBjb250
YWluZXJfb2YoYmNvbnRhaW5lciwgVkZJT0lPTU1VRkRDb250YWluZXIsDQo+YmNvbnRhaW5lcik7
DQo+PiArICAgICAgICBpZiAoYmNvbnRhaW5lci0+b3BzICE9ICZ2ZmlvX2lvbW11ZmRfb3BzIHx8
DQo+PiArICAgICAgICAgICAgdmJhc2VkZXYtPmlvbW11ZmQgIT0gY29udGFpbmVyLT5iZSkgew0K
Pj4gKyAgICAgICAgICAgIGNvbnRpbnVlOw0KPj4gKyAgICAgICAgfQ0KPj4gKyAgICAgICAgaWYg
KGlvbW11ZmRfY2Rldl9hdHRhY2hfY29udGFpbmVyKHZiYXNlZGV2LCBjb250YWluZXIsICZlcnIp
KSB7DQo+PiArICAgICAgICAgICAgY29uc3QgY2hhciAqbXNnID0gZXJyb3JfZ2V0X3ByZXR0eShl
cnIpOw0KPj4gKw0KPj4gKyAgICAgICAgICAgIHRyYWNlX2lvbW11ZmRfY2Rldl9mYWlsX2F0dGFj
aF9leGlzdGluZ19jb250YWluZXIobXNnKTsNCj4+ICsgICAgICAgICAgICBlcnJvcl9mcmVlKGVy
cik7DQo+PiArICAgICAgICAgICAgZXJyID0gTlVMTDsNCj4+ICsgICAgICAgIH0gZWxzZSB7DQo+
PiArICAgICAgICAgICAgcmV0ID0gaW9tbXVmZF9yYW1fYmxvY2tfZGlzY2FyZF9kaXNhYmxlKHRy
dWUpOw0KPj4gKyAgICAgICAgICAgIGlmIChyZXQpIHsNCj4+ICsgICAgICAgICAgICAgICAgZXJy
b3Jfc2V0ZyhlcnJwLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDYW5ub3Qg
c2V0IGRpc2NhcmRpbmcgb2YgUkFNIGJyb2tlbiAoJWQpIiwgcmV0KTsNCj4+ICsgICAgICAgICAg
ICAgICAgZ290byBlcnJfZGlzY2FyZF9kaXNhYmxlOw0KPj4gKyAgICAgICAgICAgIH0NCj4+ICsg
ICAgICAgICAgICBnb3RvIGZvdW5kX2NvbnRhaW5lcjsNCj4+ICsgICAgICAgIH0NCj4+ICsgICAg
fQ0KPj4gKw0KPj4gKyAgICAvKiBOZWVkIHRvIGFsbG9jYXRlIGEgbmV3IGRlZGljYXRlZCBjb250
YWluZXIgKi8NCj4+ICsgICAgcmV0ID0gaW9tbXVmZF9iYWNrZW5kX2dldF9pb2FzKHZiYXNlZGV2
LT5pb21tdWZkLCAmaW9hc19pZCk7DQo+PiArICAgIGlmIChyZXQgPCAwKSB7DQo+PiArICAgICAg
ICBlcnJvcl9zZXRnX2Vycm5vKGVycnAsIGVycm5vLCAiRmFpbGVkIHRvIGFsbG9jIGlvYXMiKTsN
Cj4+ICsgICAgICAgIGdvdG8gZXJyX2dldF9pb2FzOw0KPj4gKyAgICB9DQo+PiArDQo+PiArICAg
IHRyYWNlX2lvbW11ZmRfY2Rldl9hbGxvY19pb2FzKHZiYXNlZGV2LT5pb21tdWZkLT5mZCwgaW9h
c19pZCk7DQo+PiArDQo+PiArICAgIGNvbnRhaW5lciA9IGdfbWFsbG9jMChzaXplb2YoKmNvbnRh
aW5lcikpOw0KPj4gKyAgICBjb250YWluZXItPmJlID0gdmJhc2VkZXYtPmlvbW11ZmQ7DQo+PiAr
ICAgIGNvbnRhaW5lci0+aW9hc19pZCA9IGlvYXNfaWQ7DQo+PiArICAgIFFMSVNUX0lOSVQoJmNv
bnRhaW5lci0+aHdwdF9saXN0KTsNCj4+ICsNCj4+ICsgICAgYmNvbnRhaW5lciA9ICZjb250YWlu
ZXItPmJjb250YWluZXI7DQo+PiArICAgIHZmaW9fY29udGFpbmVyX2luaXQoYmNvbnRhaW5lciwg
c3BhY2UsICZ2ZmlvX2lvbW11ZmRfb3BzKTsNCj4+ICsgICAgUUxJU1RfSU5TRVJUX0hFQUQoJnNw
YWNlLT5jb250YWluZXJzLCBiY29udGFpbmVyLCBuZXh0KTsNCj4+ICsNCj4+ICsgICAgcmV0ID0g
aW9tbXVmZF9jZGV2X2F0dGFjaF9jb250YWluZXIodmJhc2VkZXYsIGNvbnRhaW5lciwgZXJycCk7
DQo+PiArICAgIGlmIChyZXQpIHsNCj4+ICsgICAgICAgIGdvdG8gZXJyX2F0dGFjaF9jb250YWlu
ZXI7DQo+PiArICAgIH0NCj4+ICsNCj4+ICsgICAgcmV0ID0gaW9tbXVmZF9yYW1fYmxvY2tfZGlz
Y2FyZF9kaXNhYmxlKHRydWUpOw0KPj4gKyAgICBpZiAocmV0KSB7DQo+PiArICAgICAgICBnb3Rv
IGVycl9kaXNjYXJkX2Rpc2FibGU7DQo+PiArICAgIH0NCj4+ICsNCj4+ICsgICAgYmNvbnRhaW5l
ci0+cGdzaXplcyA9IHFlbXVfcmVhbF9ob3N0X3BhZ2Vfc2l6ZSgpOw0KPj4gKw0KPj4gKyAgICBi
Y29udGFpbmVyLT5saXN0ZW5lciA9IHZmaW9fbWVtb3J5X2xpc3RlbmVyOw0KPj4gKyAgICBtZW1v
cnlfbGlzdGVuZXJfcmVnaXN0ZXIoJmJjb250YWluZXItPmxpc3RlbmVyLCBiY29udGFpbmVyLT5z
cGFjZS0+YXMpOw0KPj4gKw0KPj4gKyAgICBpZiAoYmNvbnRhaW5lci0+ZXJyb3IpIHsNCj4+ICsg
ICAgICAgIHJldCA9IC0xOw0KPj4gKyAgICAgICAgZXJyb3JfcHJvcGFnYXRlX3ByZXBlbmQoZXJy
cCwgYmNvbnRhaW5lci0+ZXJyb3IsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAibWVtb3J5IGxpc3RlbmVyIGluaXRpYWxpemF0aW9uIGZhaWxlZDogIik7DQo+PiArICAgICAg
ICBnb3RvIGVycl9saXN0ZW5lcl9yZWdpc3RlcjsNCj4+ICsgICAgfQ0KPj4gKw0KPj4gKyAgICBi
Y29udGFpbmVyLT5pbml0aWFsaXplZCA9IHRydWU7DQo+PiArDQo+PiArZm91bmRfY29udGFpbmVy
Og0KPj4gKyAgICByZXQgPSBpb2N0bChkZXZmZCwgVkZJT19ERVZJQ0VfR0VUX0lORk8sICZkZXZf
aW5mbyk7DQo+PiArICAgIGlmIChyZXQpIHsNCj4+ICsgICAgICAgIGVycm9yX3NldGdfZXJybm8o
ZXJycCwgZXJybm8sICJlcnJvciBnZXR0aW5nIGRldmljZSBpbmZvIik7DQo+PiArICAgICAgICBn
b3RvIGVycl9saXN0ZW5lcl9yZWdpc3RlcjsNCj4+ICsgICAgfQ0KPj4gKw0KPj4gKyAgICAvKg0K
Pj4gKyAgICAgKiBUT0RPOiBleGFtaW5lIFJBTV9CTE9DS19ESVNDQVJEIHN0dWZmLCBzaG91bGQg
d2UgZG8gZ3JvdXAgbGV2ZWwNCj4+ICsgICAgICogZm9yIGRpc2NhcmRpbmcgaW5jb21wYXRpYmls
aXR5IGNoZWNrIGFzIHdlbGw/DQo+PiArICAgICAqLw0KPj4gKyAgICBpZiAodmJhc2VkZXYtPnJh
bV9ibG9ja19kaXNjYXJkX2FsbG93ZWQpIHsNCj4+ICsgICAgICAgIGlvbW11ZmRfcmFtX2Jsb2Nr
X2Rpc2NhcmRfZGlzYWJsZShmYWxzZSk7DQo+PiArICAgIH0NCj4+ICsNCj4+ICsgICAgdmJhc2Vk
ZXYtPmdyb3VwID0gMDsNCj4+ICsgICAgdmJhc2VkZXYtPm51bV9pcnFzID0gZGV2X2luZm8ubnVt
X2lycXM7DQo+PiArICAgIHZiYXNlZGV2LT5udW1fcmVnaW9ucyA9IGRldl9pbmZvLm51bV9yZWdp
b25zOw0KPj4gKyAgICB2YmFzZWRldi0+ZmxhZ3MgPSBkZXZfaW5mby5mbGFnczsNCj4+ICsgICAg
dmJhc2VkZXYtPnJlc2V0X3dvcmtzID0gISEoZGV2X2luZm8uZmxhZ3MgJiBWRklPX0RFVklDRV9G
TEFHU19SRVNFVCk7DQo+PiArICAgIHZiYXNlZGV2LT5iY29udGFpbmVyID0gYmNvbnRhaW5lcjsN
Cj4+ICsgICAgUUxJU1RfSU5TRVJUX0hFQUQoJmJjb250YWluZXItPmRldmljZV9saXN0LCB2YmFz
ZWRldiwgY29udGFpbmVyX25leHQpOw0KPj4gKyAgICBRTElTVF9JTlNFUlRfSEVBRCgmdmZpb19k
ZXZpY2VfbGlzdCwgdmJhc2VkZXYsIGdsb2JhbF9uZXh0KTsNCj4+ICsNCj4+ICsgICAgdHJhY2Vf
aW9tbXVmZF9jZGV2X2RldmljZV9pbmZvKHZiYXNlZGV2LT5uYW1lLCBkZXZmZCwgdmJhc2VkZXYt
DQo+Pm51bV9pcnFzLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmJh
c2VkZXYtPm51bV9yZWdpb25zLCB2YmFzZWRldi0+ZmxhZ3MpOw0KPj4gKyAgICByZXR1cm4gMDsN
Cj4+ICsNCj4+ICtlcnJfbGlzdGVuZXJfcmVnaXN0ZXI6DQo+PiArICAgIGlvbW11ZmRfcmFtX2Js
b2NrX2Rpc2NhcmRfZGlzYWJsZShmYWxzZSk7DQo+PiArZXJyX2Rpc2NhcmRfZGlzYWJsZToNCj4+
ICsgICAgaW9tbXVmZF9jZGV2X2RldGFjaF9jb250YWluZXIodmJhc2VkZXYsIGNvbnRhaW5lcik7
DQo+PiArZXJyX2F0dGFjaF9jb250YWluZXI6DQo+PiArICAgIGlvbW11ZmRfY29udGFpbmVyX2Rl
c3Ryb3koY29udGFpbmVyKTsNCj4+ICtlcnJfZ2V0X2lvYXM6DQo+PiArICAgIHZmaW9fcHV0X2Fk
ZHJlc3Nfc3BhY2Uoc3BhY2UpOw0KPj4gKyAgICBpb21tdWZkX3VuYmluZF9hbmRfZGlzY29ubmVj
dCh2YmFzZWRldik7DQo+PiArZXJyX2Nvbm5lY3RfYmluZDoNCj4+ICsgICAgY2xvc2UodmJhc2Vk
ZXYtPmZkKTsNCj4+ICsgICAgcmV0dXJuIHJldDsNCj4+ICt9DQo+PiArDQo+PiArc3RhdGljIHZv
aWQgaW9tbXVmZF9kZXRhY2hfZGV2aWNlKFZGSU9EZXZpY2UgKnZiYXNlZGV2KQ0KPj4gK3sNCj4+
ICsgICAgVkZJT0NvbnRhaW5lckJhc2UgKmJjb250YWluZXIgPSB2YmFzZWRldi0+YmNvbnRhaW5l
cjsNCj4+ICsgICAgVkZJT0lPTU1VRkRDb250YWluZXIgKmNvbnRhaW5lcjsNCj4+ICsgICAgVkZJ
T0FkZHJlc3NTcGFjZSAqc3BhY2UgPSBiY29udGFpbmVyLT5zcGFjZTsNCj4+ICsNCj4+ICsgICAg
UUxJU1RfUkVNT1ZFKHZiYXNlZGV2LCBnbG9iYWxfbmV4dCk7DQo+PiArICAgIFFMSVNUX1JFTU9W
RSh2YmFzZWRldiwgY29udGFpbmVyX25leHQpOw0KPj4gKyAgICB2YmFzZWRldi0+YmNvbnRhaW5l
ciA9IE5VTEw7DQo+PiArDQo+PiArICAgIGlmICghdmJhc2VkZXYtPnJhbV9ibG9ja19kaXNjYXJk
X2FsbG93ZWQpIHsNCj4+ICsgICAgICAgIGlvbW11ZmRfcmFtX2Jsb2NrX2Rpc2NhcmRfZGlzYWJs
ZShmYWxzZSk7DQo+PiArICAgIH0NCj4+ICsNCj4+ICsgICAgY29udGFpbmVyID0gY29udGFpbmVy
X29mKGJjb250YWluZXIsIFZGSU9JT01NVUZEQ29udGFpbmVyLCBiY29udGFpbmVyKTsNCj4+ICsg
ICAgaW9tbXVmZF9jZGV2X2RldGFjaF9jb250YWluZXIodmJhc2VkZXYsIGNvbnRhaW5lcik7DQo+
PiArICAgIGlvbW11ZmRfY29udGFpbmVyX2Rlc3Ryb3koY29udGFpbmVyKTsNCj4+ICsgICAgdmZp
b19wdXRfYWRkcmVzc19zcGFjZShzcGFjZSk7DQo+PiArDQo+PiArICAgIGlvbW11ZmRfdW5iaW5k
X2FuZF9kaXNjb25uZWN0KHZiYXNlZGV2KTsNCj4+ICsgICAgY2xvc2UodmJhc2VkZXYtPmZkKTsN
Cj4+ICt9DQo+PiArDQo+PiArY29uc3QgVkZJT0lPTU1VT3BzIHZmaW9faW9tbXVmZF9vcHMgPSB7
DQo+PiArICAgIC5kbWFfbWFwID0gaW9tbXVmZF9tYXAsDQo+PiArICAgIC5kbWFfdW5tYXAgPSBp
b21tdWZkX3VubWFwLA0KPj4gKyAgICAuYXR0YWNoX2RldmljZSA9IGlvbW11ZmRfYXR0YWNoX2Rl
dmljZSwNCj4+ICsgICAgLmRldGFjaF9kZXZpY2UgPSBpb21tdWZkX2RldGFjaF9kZXZpY2UsDQo+
PiArfTsNCj4+IGRpZmYgLS1naXQgYS9ody92ZmlvL21lc29uLmJ1aWxkIGIvaHcvdmZpby9tZXNv
bi5idWlsZA0KPj4gaW5kZXggZWI2Y2U2MjI5ZC4uOWNhZTJjOWUyMSAxMDA2NDQNCj4+IC0tLSBh
L2h3L3ZmaW8vbWVzb24uYnVpbGQNCj4+ICsrKyBiL2h3L3ZmaW8vbWVzb24uYnVpbGQNCj4+IEBA
IC03LDYgKzcsOSBAQCB2ZmlvX3NzLmFkZChmaWxlcygNCj4+ICAgICAnc3BhcHIuYycsDQo+PiAg
ICAgJ21pZ3JhdGlvbi5jJywNCj4+ICAgKSkNCj4+ICtpZiBoYXZlX2lvbW11ZmQNCj4+ICsgIHZm
aW9fc3MuYWRkKGZpbGVzKCdpb21tdWZkLmMnKSkNCj4+ICtlbmRpZg0KPg0KPkluc3RlYWQsDQo+
DQo+dmZpb19zcy5hZGQod2hlbjogJ0NPTkZJR19JT01NVUZEJywgaWZfdHJ1ZTogZmlsZXMoDQo+
ICAgJ2lvbW11ZmQuYycsDQo+KSkNCg0KV2lsbCBkby4NCg0KVGhhbmtzDQpaaGVuemhvbmcNCg==

