Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 55E8A87F68B
	for <lists+qemu-devel@lfdr.de>; Tue, 19 Mar 2024 06:08:43 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1rmRh0-0004Uh-G6; Tue, 19 Mar 2024 01:07:18 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <zhukeqian1@huawei.com>)
 id 1rmRgv-0004UV-FZ
 for qemu-devel@nongnu.org; Tue, 19 Mar 2024 01:07:13 -0400
Received: from szxga06-in.huawei.com ([45.249.212.32])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <zhukeqian1@huawei.com>)
 id 1rmRgs-0007WR-9P
 for qemu-devel@nongnu.org; Tue, 19 Mar 2024 01:07:13 -0400
Received: from mail.maildlp.com (unknown [172.19.163.17])
 by szxga06-in.huawei.com (SkyGuard) with ESMTP id 4TzKSG72lMz1vx5k;
 Tue, 19 Mar 2024 13:06:06 +0800 (CST)
Received: from kwepemm000013.china.huawei.com (unknown [7.193.23.81])
 by mail.maildlp.com (Postfix) with ESMTPS id B01CB1A0172;
 Tue, 19 Mar 2024 13:06:52 +0800 (CST)
Received: from kwepemi500026.china.huawei.com (7.221.188.247) by
 kwepemm000013.china.huawei.com (7.193.23.81) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.1.2507.35; Tue, 19 Mar 2024 13:06:51 +0800
Received: from kwepemi500026.china.huawei.com ([7.221.188.247]) by
 kwepemi500026.china.huawei.com ([7.221.188.247]) with mapi id 15.01.2507.035; 
 Tue, 19 Mar 2024 13:06:51 +0800
To: David Hildenbrand <david@redhat.com>, "qemu-devel@nongnu.org"
 <qemu-devel@nongnu.org>, Peter Maydell <peter.maydell@linaro.org>, "Igor
 Mammedov" <imammedo@redhat.com>, Stefan Hajnoczi <stefanha@redhat.com>
CC: "Wanghaibin (D)" <wanghaibin.wang@huawei.com>, yuzenghui
 <yuzenghui@huawei.com>, jiangkunkun <jiangkunkun@huawei.com>, Salil Mehta
 <salil.mehta@huawei.com>, Jonathan Cameron <jonathan.cameron@huawei.com>,
 "Zengtao (B)" <prime.zeng@hisilicon.com>
Subject: =?utf-8?B?562U5aSNOiBbUEFUQ0ggdjEgMS8yXSBzeXN0ZW0vY3B1czogRml4IHBhdXNl?=
 =?utf-8?B?X2FsbF92Y3B1cygpIHVuZGVyIGNvbmN1cnJlbnQgZW52aXJvbm1lbnQ=?=
Thread-Topic: [PATCH v1 1/2] system/cpus: Fix pause_all_vcpus() under
 concurrent environment
Thread-Index: AQHaeEZ/tu+Sd5kGeEKZQb/dM1RZVbE8wl4AgAG2qhA=
Date: Tue, 19 Mar 2024 05:06:51 +0000
Message-ID: <7387988008764735b2f1dd5f2c83a45a@huawei.com>
References: <20240317083704.23244-1-zhukeqian1@huawei.com>
 <20240317083704.23244-2-zhukeqian1@huawei.com>
 <4d7795bb-1dfa-40e7-a98e-4c0bafdf3db0@redhat.com>
In-Reply-To: <4d7795bb-1dfa-40e7-a98e-4c0bafdf3db0@redhat.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.174.187.224]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Received-SPF: pass client-ip=45.249.212.32; envelope-from=zhukeqian1@huawei.com;
 helo=szxga06-in.huawei.com
X-Spam_score_int: -41
X-Spam_score: -4.2
X-Spam_bar: ----
X-Spam_report: (-4.2 / 5.0 requ) BAYES_00=-1.9, RCVD_IN_DNSWL_MED=-2.3,
 RCVD_IN_MSPIKE_H4=0.001, RCVD_IN_MSPIKE_WL=0.001, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001, T_SCC_BODY_TEXT_LINE=-0.01 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Reply-to:  zhukeqian <zhukeqian1@huawei.com>
From:  zhukeqian via <qemu-devel@nongnu.org>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

SGkgRGF2aWQsDQoNClRoYW5rcyBmb3IgcmV2aWV3aW5nLg0KDQpPbiAxNy4wMy4yNCAwOTozNywg
S2VxaWFuIFpodSB2aWEgd3JvdGU6DQo+PiBCb3RoIG1haW4gbG9vcCB0aHJlYWQgYW5kIHZDUFUg
dGhyZWFkIGFyZSBhbGxvd2VkIHRvIGNhbGwgDQo+PiBwYXVzZV9hbGxfdmNwdXMoKSwgYW5kIGlu
IGdlbmVyYWwgcmVzdW1lX2FsbF92Y3B1cygpIGlzIGNhbGxlZCBhZnRlciANCj4+IGl0LiBUd28g
aXNzdWVzIGxpdmUgaW4gcGF1c2VfYWxsX3ZjcHVzKCk6DQo+DQo+SW4gZ2VuZXJhbCwgY2FsbGlu
ZyBwYXVzZV9hbGxfdmNwdXMoKSBmcm9tIFZDUFUgdGhyZWFkcyBpcyBxdWl0ZSBkYW5nZXJvdXMu
DQo+DQo+RG8gd2UgaGF2ZSByZXByb2R1Y2VycyBmb3IgdGhlIGNhc2VzIGJlbG93PyANCj4NCg0K
SSBwcm9kdWNlIHRoZSBpc3N1ZXMgYnkgdGVzdGluZyBBUk0gdkNQVSBob3RwbHVnIGZlYXR1cmU6
DQpRRU1VIGNoYW5nZXMgZm9yIHZDUFUgaG90cGx1ZyBjb3VsZCBiZSBjbG9uZWQgZnJvbSBiZWxv
dyBzaXRlLA0KICAgICBodHRwczovL2dpdGh1Yi5jb20vc2FsaWwtbWVodGEvcWVtdS5naXQgdmly
dC1jcHVocC1hcm12OC9yZmMtdjINCkd1ZXN0IEtlcm5lbCBjaGFuZ2VzIChieSBKYW1lcyBNb3Jz
ZSwgQVJNKSBhcmUgYXZhaWxhYmxlIGhlcmU6DQogICAgIGh0dHBzOi8vZ2l0Lmtlcm5lbC5vcmcv
cHViL3NjbS9saW51eC9rZXJuZWwvZ2l0L21vcnNlL2xpbnV4LmdpdCB2aXJ0dWFsX2NwdV9ob3Rw
bHVnL3JmYy92Mg0KDQpUaGUgcHJvY2VkdXJlIHRvIHByb2R1Y2UgcHJvYmxlbXM6DQoxLiBTdGFy
dHVwIGEgTGludXggVk0gKGUuZy4sIGNhbGxlZCBPUy12Y3B1aG90cGx1Zykgd2l0aCAzMiBwb3Nz
aWJsZSB2Q1BVcyBhbmQgMTYgY3VycmVudCB2Q1BVcy4NCjIuIExvZyBpbiBndWVzdE9TIGFuZCBy
dW4gc2NyaXB0WzFdIHRvIGNvbnRpbnVvdXNseSBvbmxpbmUvb2ZmbGluZSBDUFUuDQozLiBBdCBo
b3N0IHNpZGUsIHJ1biBzY3JpcHRbMl0gdG8gY29udGludW91c2x5IGhvdHBsdWcvdW5ob3RwbHVn
IHZDUFUuDQpBZnRlciBzZXZlcmFsIG1pbnV0ZXMsIHdlIGNhbiBoaXQgdGhlc2UgcHJvYmxlbXMu
DQoNClNjcmlwdFsxXSB0byBvbmxpbmUvb2ZmbGluZSBDUFU6DQpmb3IgKCh0aW1lPTE7dGltZTwx
MDAwMDAwMDt0aW1lKyspKTsNCmRvDQogICAgICAgIGZvciAoKGNwdT0xNjtjcHU8MzI7Y3B1Kysp
KTsNCiAgICAgICAgZG8NCiAgICAgICAgICAgICAgICBlY2hvIDEgPiAvc3lzL2RldmljZXMvc3lz
dGVtL2NwdS9jcHUkY3B1L29ubGluZQ0KICAgICAgICBkb25lDQoNCiAgICAgICAgZm9yICgoY3B1
PTE2O2NwdTwzMjtjcHUrKykpOw0KICAgICAgICBkbw0KICAgICAgICAgICAgICAgIGVjaG8gMCA+
IC9zeXMvZGV2aWNlcy9zeXN0ZW0vY3B1L2NwdSRjcHUvb25saW5lDQogICAgICAgIGRvbmUNCmRv
bmUNCg0KU2NyaXB0WzJdIHRvIGhvdHBsdWcvdW5ob3RwbHVnIHZDUFU6DQpmb3IgKCh0aW1lPTE7
dGltZTwxMDAwMDAwO3RpbWUrKykpOw0KZG8NCiAgICAgICAgZWNobyAkdGltZQ0KICAgICAgICBm
b3IgKChjcHU9MTY7Y3B1PD0zMjtjcHUrKykpOw0KICAgICAgICBkbw0KICAgICAgICAgICAgICAg
IGVjaG8gInZpcnNoIHNldHZjcHVzIE9TLXZjcHVob3RwbHVnIC0tY291bnQgICRjcHUgLS1saXZl
Ig0KICAgICAgICAgICAgICAgIHZpcnNoIHNldHZjcHVzIE9TLXZjcHVob3RwbHVnIC0tY291bnQg
ICRjcHUgLS1saXZlDQogICAgICAgICAgICAgICAgc2xlZXAgMg0KICAgICAgICBkb25lDQoNCiAg
ICAgICAgZm9yICgoY3B1PTMyO2NwdT49MTY7Y3B1LS0pKTsNCiAgICAgICAgZG8NCiAgICAgICAg
ICAgICAgICBlY2hvICJ2aXJzaCBzZXR2Y3B1cyBPUy12Y3B1aG90cGx1ZyAtLWNvdW50ICAkY3B1
IC0tbGl2ZSINCiAgICAgICAgICAgICAgICB2aXJzaCBzZXR2Y3B1cyBPUy12Y3B1aG90cGx1ZyAt
LWNvdW50ICAkY3B1IC0tbGl2ZQ0KICAgICAgICAgICAgICAgIHNsZWVwIDINCiAgICAgICAgZG9u
ZQ0KDQogICAgICAgIGZvciAoKGNwdT0xNjtjcHU8PTMyO2NwdSs9MikpOw0KICAgICAgICBkbw0K
ICAgICAgICAgICAgICAgIGVjaG8gInZpcnNoIHNldHZjcHVzIE9TLXZjcHVob3RwbHVnIC0tY291
bnQgICRjcHUgLS1saXZlIg0KICAgICAgICAgICAgICAgIHZpcnNoIHNldHZjcHVzIE9TLXZjcHVo
b3RwbHVnIC0tY291bnQgICRjcHUgLS1saXZlDQogICAgICAgICAgICAgICAgc2xlZXAgMg0KICAg
ICAgICBkb25lDQoNCiAgICAgICAgZm9yICgoY3B1PTMyO2NwdT49MTY7Y3B1LT0yKSk7DQogICAg
ICAgIGRvDQogICAgICAgICAgICAgICAgZWNobyAidmlyc2ggc2V0dmNwdXMgT1MtdmNwdWhvdHBs
dWcgLS1jb3VudCAgJGNwdSAtLWxpdmUiDQogICAgICAgICAgICAgICAgdmlyc2ggc2V0dmNwdXMg
T1MtdmNwdWhvdHBsdWcgLS1jb3VudCAgJGNwdSAtLWxpdmUNCiAgICAgICAgICAgICAgICBzbGVl
cCAyDQogICAgICAgIGRvbmUNCmRvbmUNCg0KVGhlIHNjcmlwdFsxXSB3aWxsIGNhbGwgUFNDSSBD
UFVfT04gd2hpY2ggZW11bGF0ZWQgYnkgUUVNVSwgd2hpY2ggcmVzdWx0IGluIGNhbGxpbmcgY3B1
X3Jlc2V0KCkgb24gdkNQVSB0aHJlYWQuDQpGb3IgQVJNIGFyY2hpdGVjdHVyZSwgaXQgbmVlZHMg
dG8gcmVzZXQgR0lDQyByZWdpc3RlcnMsIHdoaWNoIGlzIG9ubHkgcG9zc2libGUgd2hlbiBhbGwg
dmNwdXMgcGF1c2VkLiBTbyBzY3JpcHRbMV0NCndpbGwgY2FsbCBwYXVzZV9hbGxfdmNwdXMoKSBp
biB2Q1BVIHRocmVhZC4NClRoZSBzY3JpcHRbMl0gYWxzbyBjYWxscyBjcHVfcmVzZXQoKSBmb3Ig
bmV3bHkgaG90cGx1Z2dlZCB2Q1BVLCB3aGljaCBpcyBkb25lIGluIG1haW4gbG9vcCB0aHJlYWQu
DQpTbyB0aGlzIHNjZW5hcmlvIGNhdXNlcyBwcm9ibGVtcyBhcyBJIHN0YXRlIGluIGNvbW1pdCBt
ZXNzYWdlLg0KDQo+PiANCj4+IDEuIFRoZXJlIGlzIHBvc3NpYmlsaXR5IHRoYXQgZHVyaW5nIHRo
cmVhZCBUMSB3YWl0cyBvbiBxZW11X3BhdXNlX2NvbmQgDQo+PiB3aXRoIGJxbCB1bmxvY2tlZCwg
b3RoZXIgdGhyZWFkIGhhcyBjYWxsZWQNCj4+IHBhdXNlX2FsbF92Y3B1cygpIGFuZCByZXN1bWVf
YWxsX3ZjcHVzKCksIHRoZW4gdGhyZWFkIFQxIHdpbGwgc3R1Y2ssIA0KPj4gYmVjYXVzZSB0aGUg
Y29uZGl0aW9uIGFsbF92Y3B1c19wYXVzZWQoKSBpcyBhbHdheXMgZmFsc2UuDQo+DQo+SG93IGNh
biB0aGlzIGhhcHBlbj8NCj4NCj5Ud28gdGhyZWFkcyBjYWxsaW5nIHBhdXNlX2FsbF92Y3B1cygp
IGlzIGJvcmRlcmxpbmUgYnJva2VuLCBhcyB5b3Ugbm90ZS4gDQo+DQo+SUlSQywgd2Ugc2hvdWxk
IGNhbGwgcGF1c2VfYWxsX3ZjcHVzKCkgb25seSBpZiBzb21lIG90aGVyIG1lY2hhbmlzbSBwcmV2
ZW50cyB0aGVzZSByYWNlcy4gRm9yIGV4YW1wbGUsIGJhc2VkIG9uIHJ1bnN0YXRlIGNoYW5nZXMu
DQo+DQoNCldlIGFscmVhZHkgaGFzIGJxbCB0byBwcmV2ZW50IGNvbmN1cnJlbnQgY2FsbGluZyBv
ZiBwYXVzZV9hbGxfdmNwdXMoKSBhbmQgcmVzdW1lX2FsbF92Y3B1cygpLiBCdXQgcGF1c2VfYWxs
X3ZjcHVzKCkgd2lsbA0KdW5sb2NrIGJxbCBpbiB0aGUgaGFsZiB3YXksIHdoaWNoIGdpdmVzIGNo
YW5nZSBmb3Igb3RoZXIgdGhyZWFkIHRvIGNhbGwgcGF1c2UgYW5kIHJlc3VtZS4gSW4gdGhlICBw
YXN0LCBjb2RlIGRvZXMgbm90IGNvbnNpZGVyDQp0aGlzIHByb2JsZW0sIG5vdyBJIGFkZCByZXRy
eSBtZWNoYW5pc20gdG8gZml4IGl0Lg0KDQo+DQo+SnVzdCBpbWFnaW5lIG9uZSB0aHJlYWQgY2Fs
bGluZyBwYXVzZV9hbGxfdmNwdXMoKSB3aGlsZSBhbm90aGVyIG9uZSANCj5jYWxscyByZXN1bWVf
YWxsX3ZjcHVzKCkuIEl0IGNhbm5vdCBwb3NzaWJseSB3b3JrLg0KDQpXaXRoIGJxbCwgd2UgY2Fu
IG1ha2Ugc3VyZSBhbGwgdmNwdXMgYXJlIHBhdXNlZCBhZnRlciBwYXVzZV9hbGxfdmNwdXMoKSBm
aW5pc2gsICBhbmQgYWxsIHZjcHVzIGFyZSByZXN1bWVkIGFmdGVyIHJlc3VtZV9hbGxfdmNwdXMo
KSBmaW5pc2guDQoNCkZvciBleGFtcGxlLCB0aGUgZm9sbG93aW5nIHNpdHVhdGlvbiBtYXkgb2Nj
dXI6DQpUaHJlYWQgVDE6ICAgICBsb2NrIGJxbCAgLT4gICAgcGF1c2VfYWxsX3ZjcHVzIC0+ICAg
d2FpdCBvbiBjb25kIGFuZCB1bmxvY2sgYnFsICAtPiAgIHdhaXQgVDIgdW5sb2NrIGJxbCB0byBs
b2NrIGJxbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLT4gbG9j
ayBicWwgICYmICBhbGxfdmNwdV9wYXVzZWQgLT4gICBzdWNjZXNzIGFuZCBkbyBvdGhlciB3b3Jr
IC0+IHVubG9jayBicWwNClRocmVhZCBUMjogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdh
aXQgVDEgdW5sb2NrIGJxbCB0byBsb2NrIGJxbCAgICAgICAgICAgIC0+ICAgbG9jayBicWwgICAg
LT4gICAgICByZXN1bWVfYWxsX3ZjcHVzICAgLT4gICBzdWNjZXNzICBhbmQgZG8gb3RoZXIgd29y
ayAgIC0+IHVubG9jayBicWwNCg0KVGhhbmtzLA0KS2VxaWFuDQoNCj4NCj4NCj4+IA0KPj4gMi4g
QWZ0ZXIgYWxsX3ZjcHVzX3BhdXNlZCgpIGhhcyBiZWVuIGNoZWNrZWQgYXMgdHJ1ZSwgd2Ugd2ls
bA0KPj4gdW5sb2NrIGJxbCB0byByZWxvY2sgcmVwbGF5X211dGV4LiBEdXJpbmcgdGhlIGJxbCB3
YXMgdW5sb2NrZWQsDQo+PiB0aGUgdmNwdSdzIHN0YXRlIG1heSBoYXMgYmVlbiBjaGFuZ2VkIGJ5
IG90aGVyIHRocmVhZCwgc28gd2UNCj4+IG11c3QgcmV0cnkuDQo+PiANCj4+IFNpZ25lZC1vZmYt
Ynk6IEtlcWlhbiBaaHUgPHpodWtlcWlhbjFAaHVhd2VpLmNvbT4NCj4+IC0tLQ0KPj4gICBzeXN0
ZW0vY3B1cy5jIHwgMjkgKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0NCj4+ICAgMSBmaWxl
IGNoYW5nZWQsIDI0IGluc2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pDQo+PiANCj4gZGlmZiAt
LWdpdCBhL3N5c3RlbS9jcHVzLmMgYi9zeXN0ZW0vY3B1cy5jDQo+IGluZGV4IDY4ZDE2MWQ5NmIu
LjRlNDFhYmUyM2UgMTAwNjQ0DQo+IC0tLSBhL3N5c3RlbS9jcHVzLmMNCj4gKysrIGIvc3lzdGVt
L2NwdXMuYw0KPiBAQCAtNTcxLDEyICs1NzEsMTQgQEAgc3RhdGljIGJvb2wgYWxsX3ZjcHVzX3Bh
dXNlZCh2b2lkKQ0KPiAgICAgICByZXR1cm4gdHJ1ZTsNCj4gICB9DQo+ICAgDQo+IC12b2lkIHBh
dXNlX2FsbF92Y3B1cyh2b2lkKQ0KPiArc3RhdGljIHZvaWQgcmVxdWVzdF9wYXVzZV9hbGxfdmNw
dXModm9pZCkNCj4gICB7DQo+ICAgICAgIENQVVN0YXRlICpjcHU7DQo+ICAgDQo+IC0gICAgcWVt
dV9jbG9ja19lbmFibGUoUUVNVV9DTE9DS19WSVJUVUFMLCBmYWxzZSk7DQo+ICAgICAgIENQVV9G
T1JFQUNIKGNwdSkgew0KPiArICAgICAgICBpZiAoY3B1LT5zdG9wcGVkKSB7DQo+ICsgICAgICAg
ICAgICBjb250aW51ZTsNCj4gKyAgICAgICAgfQ0KPiAgICAgICAgICAgaWYgKHFlbXVfY3B1X2lz
X3NlbGYoY3B1KSkgew0KPiAgICAgICAgICAgICAgIHFlbXVfY3B1X3N0b3AoY3B1LCB0cnVlKTsN
Cj4gICAgICAgICAgIH0gZWxzZSB7DQo+IEBAIC01ODQsNiArNTg2LDE0IEBAIHZvaWQgcGF1c2Vf
YWxsX3ZjcHVzKHZvaWQpDQo+ICAgICAgICAgICAgICAgcWVtdV9jcHVfa2ljayhjcHUpOw0KPiAg
ICAgICAgICAgfQ0KPiAgICAgICB9DQo+ICt9DQo+ICsNCj4gK3ZvaWQgcGF1c2VfYWxsX3ZjcHVz
KHZvaWQpDQo+ICt7DQo+ICsgICAgcWVtdV9jbG9ja19lbmFibGUoUUVNVV9DTE9DS19WSVJUVUFM
LCBmYWxzZSk7DQo+ICsNCj4gK3JldHJ5Og0KPiArICAgIHJlcXVlc3RfcGF1c2VfYWxsX3ZjcHVz
KCk7DQo+ICAgDQo+ICAgICAgIC8qIFdlIG5lZWQgdG8gZHJvcCB0aGUgcmVwbGF5X2xvY2sgc28g
YW55IHZDUFUgdGhyZWFkcyB3b2tlbiB1cA0KPiAgICAgICAgKiBjYW4gZmluaXNoIHRoZWlyIHJl
cGxheSB0YXNrcw0KPiBAQCAtNTkyLDE0ICs2MDIsMjMgQEAgdm9pZCBwYXVzZV9hbGxfdmNwdXMo
dm9pZCkNCj4gICANCj4gICAgICAgd2hpbGUgKCFhbGxfdmNwdXNfcGF1c2VkKCkpIHsNCj4gICAg
ICAgICAgIHFlbXVfY29uZF93YWl0KCZxZW11X3BhdXNlX2NvbmQsICZicWwpOw0KPiAtICAgICAg
ICBDUFVfRk9SRUFDSChjcHUpIHsNCj4gLSAgICAgICAgICAgIHFlbXVfY3B1X2tpY2soY3B1KTsN
Cj4gLSAgICAgICAgfQ0KPiArICAgICAgICAvKiBEdXJpbmcgd2Ugd2FpdGVkIG9uIHFlbXVfcGF1
c2VfY29uZCB0aGUgYnFsIHdhcyB1bmxvY2tlZCwNCj4gKyAgICAgICAgICogdGhlIHZjcHUncyBz
dGF0ZSBtYXkgaGFzIGJlZW4gY2hhbmdlZCBieSBvdGhlciB0aHJlYWQsIHNvDQo+ICsgICAgICAg
ICAqIHdlIG11c3QgcmVxdWVzdCB0aGUgcGF1c2Ugc3RhdGUgb24gYWxsIHZjcHVzIGFnYWluLg0K
PiArICAgICAgICAgKi8NCj4gKyAgICAgICAgcmVxdWVzdF9wYXVzZV9hbGxfdmNwdXMoKTsNCj4g
ICAgICAgfQ0KPiAgIA0KPiAgICAgICBicWxfdW5sb2NrKCk7DQo+ICAgICAgIHJlcGxheV9tdXRl
eF9sb2NrKCk7DQo+ICAgICAgIGJxbF9sb2NrKCk7DQo+ICsNCj4gKyAgICAvKiBEdXJpbmcgdGhl
IGJxbCB3YXMgdW5sb2NrZWQsIHRoZSB2Y3B1J3Mgc3RhdGUgbWF5IGhhcyBiZWVuDQo+ICsgICAg
ICogY2hhbmdlZCBieSBvdGhlciB0aHJlYWQsIHNvIHdlIG11c3QgcmV0cnkuDQo+ICsgICAgICov
DQo+ICsgICAgaWYgKCFhbGxfdmNwdXNfcGF1c2VkKCkpIHsNCj4gKyAgICAgICAgZ290byByZXRy
eTsNCj4gKyAgICB9DQo+ICAgfQ0KPiAgIA0KPiAgIHZvaWQgY3B1X3Jlc3VtZShDUFVTdGF0ZSAq
Y3B1KQ0KDQotLSANCkNoZWVycywNCg0KRGF2aWQgLyBkaGlsZGVuYg0KDQo=

