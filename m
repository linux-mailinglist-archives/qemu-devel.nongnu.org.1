Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 79A2C8BC5E0
	for <lists+qemu-devel@lfdr.de>; Mon,  6 May 2024 04:44:46 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1s3oJf-0000Yd-UT; Sun, 05 May 2024 22:42:59 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <bcain@quicinc.com>) id 1s3oJa-0000Ua-JU
 for qemu-devel@nongnu.org; Sun, 05 May 2024 22:42:55 -0400
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <bcain@quicinc.com>) id 1s3oJX-0007WQ-9C
 for qemu-devel@nongnu.org; Sun, 05 May 2024 22:42:54 -0400
Received: from pps.filterd (m0279871.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.18.1.2/8.18.1.2) with ESMTP id 4462Tsc1001075;
 Mon, 6 May 2024 02:42:49 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com; h=
 from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-type:content-transfer-encoding; s=
 qcppdkim1; bh=5M1q8HhniPVxXmaTHMtxXn2MIPod5FDcemeOyk9EqUk=; b=HE
 Bs9X/Pgg1zhJXn4fH4OTwIZ7sosrSKLZi/me7AqIsXcqGkrbR0fz10mPd/pdzW0f
 VlQl9+NfIr3xWwbAvVgEqftP46/emAUrwdLn0JKSUgt0lO1W/ykfs94lCKcZKYs4
 MZFJ+/3CoL3m9hImriN/otA0oGuzvbYxebwrxeCZoxo2NaBUr+cpvUoZtMn2VR92
 u1BMpa5zJKuwbQnQN+rgS8STyNDXPfW3bGTLw47SLaMWnyqUTODURxxXdsEA1We9
 uauqzFXYVeM9AwGKogaTfhX/RUi0ZZx71hh6eIUkC9z3boPbQEo+XbOTofd6/bgn
 p4+FtbP50NxdoccjSaDw==
Received: from nalasppmta02.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3xwcm4jgbw-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Mon, 06 May 2024 02:42:49 +0000 (GMT)
Received: from nalasex01a.na.qualcomm.com (nalasex01a.na.qualcomm.com
 [10.47.209.196])
 by NALASPPMTA02.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTPS id 4462gllM007500
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Mon, 6 May 2024 02:42:47 GMT
Received: from hu-bcain-lv.qualcomm.com (10.49.16.6) by
 nalasex01a.na.qualcomm.com (10.47.209.196) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.2.1544.9; Sun, 5 May 2024 19:42:47 -0700
From: Brian Cain <bcain@quicinc.com>
To: <qemu-devel@nongnu.org>
CC: <bcain@quicinc.com>, <armbru@redhat.com>, <richard.henderson@linaro.org>, 
 <philmd@linaro.org>, <peter.maydell@linaro.org>,
 <quic_mathbern@quicinc.com>, <stefanha@redhat.com>, <ale@rev.ng>,
 <anjo@rev.ng>, <quic_mliebel@quicinc.com>, <ltaylorsimpson@gmail.com>
Subject: [PULL 01/15] Hexagon (target/hexagon) Analyze reads before writes
Date: Sun, 5 May 2024 19:42:13 -0700
Message-ID: <20240506024227.3345791-2-bcain@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20240506024227.3345791-1-bcain@quicinc.com>
References: <20240506024227.3345791-1-bcain@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Originating-IP: [10.49.16.6]
X-ClientProxiedBy: nalasex01c.na.qualcomm.com (10.47.97.35) To
 nalasex01a.na.qualcomm.com (10.47.209.196)
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: sozzpi0KoDIpkNNFnT2mD78sZzuanZ5I
X-Proofpoint-GUID: sozzpi0KoDIpkNNFnT2mD78sZzuanZ5I
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.293,Aquarius:18.0.1011,Hydra:6.0.650,FMLib:17.11.176.26
 definitions=2024-05-05_17,2024-05-03_02,2023-05-22_02
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 spamscore=0 suspectscore=0
 clxscore=1015 lowpriorityscore=0 bulkscore=0 mlxscore=0 adultscore=0
 malwarescore=0 priorityscore=1501 mlxlogscore=564 impostorscore=0
 phishscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.19.0-2404010003 definitions=main-2405060012
Received-SPF: pass client-ip=205.220.180.131; envelope-from=bcain@quicinc.com;
 helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -20
X-Spam_score: -2.1
X-Spam_bar: --
X-Spam_report: (-2.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

RnJvbTogVGF5bG9yIFNpbXBzb24gPGx0YXlsb3JzaW1wc29uQGdtYWlsLmNvbT4KCldlIGRpdmlk
ZSBnZW5fYW5hbHl6ZV9mdW5jcy5weSBpbnRvIDMgcGhhc2VzCiAgICBEZWNsYXJlIHRoZSBvcGVy
YW5kcwogICAgQW5hbHl6ZSB0aGUgcmVnaXN0ZXIgcmVhZHMKICAgIEFuYWx5emUgdGhlIHJlZ2lz
dGVyIHdyaXRlcwoKV2UgYWxzbyBjcmVhdGUgc3BlY2lhbCB2ZXJzaW9ucyBvZiBjdHhfbG9nXypf
cmVhZCBmb3IgbmV3IG9wZXJhbmRzCiAgICBDaGVjayB0aGF0IHRoZSBvcGVyYW5kIGlzIHdyaXR0
ZW4gYmVmb3JlIHRoZSByZWFkCgpUaGlzIGlzIGEgcHJlY3Vyc29yIHRvIGltcHJvdmluZyB0aGUg
YW5hbHlzaXMgZm9yIHNob3J0LWNpcmN1aXRpbmcKdGhlIHBhY2tldCBzZW1hbnRpY3MgaW4gYSBz
dWJzZXF1ZW50IGNvbW1pdAoKU2lnbmVkLW9mZi1ieTogVGF5bG9yIFNpbXBzb24gPGx0YXlsb3Jz
aW1wc29uQGdtYWlsLmNvbT4KUmV2aWV3ZWQtYnk6IEJyaWFuIENhaW4gPGJjYWluQHF1aWNpbmMu
Y29tPgpNZXNzYWdlLUlkOiA8MjAyNDAyMDExMDMzNDAuMTE5MDgxLTItbHRheWxvcnNpbXBzb25A
Z21haWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBCcmlhbiBDYWluIDxiY2FpbkBxdWljaW5jLmNvbT4K
LS0tCiB0YXJnZXQvaGV4YWdvbi9SRUFETUUgICAgICAgICAgICAgICB8ICA5ICsrKy0tCiB0YXJn
ZXQvaGV4YWdvbi9nZW5fYW5hbHl6ZV9mdW5jcy5weSB8IDM0ICsrKysrKysrKystLS0tLS0KIHRh
cmdldC9oZXhhZ29uL2hleF9jb21tb24ucHkgICAgICAgIHwgNjMgKysrKysrKysrKysrKysrLS0t
LS0tLS0tLS0tLS0KIHRhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5oICAgICAgICAgIHwgMjYgKysr
KysrKysrKystCiA0IGZpbGVzIGNoYW5nZWQsIDgzIGluc2VydGlvbnMoKyksIDQ5IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL1JFQURNRSBiL3RhcmdldC9oZXhhZ29u
L1JFQURNRQppbmRleCA3NDZlYmVjMzc4Li5jMWQ4YzhkMGFiIDEwMDY0NAotLS0gYS90YXJnZXQv
aGV4YWdvbi9SRUFETUUKKysrIGIvdGFyZ2V0L2hleGFnb24vUkVBRE1FCkBAIC0xODMsMTAgKzE4
MywxMSBAQCB3aGVuIHRoZSBvdmVycmlkZSBpcyBwcmVzZW50LgogICAgIH0KIAogV2UgYWxzbyBn
ZW5lcmF0ZSBhbiBhbmFseXplXzx0YWc+IGZ1bmN0aW9uIGZvciBlYWNoIGluc3RydWN0aW9uLiAg
Q3VycmVudGx5LAotdGhlc2UgZnVuY3Rpb25zIHJlY29yZCB0aGUgd3JpdGVzIHRvIHJlZ2lzdGVy
cyBieSBjYWxsaW5nIGN0eF9sb2dfKi4gIER1cmluZwotZ2VuX3N0YXJ0X3BhY2tldCwgd2UgaW52
b2tlIHRoZSBhbmFseXplXzx0YWc+IGZ1bmN0aW9uIGZvciBlYWNoIGluc3RydWN0aW9uIGluCi10
aGUgcGFja2V0LCBhbmQgd2UgbWFyayB0aGUgaW1wbGljaXQgd3JpdGVzLiAgQWZ0ZXIgdGhlIGFu
YWx5c2lzIGlzIHBlcmZvcm1lZCwKLXdlIGluaXRpYWxpemUgdGhlIHJlc3VsdCByZWdpc3RlciBm
b3IgZWFjaCBvZiB0aGUgcHJlZGljYXRlZCBhc3NpZ25tZW50cy4KK3RoZXNlIGZ1bmN0aW9ucyBy
ZWNvcmQgdGhlIHJlYWRzIGFuZCB3cml0ZXMgdG8gcmVnaXN0ZXJzIGJ5IGNhbGxpbmcgY3R4X2xv
Z18qLgorRHVyaW5nIGdlbl9zdGFydF9wYWNrZXQsIHdlIGludm9rZSB0aGUgYW5hbHl6ZV88dGFn
PiBmdW5jdGlvbiBmb3IgZWFjaCBpbnN0cnVjdGlvbiBpbgordGhlIHBhY2tldCwgYW5kIHdlIG1h
cmsgdGhlIGltcGxpY2l0IHdyaXRlcy4gIFRoZSBhbmFseXNpcyBkZXRlcm1pbmVzIGlmIHRoZSBw
YWNrZXQKK3NlbWFudGljcyBjYW4gYmUgc2hvcnQtY2lyY3VpdGVkLiAgSWYgbm90LCB3ZSBpbml0
aWFsaXplIHRoZSByZXN1bHQgcmVnaXN0ZXIgZm9yIGVhY2gKK29mIHRoZSBwcmVkaWNhdGVkIGFz
c2lnbm1lbnRzLgogCiBJbiBhZGRpdGlvbiB0byBpbnN0cnVjdGlvbiBzZW1hbnRpY3MsIHdlIHVz
ZSBhIGdlbmVyYXRvciB0byBjcmVhdGUgdGhlIGRlY29kZQogdHJlZS4gIFRoaXMgZ2VuZXJhdGlv
biBpcyBhIGZvdXIgc3RlcCBwcm9jZXNzLgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2Vu
X2FuYWx5emVfZnVuY3MucHkgYi90YXJnZXQvaGV4YWdvbi9nZW5fYW5hbHl6ZV9mdW5jcy5weQpp
bmRleCBhOWFmNjY2Y2VmLi44OTBlNmEzYTk1IDEwMDc1NQotLS0gYS90YXJnZXQvaGV4YWdvbi9n
ZW5fYW5hbHl6ZV9mdW5jcy5weQorKysgYi90YXJnZXQvaGV4YWdvbi9nZW5fYW5hbHl6ZV9mdW5j
cy5weQpAQCAtMSw3ICsxLDcgQEAKICMhL3Vzci9iaW4vZW52IHB5dGhvbjMKIAogIyMKLSMjICBD
b3B5cmlnaHQoYykgMjAyMi0yMDIzIFF1YWxjb21tIElubm92YXRpb24gQ2VudGVyLCBJbmMuIEFs
bCBSaWdodHMgUmVzZXJ2ZWQuCisjIyAgQ29weXJpZ2h0KGMpIDIwMjItMjAyNCBRdWFsY29tbSBJ
bm5vdmF0aW9uIENlbnRlciwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLgogIyMKICMjICBUaGlz
IHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29y
IG1vZGlmeQogIyMgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGlj
IExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CkBAIC00NCwxNSArNDQsMjUgQEAgZGVmIGdlbl9hbmFs
eXplX2Z1bmMoZiwgdGFnLCByZWdzLCBpbW1zKToKIAogICAgIGYud3JpdGUoIiAgICBJbnNuICpp
bnNuIEdfR05VQ19VTlVTRUQgPSBjdHgtPmluc247XG4iKQogCi0gICAgaSA9IDAKLSAgICAjIyBB
bmFseXplIGFsbCB0aGUgcmVnaXN0ZXJzCi0gICAgZm9yIHJlZ3R5cGUsIHJlZ2lkIGluIHJlZ3M6
Ci0gICAgICAgIHJlZyA9IGhleF9jb21tb24uZ2V0X3JlZ2lzdGVyKHRhZywgcmVndHlwZSwgcmVn
aWQpCisgICAgIyMgRGVjbGFyZSBhbGwgdGhlIHJlZ2lzdGVycworICAgIGZvciByZWdubywgcmVn
aXN0ZXIgaW4gZW51bWVyYXRlKHJlZ3MpOgorICAgICAgICByZWdfdHlwZSwgcmVnX2lkID0gcmVn
aXN0ZXIKKyAgICAgICAgcmVnID0gaGV4X2NvbW1vbi5nZXRfcmVnaXN0ZXIodGFnLCByZWdfdHlw
ZSwgcmVnX2lkKQorICAgICAgICByZWcuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQorCisgICAgIyMg
QW5hbHl6ZSB0aGUgcmVnaXN0ZXIgcmVhZHMKKyAgICBmb3IgcmVnbm8sIHJlZ2lzdGVyIGluIGVu
dW1lcmF0ZShyZWdzKToKKyAgICAgICAgcmVnX3R5cGUsIHJlZ19pZCA9IHJlZ2lzdGVyCisgICAg
ICAgIHJlZyA9IGhleF9jb21tb24uZ2V0X3JlZ2lzdGVyKHRhZywgcmVnX3R5cGUsIHJlZ19pZCkK
KyAgICAgICAgaWYgcmVnLmlzX3JlYWQoKToKKyAgICAgICAgICAgIHJlZy5hbmFseXplX3JlYWQo
ZiwgcmVnbm8pCisKKyAgICAjIyBBbmFseXplIHRoZSByZWdpc3RlciB3cml0ZXMKKyAgICBmb3Ig
cmVnbm8sIHJlZ2lzdGVyIGluIGVudW1lcmF0ZShyZWdzKToKKyAgICAgICAgcmVnX3R5cGUsIHJl
Z19pZCA9IHJlZ2lzdGVyCisgICAgICAgIHJlZyA9IGhleF9jb21tb24uZ2V0X3JlZ2lzdGVyKHRh
ZywgcmVnX3R5cGUsIHJlZ19pZCkKICAgICAgICAgaWYgcmVnLmlzX3dyaXR0ZW4oKToKLSAgICAg
ICAgICAgIHJlZy5hbmFseXplX3dyaXRlKGYsIHRhZywgaSkKLSAgICAgICAgZWxzZToKLSAgICAg
ICAgICAgIHJlZy5hbmFseXplX3JlYWQoZiwgaSkKLSAgICAgICAgaSArPSAxCisgICAgICAgICAg
ICByZWcuYW5hbHl6ZV93cml0ZShmLCB0YWcsIHJlZ25vKQogCiAgICAgaGFzX2dlbmVyYXRlZF9o
ZWxwZXIgPSBub3QgaGV4X2NvbW1vbi5za2lwX3FlbXVfaGVscGVyKAogICAgICAgICB0YWcKQEAg
LTg5LDEzICs5OSwxMyBAQCBkZWYgbWFpbigpOgogICAgIHRhZ2ltbXMgPSBoZXhfY29tbW9uLmdl
dF90YWdpbW1zKCkKIAogICAgIHdpdGggb3BlbihzeXMuYXJndlstMV0sICJ3IikgYXMgZjoKLSAg
ICAgICAgZi53cml0ZSgiI2lmbmRlZiBIRVhBR09OX1RDR19GVU5DU19IXG4iKQotICAgICAgICBm
LndyaXRlKCIjZGVmaW5lIEhFWEFHT05fVENHX0ZVTkNTX0hcblxuIikKKyAgICAgICAgZi53cml0
ZSgiI2lmbmRlZiBIRVhBR09OX0FOQUxZWkVfRlVOQ1NfQ19JTkNcbiIpCisgICAgICAgIGYud3Jp
dGUoIiNkZWZpbmUgSEVYQUdPTl9BTkFMWVpFX0ZVTkNTX0NfSU5DXG5cbiIpCiAKICAgICAgICAg
Zm9yIHRhZyBpbiBoZXhfY29tbW9uLnRhZ3M6CiAgICAgICAgICAgICBnZW5fYW5hbHl6ZV9mdW5j
KGYsIHRhZywgdGFncmVnc1t0YWddLCB0YWdpbW1zW3RhZ10pCiAKLSAgICAgICAgZi53cml0ZSgi
I2VuZGlmICAgIC8qIEhFWEFHT05fVENHX0ZVTkNTX0ggKi9cbiIpCisgICAgICAgIGYud3JpdGUo
IiNlbmRpZiAgICAvKiBIRVhBR09OX0FOQUxZWkVfRlVOQ1NfQ19JTkMgKi9cbiIpCiAKIAogaWYg
X19uYW1lX18gPT0gIl9fbWFpbl9fIjoKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2hleF9j
b21tb24ucHkgYi90YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5CmluZGV4IDE5NTYyMGM3ZWMu
LjMzODAxZTRiZDcgMTAwNzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2hleF9jb21tb24ucHkKKysr
IGIvdGFyZ2V0L2hleGFnb24vaGV4X2NvbW1vbi5weQpAQCAtMSw3ICsxLDcgQEAKICMhL3Vzci9i
aW4vZW52IHB5dGhvbjMKIAogIyMKLSMjICBDb3B5cmlnaHQoYykgMjAxOS0yMDIzIFF1YWxjb21t
IElubm92YXRpb24gQ2VudGVyLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCisjIyAgQ29weXJp
Z2h0KGMpIDIwMTktMjAyNCBRdWFsY29tbSBJbm5vdmF0aW9uIENlbnRlciwgSW5jLiBBbGwgUmln
aHRzIFJlc2VydmVkLgogIyMKICMjICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91
IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogIyMgIGl0IHVuZGVyIHRoZSB0ZXJt
cyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CkBAIC00
MjUsNyArNDI1LDYgQEAgZGVmIGxvZ193cml0ZShzZWxmLCBmLCB0YWcpOgogICAgICAgICAgICAg
Z2VuX2xvZ19yZWdfd3JpdGUoY3R4LCB7c2VsZi5yZWdfbnVtfSwge3NlbGYucmVnX3RjZygpfSk7
CiAgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5emVfd3JpdGUoc2VsZiwgZiwgdGFnLCByZWdu
byk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQogICAgICAgICBwcmVkaWNh
dGVkID0gInRydWUiIGlmIGlzX3ByZWRpY2F0ZWQodGFnKSBlbHNlICJmYWxzZSIKICAgICAgICAg
Zi53cml0ZShjb2RlX2ZtdChmIiIiXAogICAgICAgICAgICAgY3R4X2xvZ19yZWdfd3JpdGUoY3R4
LCB7c2VsZi5yZWdfbnVtfSwge3ByZWRpY2F0ZWR9KTsKQEAgLTQzOCw3ICs0MzcsNiBAQCBkZWYg
ZGVjbF90Y2coc2VsZiwgZiwgdGFnLCByZWdubyk6CiAgICAgICAgICAgICBUQ0d2IHtzZWxmLnJl
Z190Y2coKX0gPSBoZXhfZ3ByW3tzZWxmLnJlZ19udW19XTsKICAgICAgICAgIiIiKSkKICAgICBk
ZWYgYW5hbHl6ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToKLSAgICAgICAgc2VsZi5kZWNsX3JlZ19u
dW0oZiwgcmVnbm8pCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAg
IGN0eF9sb2dfcmVnX3JlYWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CiAgICAgICAgICIiIikpCkBA
IC00NDksOSArNDQ3LDggQEAgZGVmIGRlY2xfdGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgogICAg
ICAgICAgICAgVENHdiB7c2VsZi5yZWdfdGNnKCl9ID0gZ2V0X3Jlc3VsdF9ncHIoY3R4LCBpbnNu
LT5yZWdub1t7cmVnbm99XSk7CiAgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5emVfcmVhZChz
ZWxmLCBmLCByZWdubyk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQogICAg
ICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCi0gICAgICAgICAgICBjdHhfbG9nX3JlZ19yZWFk
KGN0eCwge3NlbGYucmVnX251bX0pOworICAgICAgICAgICAgY3R4X2xvZ19yZWdfcmVhZF9uZXco
Y3R4LCB7c2VsZi5yZWdfbnVtfSk7CiAgICAgICAgICIiIikpCiAKIGNsYXNzIEdwclJlYWRXcml0
ZShSZWdpc3RlciwgU2luZ2xlLCBSZWFkV3JpdGUpOgpAQCAtNDcxLDggKzQ2OCwxMSBAQCBkZWYg
bG9nX3dyaXRlKHNlbGYsIGYsIHRhZyk6CiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwK
ICAgICAgICAgICAgIGdlbl9sb2dfcmVnX3dyaXRlKGN0eCwge3NlbGYucmVnX251bX0sIHtzZWxm
LnJlZ190Y2coKX0pOwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3JlYWQoc2VsZiwg
ZiwgcmVnbm8pOgorICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCisgICAgICAgICAgICBj
dHhfbG9nX3JlZ19yZWFkKGN0eCwge3NlbGYucmVnX251bX0pOworICAgICAgICAiIiIpKQogICAg
IGRlZiBhbmFseXplX3dyaXRlKHNlbGYsIGYsIHRhZywgcmVnbm8pOgotICAgICAgICBzZWxmLmRl
Y2xfcmVnX251bShmLCByZWdubykKICAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVlIiBpZiBpc19w
cmVkaWNhdGVkKHRhZykgZWxzZSAiZmFsc2UiCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIi
IlwKICAgICAgICAgICAgIGN0eF9sb2dfcmVnX3dyaXRlKGN0eCwge3NlbGYucmVnX251bX0sIHtw
cmVkaWNhdGVkfSk7CkBAIC00OTMsNyArNDkzLDYgQEAgZGVmIGxvZ193cml0ZShzZWxmLCBmLCB0
YWcpOgogICAgICAgICAgICAgZ2VuX3dyaXRlX2N0cmxfcmVnKGN0eCwge3NlbGYucmVnX251bX0s
IHtzZWxmLnJlZ190Y2coKX0pOwogICAgICAgICAiIiIpKQogICAgIGRlZiBhbmFseXplX3dyaXRl
KHNlbGYsIGYsIHRhZywgcmVnbm8pOgotICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdu
bykKICAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVlIiBpZiBpc19wcmVkaWNhdGVkKHRhZykgZWxz
ZSAiZmFsc2UiCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAgIGN0
eF9sb2dfcmVnX3dyaXRlKGN0eCwge3NlbGYucmVnX251bX0sIHtwcmVkaWNhdGVkfSk7CkBAIC01
MTEsNyArNTEwLDYgQEAgZGVmIGRlY2xfdGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgogICAgICAg
ICAgICAgZ2VuX3JlYWRfY3RybF9yZWcoY3R4LCB7c2VsZi5yZWdfbnVtfSwge3NlbGYucmVnX3Rj
ZygpfSk7CiAgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5emVfcmVhZChzZWxmLCBmLCByZWdu
byk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQogICAgICAgICBmLndyaXRl
KGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBjdHhfbG9nX3JlZ19yZWFkKGN0eCwge3NlbGYu
cmVnX251bX0pOwogICAgICAgICAiIiIpKQpAQCAtNTMyLDcgKzUzMCw2IEBAIGRlZiBpZGVmX2Fy
ZyhzZWxmLCBkZWNsYXJlZCk6CiAgICAgICAgIGRlY2xhcmVkLmFwcGVuZChzZWxmLnJlZ190Y2co
KSkKICAgICAgICAgZGVjbGFyZWQuYXBwZW5kKCJDUyIpCiAgICAgZGVmIGFuYWx5emVfcmVhZChz
ZWxmLCBmLCByZWdubyk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQogICAg
ICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBjdHhfbG9nX3JlZ19yZWFk
KGN0eCwge3NlbGYucmVnX251bX0pOwogICAgICAgICAiIiIpKQpAQCAtNTQ4LDcgKzU0NSw2IEBA
IGRlZiBsb2dfd3JpdGUoc2VsZiwgZiwgdGFnKToKICAgICAgICAgICAgIGdlbl9sb2dfcHJlZF93
cml0ZShjdHgsIHtzZWxmLnJlZ19udW19LCB7c2VsZi5yZWdfdGNnKCl9KTsKICAgICAgICAgIiIi
KSkKICAgICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0YWcsIHJlZ25vKToKLSAgICAgICAg
c2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIi
IlwKICAgICAgICAgICAgIGN0eF9sb2dfcHJlZF93cml0ZShjdHgsIHtzZWxmLnJlZ19udW19KTsK
ICAgICAgICAgIiIiKSkKQEAgLTU2MCw3ICs1NTYsNiBAQCBkZWYgZGVjbF90Y2coc2VsZiwgZiwg
dGFnLCByZWdubyk6CiAgICAgICAgICAgICBUQ0d2IHtzZWxmLnJlZ190Y2coKX0gPSBoZXhfcHJl
ZFt7c2VsZi5yZWdfbnVtfV07CiAgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5emVfcmVhZChz
ZWxmLCBmLCByZWdubyk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQogICAg
ICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBjdHhfbG9nX3ByZWRfcmVh
ZChjdHgsIHtzZWxmLnJlZ19udW19KTsKICAgICAgICAgIiIiKSkKQEAgLTU3MSw5ICs1NjYsOCBA
QCBkZWYgZGVjbF90Y2coc2VsZiwgZiwgdGFnLCByZWdubyk6CiAgICAgICAgICAgICBUQ0d2IHtz
ZWxmLnJlZ190Y2coKX0gPSBnZXRfcmVzdWx0X3ByZWQoY3R4LCBpbnNuLT5yZWdub1t7cmVnbm99
XSk7CiAgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5emVfcmVhZChzZWxmLCBmLCByZWdubyk6
Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQogICAgICAgICBmLndyaXRlKGNv
ZGVfZm10KGYiIiJcCi0gICAgICAgICAgICBjdHhfbG9nX3ByZWRfcmVhZChjdHgsIHtzZWxmLnJl
Z19udW19KTsKKyAgICAgICAgICAgIGN0eF9sb2dfcHJlZF9yZWFkX25ldyhjdHgsIHtzZWxmLnJl
Z19udW19KTsKICAgICAgICAgIiIiKSkKIAogY2xhc3MgUHJlZFJlYWRXcml0ZShSZWdpc3Rlciwg
U2luZ2xlLCBSZWFkV3JpdGUpOgpAQCAtNTg3LDggKzU4MSwxMSBAQCBkZWYgbG9nX3dyaXRlKHNl
bGYsIGYsIHRhZyk6CiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAg
IGdlbl9sb2dfcHJlZF93cml0ZShjdHgsIHtzZWxmLnJlZ19udW19LCB7c2VsZi5yZWdfdGNnKCl9
KTsKICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToK
KyAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAgICAgY3R4X2xvZ19wcmVk
X3JlYWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CisgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5
emVfd3JpdGUoc2VsZiwgZiwgdGFnLCByZWdubyk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVt
KGYsIHJlZ25vKQogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBj
dHhfbG9nX3ByZWRfd3JpdGUoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CiAgICAgICAgICIiIikpCkBA
IC02MDUsNyArNjAyLDYgQEAgZGVmIGxvZ193cml0ZShzZWxmLCBmLCB0YWcpOgogICAgICAgICAg
ICAgZ2VuX2xvZ19yZWdfd3JpdGVfcGFpcihjdHgsIHtzZWxmLnJlZ19udW19LCB7c2VsZi5yZWdf
dGNnKCl9KTsKICAgICAgICAgIiIiKSkKICAgICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0
YWcsIHJlZ25vKToKLSAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCiAgICAgICAg
IHByZWRpY2F0ZWQgPSAidHJ1ZSIgaWYgaXNfcHJlZGljYXRlZCh0YWcpIGVsc2UgImZhbHNlIgog
ICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBjdHhfbG9nX3JlZ193
cml0ZV9wYWlyKGN0eCwge3NlbGYucmVnX251bX0sIHtwcmVkaWNhdGVkfSk7CkBAIC02MjEsNyAr
NjE3LDYgQEAgZGVmIGRlY2xfdGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgaGV4X2dwclt7c2VsZi5yZWdfbnVtfSArIDFdKTsKICAg
ICAgICAgIiIiKSkKICAgICBkZWYgYW5hbHl6ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToKLSAgICAg
ICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQo
ZiIiIlwKICAgICAgICAgICAgIGN0eF9sb2dfcmVnX3JlYWRfcGFpcihjdHgsIHtzZWxmLnJlZ19u
dW19KTsKICAgICAgICAgIiIiKSkKQEAgLTY0MCw4ICs2MzUsMTEgQEAgZGVmIGxvZ193cml0ZShz
ZWxmLCBmLCB0YWcpOgogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAg
ICBnZW5fbG9nX3JlZ193cml0ZV9wYWlyKGN0eCwge3NlbGYucmVnX251bX0sIHtzZWxmLnJlZ190
Y2coKX0pOwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3JlYWQoc2VsZiwgZiwgcmVn
bm8pOgorICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCisgICAgICAgICAgICBjdHhfbG9n
X3JlZ19yZWFkX3BhaXIoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CisgICAgICAgICIiIikpCiAgICAg
ZGVmIGFuYWx5emVfd3JpdGUoc2VsZiwgZiwgdGFnLCByZWdubyk6Ci0gICAgICAgIHNlbGYuZGVj
bF9yZWdfbnVtKGYsIHJlZ25vKQogICAgICAgICBwcmVkaWNhdGVkID0gInRydWUiIGlmIGlzX3By
ZWRpY2F0ZWQodGFnKSBlbHNlICJmYWxzZSIKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIi
XAogICAgICAgICAgICAgY3R4X2xvZ19yZWdfd3JpdGVfcGFpcihjdHgsIHtzZWxmLnJlZ19udW19
LCB7cHJlZGljYXRlZH0pOwpAQCAtNjYzLDcgKzY2MSw2IEBAIGRlZiBsb2dfd3JpdGUoc2VsZiwg
ZiwgdGFnKToKICAgICAgICAgICAgIGdlbl93cml0ZV9jdHJsX3JlZ19wYWlyKGN0eCwge3NlbGYu
cmVnX251bX0sIHtzZWxmLnJlZ190Y2coKX0pOwogICAgICAgICAiIiIpKQogICAgIGRlZiBhbmFs
eXplX3dyaXRlKHNlbGYsIGYsIHRhZywgcmVnbm8pOgotICAgICAgICBzZWxmLmRlY2xfcmVnX251
bShmLCByZWdubykKICAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVlIiBpZiBpc19wcmVkaWNhdGVk
KHRhZykgZWxzZSAiZmFsc2UiCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAg
ICAgICAgIGN0eF9sb2dfcmVnX3dyaXRlX3BhaXIoY3R4LCB7c2VsZi5yZWdfbnVtfSwge3ByZWRp
Y2F0ZWR9KTsKQEAgLTY4MSw3ICs2NzgsNiBAQCBkZWYgZGVjbF90Y2coc2VsZiwgZiwgdGFnLCBy
ZWdubyk6CiAgICAgICAgICAgICBnZW5fcmVhZF9jdHJsX3JlZ19wYWlyKGN0eCwge3NlbGYucmVn
X251bX0sIHtzZWxmLnJlZ190Y2coKX0pOwogICAgICAgICAiIiIpKQogICAgIGRlZiBhbmFseXpl
X3JlYWQoc2VsZiwgZiwgcmVnbm8pOgotICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdu
bykKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAogICAgICAgICAgICAgY3R4X2xvZ19y
ZWdfcmVhZF9wYWlyKGN0eCwge3NlbGYucmVnX251bX0pOwogICAgICAgICAiIiIpKQpAQCAtNzA1
LDcgKzcwMSw2IEBAIGRlZiBoZWxwZXJfaHZ4X2Rlc2Moc2VsZiwgZik6CiAgICAgICAgICAgICAv
KiB7c2VsZi5yZWdfdGNnKCl9IGlzICooTU1WZWN0b3IgKikoe3NlbGYuaGVscGVyX2FyZ19uYW1l
KCl9KSAqLwogICAgICAgICAiIiIpKQogICAgIGRlZiBhbmFseXplX3dyaXRlKHNlbGYsIGYsIHRh
ZywgcmVnbm8pOgotICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKICAgICAgICAg
bmV3diA9IGh2eF9uZXd2KHRhZykKICAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVlIiBpZiBpc19w
cmVkaWNhdGVkKHRhZykgZWxzZSAiZmFsc2UiCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIi
IlwKQEAgLTcyOCw3ICs3MjMsNiBAQCBkZWYgaGVscGVyX2h2eF9kZXNjKHNlbGYsIGYpOgogICAg
ICAgICAgICAgLyoge3NlbGYucmVnX3RjZygpfSBpcyAqKE1NVmVjdG9yICopKHtzZWxmLmhlbHBl
cl9hcmdfbmFtZSgpfSkgKi8KICAgICAgICAgIiIiKSkKICAgICBkZWYgYW5hbHl6ZV9yZWFkKHNl
bGYsIGYsIHJlZ25vKToKLSAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCiAgICAg
ICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAgIGN0eF9sb2dfdnJlZ19yZWFk
KGN0eCwge3NlbGYucmVnX251bX0pOwogICAgICAgICAiIiIpKQpAQCAtNzQ2LDkgKzc0MCw4IEBA
IGRlZiBoZWxwZXJfaHZ4X2Rlc2Moc2VsZiwgZik6CiAgICAgICAgICAgICAvKiB7c2VsZi5yZWdf
dGNnKCl9IGlzICooTU1WZWN0b3IgKikoe3NlbGYuaGVscGVyX2FyZ19uYW1lKCl9KSAqLwogICAg
ICAgICAiIiIpKQogICAgIGRlZiBhbmFseXplX3JlYWQoc2VsZiwgZiwgcmVnbm8pOgotICAgICAg
ICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChm
IiIiXAotICAgICAgICAgICAgY3R4X2xvZ192cmVnX3JlYWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7
CisgICAgICAgICAgICBjdHhfbG9nX3ZyZWdfcmVhZF9uZXcoY3R4LCB7c2VsZi5yZWdfbnVtfSk7
CiAgICAgICAgICIiIikpCiAKIGNsYXNzIFZSZWdSZWFkV3JpdGUoUmVnaXN0ZXIsIEh2eCwgUmVh
ZFdyaXRlKToKQEAgLTc3Miw4ICs3NjUsMTEgQEAgZGVmIGhlbHBlcl9odnhfZGVzYyhzZWxmLCBm
KToKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAogICAgICAgICAgICAgLyoge3NlbGYu
cmVnX3RjZygpfSBpcyAqKE1NVmVjdG9yICopKHtzZWxmLmhlbHBlcl9hcmdfbmFtZSgpfSkgKi8K
ICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToKKyAg
ICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAgICAgY3R4X2xvZ192cmVnX3Jl
YWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CisgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5emVf
d3JpdGUoc2VsZiwgZiwgdGFnLCByZWdubyk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYs
IHJlZ25vKQogICAgICAgICBuZXd2ID0gaHZ4X25ld3YodGFnKQogICAgICAgICBwcmVkaWNhdGVk
ID0gInRydWUiIGlmIGlzX3ByZWRpY2F0ZWQodGFnKSBlbHNlICJmYWxzZSIKICAgICAgICAgZi53
cml0ZShjb2RlX2ZtdChmIiIiXApAQCAtODAzLDggKzc5OSwxMSBAQCBkZWYgaGVscGVyX2h2eF9k
ZXNjKHNlbGYsIGYpOgogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAg
ICAvKiB7c2VsZi5yZWdfdGNnKCl9IGlzICooTU1WZWN0b3IgKikoe3NlbGYuaGVscGVyX2FyZ19u
YW1lKCl9KSAqLwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3JlYWQoc2VsZiwgZiwg
cmVnbm8pOgorICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCisgICAgICAgICAgICBjdHhf
bG9nX3ZyZWdfcmVhZChjdHgsIHtzZWxmLnJlZ19udW19KTsKKyAgICAgICAgIiIiKSkKICAgICBk
ZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0YWcsIHJlZ25vKToKLSAgICAgICAgc2VsZi5kZWNs
X3JlZ19udW0oZiwgcmVnbm8pCiAgICAgICAgIG5ld3YgPSBodnhfbmV3dih0YWcpCiAgICAgICAg
IHByZWRpY2F0ZWQgPSAidHJ1ZSIgaWYgaXNfcHJlZGljYXRlZCh0YWcpIGVsc2UgImZhbHNlIgog
ICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCkBAIC04MzAsNyArODI5LDYgQEAgZGVmIGhl
bHBlcl9odnhfZGVzYyhzZWxmLCBmKToKICAgICAgICAgICAgIC8qIHtzZWxmLnJlZ190Y2coKX0g
aXMgKihNTVZlY3RvclBhaXIgKikoe3NlbGYuaGVscGVyX2FyZ19uYW1lKCl9KSAqLwogICAgICAg
ICAiIiIpKQogICAgIGRlZiBhbmFseXplX3dyaXRlKHNlbGYsIGYsIHRhZywgcmVnbm8pOgotICAg
ICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKICAgICAgICAgbmV3diA9IGh2eF9uZXd2
KHRhZykKICAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVlIiBpZiBpc19wcmVkaWNhdGVkKHRhZykg
ZWxzZSAiZmFsc2UiCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKQEAgLTg2MCw3ICs4
NTgsNiBAQCBkZWYgaGVscGVyX2h2eF9kZXNjKHNlbGYsIGYpOgogICAgICAgICAgICAgLyoge3Nl
bGYucmVnX3RjZygpfSBpcyAqKE1NVmVjdG9yUGFpciAqKSh7c2VsZi5oZWxwZXJfYXJnX25hbWUo
KX0pICovCiAgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5emVfcmVhZChzZWxmLCBmLCByZWdu
byk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQogICAgICAgICBmLndyaXRl
KGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBjdHhfbG9nX3ZyZWdfcmVhZF9wYWlyKGN0eCwg
e3NlbGYucmVnX251bX0pOwogICAgICAgICAiIiIpKQpAQCAtODkyLDggKzg4OSwxMSBAQCBkZWYg
aGVscGVyX2h2eF9kZXNjKHNlbGYsIGYpOgogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJc
CiAgICAgICAgICAgICAvKiB7c2VsZi5yZWdfdGNnKCl9IGlzICooTU1WZWN0b3JQYWlyICopKHtz
ZWxmLmhlbHBlcl9hcmdfbmFtZSgpfSkgKi8KICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6
ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToKKyAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAor
ICAgICAgICAgICAgY3R4X2xvZ192cmVnX3JlYWRfcGFpcihjdHgsIHtzZWxmLnJlZ19udW19KTsK
KyAgICAgICAgIiIiKSkKICAgICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0YWcsIHJlZ25v
KToKLSAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCiAgICAgICAgIG5ld3YgPSBo
dnhfbmV3dih0YWcpCiAgICAgICAgIHByZWRpY2F0ZWQgPSAidHJ1ZSIgaWYgaXNfcHJlZGljYXRl
ZCh0YWcpIGVsc2UgImZhbHNlIgogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCkBAIC05
MTksNyArOTE5LDYgQEAgZGVmIGhlbHBlcl9odnhfZGVzYyhzZWxmLCBmKToKICAgICAgICAgICAg
IC8qIHtzZWxmLnJlZ190Y2coKX0gaXMgKihNTVFSZWcgKikoe3NlbGYuaGVscGVyX2FyZ19uYW1l
KCl9KSAqLwogICAgICAgICAiIiIpKQogICAgIGRlZiBhbmFseXplX3dyaXRlKHNlbGYsIGYsIHRh
ZywgcmVnbm8pOgotICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKICAgICAgICAg
Zi53cml0ZShjb2RlX2ZtdChmIiIiXAogICAgICAgICAgICAgY3R4X2xvZ19xcmVnX3dyaXRlKGN0
eCwge3NlbGYucmVnX251bX0pOwogICAgICAgICAiIiIpKQpAQCAtOTQxLDcgKzk0MCw2IEBAIGRl
ZiBoZWxwZXJfaHZ4X2Rlc2Moc2VsZiwgZik6CiAgICAgICAgICAgICAvKiB7c2VsZi5yZWdfdGNn
KCl9IGlzICooTU1RUmVnICopKHtzZWxmLmhlbHBlcl9hcmdfbmFtZSgpfSkgKi8KICAgICAgICAg
IiIiKSkKICAgICBkZWYgYW5hbHl6ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToKLSAgICAgICAgc2Vs
Zi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwK
ICAgICAgICAgICAgIGN0eF9sb2dfcXJlZ19yZWFkKGN0eCwge3NlbGYucmVnX251bX0pOwogICAg
ICAgICAiIiIpKQpAQCAtOTY3LDggKzk2NSwxMSBAQCBkZWYgaGVscGVyX2h2eF9kZXNjKHNlbGYs
IGYpOgogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICAvKiB7c2Vs
Zi5yZWdfdGNnKCl9IGlzICooTU1RUmVnICopKHtzZWxmLmhlbHBlcl9hcmdfbmFtZSgpfSkgKi8K
ICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToKKyAg
ICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAgICAgY3R4X2xvZ19xcmVnX3Jl
YWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CisgICAgICAgICIiIikpCiAgICAgZGVmIGFuYWx5emVf
d3JpdGUoc2VsZiwgZiwgdGFnLCByZWdubyk6Ci0gICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYs
IHJlZ25vKQogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBjdHhf
bG9nX3FyZWdfd3JpdGUoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CiAgICAgICAgICIiIikpCmRpZmYg
LS1naXQgYS90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuaCBiL3RhcmdldC9oZXhhZ29uL3RyYW5z
bGF0ZS5oCmluZGV4IDRkZDU5YzY3MjYuLmYwNmQ3MWZjNTMgMTAwNjQ0Ci0tLSBhL3RhcmdldC9o
ZXhhZ29uL3RyYW5zbGF0ZS5oCisrKyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5oCkBAIC0x
LDUgKzEsNSBAQAogLyoKLSAqICBDb3B5cmlnaHQoYykgMjAxOS0yMDIzIFF1YWxjb21tIElubm92
YXRpb24gQ2VudGVyLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCisgKiAgQ29weXJpZ2h0KGMp
IDIwMTktMjAyNCBRdWFsY29tbSBJbm5vdmF0aW9uIENlbnRlciwgSW5jLiBBbGwgUmlnaHRzIFJl
c2VydmVkLgogICoKICAqICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiBy
ZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICogIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0
aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CkBAIC03NSw2ICs3
NSw4IEBAIHR5cGVkZWYgc3RydWN0IERpc2FzQ29udGV4dCB7CiAgICAgVENHdiBkY3plcm9fYWRk
cjsKIH0gRGlzYXNDb250ZXh0OwogCitib29sIGlzX2dhdGhlcl9zdG9yZV9pbnNuKERpc2FzQ29u
dGV4dCAqY3R4KTsKKwogc3RhdGljIGlubGluZSB2b2lkIGN0eF9sb2dfcHJlZF93cml0ZShEaXNh
c0NvbnRleHQgKmN0eCwgaW50IHBudW0pCiB7CiAgICAgaWYgKCF0ZXN0X2JpdChwbnVtLCBjdHgt
PnByZWdzX3dyaXR0ZW4pKSB7CkBAIC04OSw2ICs5MSwxMiBAQCBzdGF0aWMgaW5saW5lIHZvaWQg
Y3R4X2xvZ19wcmVkX3JlYWQoRGlzYXNDb250ZXh0ICpjdHgsIGludCBwbnVtKQogICAgIHNldF9i
aXQocG51bSwgY3R4LT5wcmVnc19yZWFkKTsKIH0KIAorc3RhdGljIGlubGluZSB2b2lkIGN0eF9s
b2dfcHJlZF9yZWFkX25ldyhEaXNhc0NvbnRleHQgKmN0eCwgaW50IHBudW0pCit7CisgICAgZ19h
c3NlcnQodGVzdF9iaXQocG51bSwgY3R4LT5wcmVnc193cml0dGVuKSk7CisgICAgc2V0X2JpdChw
bnVtLCBjdHgtPnByZWdzX3JlYWQpOworfQorCiBzdGF0aWMgaW5saW5lIHZvaWQgY3R4X2xvZ19y
ZWdfd3JpdGUoRGlzYXNDb250ZXh0ICpjdHgsIGludCBybnVtLAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGJvb2wgaXNfcHJlZGljYXRlZCkKIHsKQEAgLTEyMCw2ICsxMjgs
MTIgQEAgc3RhdGljIGlubGluZSB2b2lkIGN0eF9sb2dfcmVnX3JlYWQoRGlzYXNDb250ZXh0ICpj
dHgsIGludCBybnVtKQogICAgIHNldF9iaXQocm51bSwgY3R4LT5yZWdzX3JlYWQpOwogfQogCitz
dGF0aWMgaW5saW5lIHZvaWQgY3R4X2xvZ19yZWdfcmVhZF9uZXcoRGlzYXNDb250ZXh0ICpjdHgs
IGludCBybnVtKQoreworICAgIGdfYXNzZXJ0KHRlc3RfYml0KHJudW0sIGN0eC0+cmVnc193cml0
dGVuKSk7CisgICAgc2V0X2JpdChybnVtLCBjdHgtPnJlZ3NfcmVhZCk7Cit9CisKIHN0YXRpYyBp
bmxpbmUgdm9pZCBjdHhfbG9nX3JlZ19yZWFkX3BhaXIoRGlzYXNDb250ZXh0ICpjdHgsIGludCBy
bnVtKQogewogICAgIGN0eF9sb2dfcmVnX3JlYWQoY3R4LCBybnVtKTsKQEAgLTE3MSw2ICsxODUs
MTUgQEAgc3RhdGljIGlubGluZSB2b2lkIGN0eF9sb2dfdnJlZ19yZWFkKERpc2FzQ29udGV4dCAq
Y3R4LCBpbnQgcm51bSkKICAgICBzZXRfYml0KHJudW0sIGN0eC0+dnJlZ3NfcmVhZCk7CiB9CiAK
K3N0YXRpYyBpbmxpbmUgdm9pZCBjdHhfbG9nX3ZyZWdfcmVhZF9uZXcoRGlzYXNDb250ZXh0ICpj
dHgsIGludCBybnVtKQoreworICAgIGdfYXNzZXJ0KGlzX2dhdGhlcl9zdG9yZV9pbnNuKGN0eCkg
fHwKKyAgICAgICAgICAgICB0ZXN0X2JpdChybnVtLCBjdHgtPnZyZWdzX3VwZGF0ZWQpIHx8Cisg
ICAgICAgICAgICAgdGVzdF9iaXQocm51bSwgY3R4LT52cmVnc19zZWxlY3QpIHx8CisgICAgICAg
ICAgICAgdGVzdF9iaXQocm51bSwgY3R4LT52cmVnc191cGRhdGVkX3RtcCkpOworICAgIHNldF9i
aXQocm51bSwgY3R4LT52cmVnc19yZWFkKTsKK30KKwogc3RhdGljIGlubGluZSB2b2lkIGN0eF9s
b2dfdnJlZ19yZWFkX3BhaXIoRGlzYXNDb250ZXh0ICpjdHgsIGludCBybnVtKQogewogICAgIGN0
eF9sb2dfdnJlZ19yZWFkKGN0eCwgcm51bSBeIDApOwpAQCAtMjA1LDcgKzIyOCw2IEBAIGV4dGVy
biBUQ0d2IGhleF92c3RvcmVfYWRkcltWU1RPUkVTX01BWF07CiBleHRlcm4gVENHdiBoZXhfdnN0
b3JlX3NpemVbVlNUT1JFU19NQVhdOwogZXh0ZXJuIFRDR3YgaGV4X3ZzdG9yZV9wZW5kaW5nW1ZT
VE9SRVNfTUFYXTsKIAotYm9vbCBpc19nYXRoZXJfc3RvcmVfaW5zbihEaXNhc0NvbnRleHQgKmN0
eCk7CiB2b2lkIHByb2Nlc3Nfc3RvcmUoRGlzYXNDb250ZXh0ICpjdHgsIGludCBzbG90X251bSk7
CiAKIEZJRUxEKFBST0JFX1BLVF9TQ0FMQVJfU1RPUkVfUzAsIE1NVV9JRFgsICAgICAgIDAsIDIp
Ci0tIAoyLjI1LjEKCg==

