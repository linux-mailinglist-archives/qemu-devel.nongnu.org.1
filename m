Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 48D1F8CAF1E
	for <lists+qemu-devel@lfdr.de>; Tue, 21 May 2024 15:13:22 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1s9PHl-0007wm-Ir; Tue, 21 May 2024 09:12:09 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <clement.mathieu--drif@eviden.com>)
 id 1s9PHd-0007mh-3a
 for qemu-devel@nongnu.org; Tue, 21 May 2024 09:12:02 -0400
Received: from smarthost3.eviden.com ([80.78.11.84])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <clement.mathieu--drif@eviden.com>)
 id 1s9PHZ-0001ZU-1F
 for qemu-devel@nongnu.org; Tue, 21 May 2024 09:12:00 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=eviden.com; i=@eviden.com; q=dns/txt; s=mail;
 t=1716297117; x=1747833117;
 h=from:to:cc:subject:date:message-id:references:
 in-reply-to:content-id:content-transfer-encoding: mime-version;
 bh=rG+Bw3MmmndtbJbVWq6083592qHj2h+NjpwqB0a2mhM=;
 b=GYnSZSWur6WHft/WuKn8U5jNAjo/54NBmSelwQidvq/DwKdh/l/IMNj6
 4Tod3iTQ8bNOgn8Vz3Bf8mFL0+c+ePFKGzgf9kRPrhex4OucIc6aEqjOz
 161X3xOu0B4QCv45+E2KQo9ClacEdH5UFTHbGwddkO0ovT/RYqLs+tW0g
 t99TBtebPCMpX3/nK/oShFcgmWZOLZAR3gx9mGGf2rJOLUkLErLcYehJi
 9+JKYwFUqJ3U1vZFuwr2Oiwasr3n/kRsVtUU/Gelg68ni5NcXzUuG5ZES
 HnZr2GglXUI6Zh5q4U2/SbaD1+C8c12dC/nw8QIQUKegdGl0yobt+KNhH A==;
X-IronPort-AV: E=Sophos;i="6.08,177,1712613600"; d="scan'208";a="13008012"
X-MGA-submission: =?us-ascii?q?MDG48rgx94wLZo/3EO67I5dIktNJtDeikG8/t7?=
 =?us-ascii?q?MYO9KNuD3beOhD3Y+L9dEmZ2kaeBkKVsBAiwRKxWB53w7SJJAqx4hMCb?=
 =?us-ascii?q?vuI0vtq/8ttuLlhL01PF/2B5W7MzkNRwdOGaIjPUlz0eeMdrIq62t1Co?=
 =?us-ascii?q?oIwVYEgSwhGsYZ4K/9R4pCVA=3D=3D?=
Received: from mail-dbaeur03lp2169.outbound.protection.outlook.com (HELO
 EUR03-DBA-obe.outbound.protection.outlook.com) ([104.47.51.169])
 by smarthost3.eviden.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 21 May 2024 15:11:51 +0200
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=oBaTJS7cxUZsWe2m/MiymtJhz6azvBZucI2LaVABQePzJklbGPHAT7wb4+QSl25hkeb5dPvXkoqPC2d1fRGqH7V1q/zMfL3G9bNt7UnojfI7AVkRVBWSuiBxmL5/HZ2/xRRMIreuQWLPWKxnUz8NUNGAXwBTxiXu1Wm3kxBbbx5rHH7xTDDoeBhRw4di/gDUjhHfsZk1fWOhPhcr5QY0M6/OSPqqbsXic5rI5koNVjVImA0Cm0f88+q7MVccVDHA7bK6p3LzIcmxUEzgNyAwAbetSM/igmZtxOj0ROaggNBmmyvbOd80JWF1N+IT56M2hiDkOd55H7Xp16F9+jPX3w==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=rG+Bw3MmmndtbJbVWq6083592qHj2h+NjpwqB0a2mhM=;
 b=Q9deFib3E+KnbcAVdPfWnKIfBKrueTAyTgMnGtgjWvw3RP00eRmhwLAiaADmfE0yLtBMjlphHWo6rok3K4ZJEz+2+6ZmRzIVD6UxZ8fycZeqUhAmhRQh0iEY+5Z/ZI6S0V5+CZz5Vfmbgvg0cFrNHO1xUdVs+z9aSW5MrwgxNQSAgdA5X1Mw5nigfsNXqIlzQvAiwE4vYzrnjmWyyO3zFk2fQpXmIOrzXvZmJzXy9RdfpV+uSV8jTXXSTqHtukNBM8RHdLPq4evC9jQ4YMyFgV5cRdw0397nB93tmJmJodrSqai1D3NJKFCJdXh4iENecV6M1kAR1hNx4mhmYxiqPA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=eviden.com; dmarc=pass action=none header.from=eviden.com;
 dkim=pass header.d=eviden.com; arc=none
Received: from AM8PR07MB7602.eurprd07.prod.outlook.com (2603:10a6:20b:24b::7)
 by DB8PR07MB6249.eurprd07.prod.outlook.com (2603:10a6:10:140::7) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.7587.27; Tue, 21 May
 2024 13:11:50 +0000
Received: from AM8PR07MB7602.eurprd07.prod.outlook.com
 ([fe80::fbd7:ca71:b636:6f9d]) by AM8PR07MB7602.eurprd07.prod.outlook.com
 ([fe80::fbd7:ca71:b636:6f9d%5]) with mapi id 15.20.7587.035; Tue, 21 May 2024
 13:11:50 +0000
From: CLEMENT MATHIEU--DRIF <clement.mathieu--drif@eviden.com>
To: "qemu-devel@nongnu.org" <qemu-devel@nongnu.org>
CC: "jasowang@redhat.com" <jasowang@redhat.com>, "zhenzhong.duan@intel.com"
 <zhenzhong.duan@intel.com>, "kevin.tian@intel.com" <kevin.tian@intel.com>,
 "yi.l.liu@intel.com" <yi.l.liu@intel.com>, "joao.m.martins@oracle.com"
 <joao.m.martins@oracle.com>, "peterx@redhat.com" <peterx@redhat.com>, CLEMENT
 MATHIEU--DRIF <clement.mathieu--drif@eviden.com>
Subject: [PATCH ats_vtd 17/22] atc: generic ATC that can be used by PCIe
 devices that support SVM
Thread-Topic: [PATCH ats_vtd 17/22] atc: generic ATC that can be used by PCIe
 devices that support SVM
Thread-Index: AQHaq4BxILxnhaztEUGv0ZSpe4izZQ==
Date: Tue, 21 May 2024 13:11:50 +0000
Message-ID: <20240521130946.117849-18-clement.mathieu--drif@eviden.com>
References: <20240521130946.117849-1-clement.mathieu--drif@eviden.com>
In-Reply-To: <20240521130946.117849-1-clement.mathieu--drif@eviden.com>
Accept-Language: en-GB, fr-FR, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=eviden.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: AM8PR07MB7602:EE_|DB8PR07MB6249:EE_
x-ms-office365-filtering-correlation-id: e4b58842-519f-45ba-e76b-08dc79979399
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230031|366007|1800799015|376005|38070700009;
x-microsoft-antispam-message-info: =?utf-8?B?TDBJcUhuM2ZycGtxRkxSeGt1YmNwRkpoQWF6Z3NWc0hlam15NEc2SmIwUVNP?=
 =?utf-8?B?S0FjdFhDM0gwSStBVVpSbElZekF0ZUhaM1JYaEVYYUVRQUNlYzM0L1UwaHQ4?=
 =?utf-8?B?NzRWRytyUitCdW9CRGZiSHIxdDQrajFDeUN2RzAwTmU0UGpkMGFNbll6VmJH?=
 =?utf-8?B?VHRCZnkyNXlRWGFzd01qcVY4bk02VXZPSnF2Uy9oY2dMM2lOZXVJaE8xVjgw?=
 =?utf-8?B?R3FpWFZIbENWTzFzMlhUYnNpR2hlV0JtSUR4VzVpZXBUSzRmM0JXOWFLUmtT?=
 =?utf-8?B?TmlFWmsrNmVFQTdQNGY2SUNTdXFxTC9VSUR4bU9aTmRkQm15Ny9UTXdsSzFt?=
 =?utf-8?B?RDZteE11eEo3RGVpUy9valdHT0dJMSt6WHVBaGRJRGtpRndCcCtxSE5uRThJ?=
 =?utf-8?B?WkNNeld6ZTdsQXhIaHc5WGwrbXArMUFBT056bWQ0OTRGZkZhTlJ4L1JUbFho?=
 =?utf-8?B?LzRCbnZSL21aSm5JK3ZCcmdhRm9FUVdRRzNBOXpRdmlmMkpOeElLN2N1Ty9K?=
 =?utf-8?B?WUVXWVJxNlMzM1ZFZGhiV3RrT3UybGhEaVdvdnlkbU1IUExUWkhnYjJrcGlw?=
 =?utf-8?B?RG5BZDNEY2MrQnl4MjR2ek5Qa3hSQVNKRlYzL3JieXZYVmtBQW8wbVdYYXNN?=
 =?utf-8?B?b1JrVTl3c1UrdVRJN214RTdJY3RhWW03Y3Qya244LzBIbXlmSGNpZURyZExm?=
 =?utf-8?B?TVRNWEJndWlwMDhmejM0eWpRWXVzcGJzWlc5c3V2R1V6VUVMbFRubXhSRkJ0?=
 =?utf-8?B?c28zRGlpdjg0djFKYXZkVTRlb1JHYzZ2UUhNYkJZVzZhb2Eycmx4dTdtQjFD?=
 =?utf-8?B?Qm14NGdzYXo5NEtSRC8yQmNyb3YvWnY1cVNrdHFxN1pncDV0dGgwN00vUnpU?=
 =?utf-8?B?THNZYm5JY0dpS2RxcWhwVXlBZkIwcG9kVnBZUzRWbGtFUHl3RW1naGswWndv?=
 =?utf-8?B?U2ZweEkwNUIxcm1hTnU1Vzh5cE5WaGpNdHYwa1VVazhYc3NiZjU2WlFzWW1h?=
 =?utf-8?B?Z1Zka1ltUWZkaHdRQ3hYWGN3ckttWm05NUpUMWtrK1l0Y3R5SkYzVmlnOTNN?=
 =?utf-8?B?YjZudmNWbjBDSXo2b2xaMXpMd0xBRjFBUFVIYlJpZDRnM0R3SXZxaWl6UFFY?=
 =?utf-8?B?ZktuS0xSbytyK0lBdkI2bmZnOEg3Tnd4ZWd6RGhXSnh4NDFCd3o1WjBGUjhp?=
 =?utf-8?B?TDhLL3Bzem5OWEM4MnJWTXdFNm54ei90N3pNdjVpVlYxSyszQlVtRnp5WERP?=
 =?utf-8?B?ZHRQSEEvbmxud1B2N2ZrZ1RLM1Y2WVlNUlZjOVFjeEFwUVdxU1l3cE5BOXFh?=
 =?utf-8?B?bXhmb0taWkV5eXh6TXV6bzByUTZSU0owNkZTM0VFc1dGZFpFKzU1VzBYanJl?=
 =?utf-8?B?Ykp0eWRHZkhMdnlCMTJyMVRHVlI2MXVuajBJZ0hKVW40YlpMT1FKajFSdkR3?=
 =?utf-8?B?SDI0QW9IdUIrWFZHVjJwVjFUbzcxT3BGWHJjRE5SbmNvWk1DZU5XQVpNcU8y?=
 =?utf-8?B?NFdtZ252dGQrKzR4bnZBU0g2MXREWkV2ckJhRlAwZ1ZSK2RjRDAvRTNKR09x?=
 =?utf-8?B?dHNqZlRFdWdHSlFmKzQzQmhETXFVbWV6ZzVka2hCS2dZRnpnZG0zZDdIQzh4?=
 =?utf-8?B?YWFOV2NaUFRaR3JMV1JzSm5sM2tJRHlrV25TYU0ydXBpcjZEdXFCWDk4TzNw?=
 =?utf-8?B?NnlzQ2Zwc2lxdGpaMlB0K0V4QjVFR3ZwWm9GbGpEUGlJRlhsNzRqSGJnPT0=?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:AM8PR07MB7602.eurprd07.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230031)(366007)(1800799015)(376005)(38070700009); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?QkFDVXkwK1pKUUR0MXd4anpBcTVwZE5BeFAxajNCbkJWOVZiNTB4R0plcHor?=
 =?utf-8?B?UzFySUtYTC9LY2dwTHNCbERQeTlHYTlVenBTWVlGZEVuTkNhYzQzb2lyc28y?=
 =?utf-8?B?WHlGNTFCUGxjS2gzeXB2VXNFZkhqQkJDNlJySEdSTFFNTmFkSDJsbzJVRGFq?=
 =?utf-8?B?RGZ1UzkxYVFUU1dmZ1I1UC9aeUxTM1dLR3pIUWdDR1N2YjdENFRqeU55RzJk?=
 =?utf-8?B?VTVxZkNsaFlxVUF4UVhPSFdlVkpLYS9pSnpUSXlnY2dNdkpTOG9JZ3BOc25r?=
 =?utf-8?B?SEpDcFZzM3JVRElmcHlUSmIraHd1T2dNMy80MnlQNmNwQSs1TCtPQ3RMbXJW?=
 =?utf-8?B?Q1FHeUVDU2lXRVVMR3VpazdkcUJhZGdaVXhjUG5CZVpSeDE5b2xxUjlLbTF0?=
 =?utf-8?B?R21CSU5PNzYyZXpSL3FwMUpwbmRpSWphdkFaR3ZLQlRXblZlWUd6VjRyTThV?=
 =?utf-8?B?VTNyVFVhcGlTWDFBeHliNVE0blV3MlFqbzhId0dmRFBzNlNFY0UzTGhBRk1a?=
 =?utf-8?B?RjNpWGV1Q0pVRXEzaGc4RTBwbjQ3VkdnNzllYVVhbUd3MGlRM3hKVEZ1MHFk?=
 =?utf-8?B?MktnZ0JPb0hsd0wya0tpYm1ZeStxWGUxamVRWDd2dG1pajZNYTkrSnB5WVFw?=
 =?utf-8?B?U1lyYlN3QmxTQlRTSkJkV3ZFY3JhRW1SUTNiWTgxVUg2aUlvOWNOSTd5Z1hY?=
 =?utf-8?B?YStidWRQKzdES0UvMDd6TGp3ZVBGNVB3ZjlkODhZWWpEdW9meTd1VnZRSnZz?=
 =?utf-8?B?Z2RTRWhZQ1g3ODA3L1NMY25RWmoyV2EweFZMdHRGOTVrYzlLKzZZOXNreXVF?=
 =?utf-8?B?d2tkQXdYUjlHeUVkYzVnVzdBdXpqRjd0YlNQSHc0azBYME5jWHJDbzZlYnBQ?=
 =?utf-8?B?MDVLU0pYRlFjRUZodFZZSTVsYVNEemVVdnVMTTBURzVrU0haWmtHd2pZV09k?=
 =?utf-8?B?dmo2WU5VT3hqdTl6aW1BUEVlbXhKWUFQdmtRTm5yQ1J4anVhYm12bSt0M0o3?=
 =?utf-8?B?VFBTc0tEekhtK2phbW5FVXFxT3crWW5sRytzTjVlRldWd3lsWU0vVlQxZnc4?=
 =?utf-8?B?bE9YYUZsMEs0Z1JtRERiK1FPN1I1b0tETU13dnZNMVBCNWFIZ1IyZjJPYWdt?=
 =?utf-8?B?bng3d3RiTUk3VWNESGFEMndtamVxZWZsTi8wYXdqNGtJRko0U05xbEVFMldw?=
 =?utf-8?B?R1p3WGpQb3VBVVFZRWczNmdDQy9yY1hlNlFEY2VmMUcrN3orRGNLSmRtUTFW?=
 =?utf-8?B?RjVzbHRjU2hNbmxsSVRPK1FhbHlGcnZWUkhEbkROODhSMG9uSEhzT28zRlQ4?=
 =?utf-8?B?ejJ2ZEhua1FobmxvRU1kY0NvSjlzSkJaSVF1MnRxTnlsMWZ2OS9HcDllMW5L?=
 =?utf-8?B?QmM1YVRzMXZYTnlPOTROdzZpVTViTHFnc1V4MmUvWjQvMnFuYTBMNEdmN2I4?=
 =?utf-8?B?eTMycUdxYTg4ZW9IMW0vcGFzY1BYNjdDVGRzVVZrYkRYa2xTZjJtWGZBWS8y?=
 =?utf-8?B?UnNSLzA5SCtOdnNqTy9BSXZwQ3BTN2s2RXM3eEV3R2Z6aGY4ZkxkZ0wxbHV2?=
 =?utf-8?B?K1pqZUZyOS9NQ3hsSjZZZ1MxRnhnaFI4bDF0WkZHWkFiT0dwNUpiaVo2OWI0?=
 =?utf-8?B?ZXN2VnIzNllsQXlQYmVZRWlmNkdXVVp3eUxkOGpCMW9WcVVGeEFNZGljU0Fp?=
 =?utf-8?B?dkw1Y2thZVhTdHVJMjdkdzkyekF4WjY3Qmx2aGVvUWcwNlNFOXpMbXkwdXpQ?=
 =?utf-8?B?SVZQZElTMVIwYTZkR3VXeU1Ka28wUTNqNW1PdW9XYXZaTnBsdzdySlVwQml1?=
 =?utf-8?B?R2l2T1NCcU1VQkZwNXpIS0c0S0Q0SThQMDkwazVkMmNEd25VL0tidzlLNE4v?=
 =?utf-8?B?bTBIUm5IWms5UU4yd0tZM2lzL2dud0lXK29aMm5SUkRpaDhLL2wzdkJRblh6?=
 =?utf-8?B?cERQaG1LTlgzR09IaitUVVFyb2JmS0tBcTZpVi91bTB2NXNCR0dGbG5rMk1U?=
 =?utf-8?B?ZlNPdzN6OFUvK25ybTBsT01GTXJka1o2dnhxNzVUUHRjcnhZM0oxRjltUFo1?=
 =?utf-8?B?MzBNVGtiN0s2cmNoOVg0ckZDL2plcW1BU3loOC80WmwzMGduRUJMeHA3djQw?=
 =?utf-8?B?aFJkNW50cWhkL1diSHNXWWlhb001N2czVzFiV3BPWGxTa29oSy8wSFYzSWwv?=
 =?utf-8?Q?d6YD79L9kVL95g38n4X55uc=3D?=
Content-Type: text/plain; charset="utf-8"
Content-ID: <4E4E46386A911F43BE9B36D2683FD9E3@eurprd07.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: eviden.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: AM8PR07MB7602.eurprd07.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: e4b58842-519f-45ba-e76b-08dc79979399
X-MS-Exchange-CrossTenant-originalarrivaltime: 21 May 2024 13:11:50.2827 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 7d1c7785-2d8a-437d-b842-1ed5d8fbe00a
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: vAb5aDYq1VbZxOft3Z1+hzcowAIl3dzK79EfJkJGrNbuzhtOWwOaTXce5JkuLn7BQ8dPh1QBYBCjR7L6K2MZBV3cM0XX33Jw7qosvHGy/m2sq7d6HmEMHmvT9E6Lbkdm
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB8PR07MB6249
Received-SPF: pass client-ip=80.78.11.84;
 envelope-from=clement.mathieu--drif@eviden.com; helo=smarthost3.eviden.com
X-Spam_score_int: -20
X-Spam_score: -2.1
X-Spam_bar: --
X-Spam_report: (-2.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, SPF_HELO_PASS=-0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

QXMgdGhlIFNWTS1jYXBhYmxlIGRldmljZXMgd2lsbCBuZWVkIHRvIGNhY2hlIHRyYW5zbGF0aW9u
cywgd2UgcHJvdmlkZQ0KYW4gZmlyc3QgaW1wbGVtZW50YXRpb24uDQoNClRoaXMgY2FjaGUgdXNl
cyBhIHR3by1sZXZlbCBkZXNpZ24gYmFzZWQgb24gaGFzaCB0YWJsZXMuDQpUaGUgZmlyc3QgbGV2
ZWwgaXMgaW5kZXhlZCBieSBhIFBBU0lEIGFuZCB0aGUgc2Vjb25kIGJ5IGEgdmlydHVhbCBhZGRy
ZXNzZS4NCg0KU2lnbmVkLW9mZi1ieTogQ2zDqW1lbnQgTWF0aGlldS0tRHJpZiA8Y2xlbWVudC5t
YXRoaWV1LS1kcmlmQGV2aWRlbi5jb20+DQotLS0NCiB1dGlsL2F0Yy5jICAgICAgIHwgMjExICsr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrDQogdXRpbC9hdGMu
aCAgICAgICB8IDExNyArKysrKysrKysrKysrKysrKysrKysrKysrKw0KIHV0aWwvbWVzb24uYnVp
bGQgfCAgIDEgKw0KIDMgZmlsZXMgY2hhbmdlZCwgMzI5IGluc2VydGlvbnMoKykNCiBjcmVhdGUg
bW9kZSAxMDA2NDQgdXRpbC9hdGMuYw0KIGNyZWF0ZSBtb2RlIDEwMDY0NCB1dGlsL2F0Yy5oDQoN
CmRpZmYgLS1naXQgYS91dGlsL2F0Yy5jIGIvdXRpbC9hdGMuYw0KbmV3IGZpbGUgbW9kZSAxMDA2
NDQNCmluZGV4IDAwMDAwMDAwMDAuLjU4NGNlMDQ1ZGINCi0tLSAvZGV2L251bGwNCisrKyBiL3V0
aWwvYXRjLmMNCkBAIC0wLDAgKzEsMjExIEBADQorLyoNCisgKiBRRU1VIGVtdWxhdGlvbiBvZiBh
biBBVEMNCisgKg0KKyAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJl
ZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5DQorICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRo
ZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkNCisgKiB0aGUgRnJl
ZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyBlaXRoZXIgdmVyc2lvbiAyIG9mIHRoZSBMaWNlbnNlLCBv
cg0KKyAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uDQorDQorICogVGhpcyBw
cm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWws
DQorICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQg
d2FycmFudHkgb2YNCisgKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNV
TEFSIFBVUlBPU0UuICBTZWUgdGhlDQorICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9y
IG1vcmUgZGV0YWlscy4NCisNCisgKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9m
IHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhbG9uZw0KKyAqIHdpdGggdGhpcyBwcm9n
cmFtOyBpZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uDQorICovDQor
DQorI2luY2x1ZGUgInV0aWwvYXRjLmgiDQorDQorDQorI2RlZmluZSBQQUdFX1RBQkxFX0VOVFJZ
X1NJWkUgOA0KKw0KKy8qIGEgcGFzaWQgaXMgaGFzaGVkIHVzaW5nIHRoZSBpZGVudGl0eSBmdW5j
dGlvbiAqLw0KK3N0YXRpYyBndWludCBhdGNfcGFzaWRfa2V5X2hhc2goZ2NvbnN0cG9pbnRlciB2
KQ0KK3sNCisgICAgcmV0dXJuIChndWludCkodWludHB0cl90KXY7IC8qIHBhc2lkICovDQorfQ0K
Kw0KKy8qIHBhc2lkIGVxdWFsaXR5ICovDQorc3RhdGljIGdib29sZWFuIGF0Y19wYXNpZF9rZXlf
ZXF1YWwoZ2NvbnN0cG9pbnRlciB2MSwgZ2NvbnN0cG9pbnRlciB2MikNCit7DQorICAgIHJldHVy
biB2MSA9PSB2MjsNCit9DQorDQorLyogSGFzaCBmdW5jdGlvbiBmb3IgSU9UTEIgZW50cmllcyAq
Lw0KK3N0YXRpYyBndWludCBhdGNfYWRkcl9rZXlfaGFzaChnY29uc3Rwb2ludGVyIHYpDQorew0K
KyAgICBod2FkZHIgYWRkciA9IChod2FkZHIpdjsNCisgICAgcmV0dXJuIChndWludCkoKGFkZHIg
Pj4gMzIpIF4gKGFkZHIgJiAweGZmZmZmZmZmVSkpOw0KK30NCisNCisvKiBFcXVhbGl0eSB0ZXN0
IGZvciBJT1RMQiBlbnRyaWVzICovDQorc3RhdGljIGdib29sZWFuIGF0Y19hZGRyX2tleV9lcXVh
bChnY29uc3Rwb2ludGVyIHYxLCBnY29uc3Rwb2ludGVyIHYyKQ0KK3sNCisgICAgcmV0dXJuICho
d2FkZHIpdjEgPT0gKGh3YWRkcil2MjsNCit9DQorDQorc3RhdGljIHZvaWQgYXRjX2FkZHJlc3Nf
c3BhY2VfZnJlZSh2b2lkICphcykNCit7DQorICAgIGdfaGFzaF90YWJsZV91bnJlZihhcyk7DQor
fQ0KKw0KKy8qIHJldHVybiBsb2cyKHZhbCksIG9yIFVJTlQ4X01BWCBpZiB2YWwgaXMgbm90IGEg
cG93ZXIgb2YgMiAqLw0KK3N0YXRpYyB1aW50OF90IGlsb2cyKHVpbnQ2NF90IHZhbCkNCit7DQor
ICAgIHVpbnQ4X3QgcmVzdWx0ID0gMDsNCisgICAgd2hpbGUgKHZhbCAhPSAxKSB7DQorICAgICAg
ICBpZiAodmFsICYgMSkgew0KKyAgICAgICAgICAgIHJldHVybiBVSU5UOF9NQVg7DQorICAgICAg
ICB9DQorDQorICAgICAgICB2YWwgPj49IDE7DQorICAgICAgICByZXN1bHQgKz0gMTsNCisgICAg
fQ0KKyAgICByZXR1cm4gcmVzdWx0Ow0KK30NCisNCitBVEMgKmF0Y19uZXcodWludDY0X3QgcGFn
ZV9zaXplLCB1aW50OF90IGFkZHJlc3Nfd2lkdGgpDQorew0KKyAgICBBVEMgKmF0YzsNCisgICAg
dWludDhfdCBsb2dfcGFnZV9zaXplID0gaWxvZzIocGFnZV9zaXplKTsNCisgICAgLyogbnVtYmVy
IG9mIGJpdHMgZWFjaCB1c2VkIHRvIHN0b3JlIGFsbCB0aGUgaW50ZXJtZWRpYXRlIGluZGV4ZXMg
Ki8NCisgICAgdWludDY0X3QgYWRkcl9sb29rdXBfaW5kZXhlc19zaXplOw0KKw0KKyAgICBpZiAo
bG9nX3BhZ2Vfc2l6ZSA9PSBVSU5UOF9NQVgpIHsNCisgICAgICAgIHJldHVybiBOVUxMOw0KKyAg
ICB9DQorICAgIC8qDQorICAgICAqIFdlIG9ubHkgc3VwcG9ydCBwYWdlIHRhYmxlIGVudHJpZXMg
b2YgOCAoUEFHRV9UQUJMRV9FTlRSWV9TSVpFKSBieXRlcw0KKyAgICAgKiBsb2cyKHBhZ2Vfc2l6
ZSAvIDgpID0gbG9nMihwYWdlX3NpemUpIC0gMw0KKyAgICAgKiBpcyB0aGUgbGV2ZWwgb2Zmc2V0
DQorICAgICAqLw0KKyAgICBpZiAobG9nX3BhZ2Vfc2l6ZSA8PSAzKSB7DQorICAgICAgICByZXR1
cm4gTlVMTDsNCisgICAgfQ0KKw0KKyAgICBhdGMgPSBnX25ldzAoQVRDLCAxKTsNCisgICAgYXRj
LT5hZGRyZXNzX3NwYWNlcyA9IGdfaGFzaF90YWJsZV9uZXdfZnVsbChhdGNfcGFzaWRfa2V5X2hh
c2gsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRj
X3Bhc2lkX2tleV9lcXVhbCwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBOVUxMLCBhdGNfYWRkcmVzc19zcGFjZV9mcmVlKTsNCisgICAgYXRjLT5sZXZl
bF9vZmZzZXQgPSBsb2dfcGFnZV9zaXplIC0gMzsNCisgICAgLyogYXQgdGhpcyBwb2ludCwgd2Ug
a25vdyB0aGF0IHBhZ2Vfc2l6ZSBpcyBhIHBvd2VyIG9mIDIgKi8NCisgICAgYXRjLT5taW5fYWRk
cl9tYXNrID0gcGFnZV9zaXplIC0gMTsNCisgICAgYWRkcl9sb29rdXBfaW5kZXhlc19zaXplID0g
YWRkcmVzc193aWR0aCAtIGxvZ19wYWdlX3NpemU7DQorICAgIGlmICgoYWRkcl9sb29rdXBfaW5k
ZXhlc19zaXplICUgYXRjLT5sZXZlbF9vZmZzZXQpICE9IDApIHsNCisgICAgICAgIGdvdG8gZXJy
b3I7DQorICAgIH0NCisgICAgYXRjLT5sZXZlbHMgPSBhZGRyX2xvb2t1cF9pbmRleGVzX3NpemUg
LyBhdGMtPmxldmVsX29mZnNldDsNCisgICAgYXRjLT5wYWdlX3NpemUgPSBwYWdlX3NpemU7DQor
ICAgIHJldHVybiBhdGM7DQorDQorZXJyb3I6DQorICAgIGdfZnJlZShhdGMpOw0KKyAgICByZXR1
cm4gTlVMTDsNCit9DQorDQorc3RhdGljIGlubGluZSBHSGFzaFRhYmxlICphdGNfZ2V0X2FkZHJl
c3Nfc3BhY2VfY2FjaGUoQVRDICphdGMsIHVpbnQzMl90IHBhc2lkKQ0KK3sNCisgICAgcmV0dXJu
IGdfaGFzaF90YWJsZV9sb29rdXAoYXRjLT5hZGRyZXNzX3NwYWNlcywNCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgKGdjb25zdHBvaW50ZXIpKHVpbnRwdHJfdClwYXNpZCk7DQorfQ0K
Kw0KK3ZvaWQgYXRjX2NyZWF0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlKEFUQyAqYXRjLCB1aW50MzJf
dCBwYXNpZCkNCit7DQorICAgIEdIYXNoVGFibGUgKmFzX2NhY2hlOw0KKw0KKyAgICBhc19jYWNo
ZSA9IGF0Y19nZXRfYWRkcmVzc19zcGFjZV9jYWNoZShhdGMsIHBhc2lkKTsNCisgICAgaWYgKCFh
c19jYWNoZSkgew0KKyAgICAgICAgYXNfY2FjaGUgPSBnX2hhc2hfdGFibGVfbmV3X2Z1bGwoYXRj
X2FkZHJfa2V5X2hhc2gsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBhdGNfYWRkcl9rZXlfZXF1YWwsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBOVUxMLCBnX2ZyZWUpOw0KKyAgICAgICAgZ19oYXNoX3RhYmxlX3JlcGxhY2UoYXRj
LT5hZGRyZXNzX3NwYWNlcywNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChncG9pbnRl
cikodWludHB0cl90KXBhc2lkLCBhc19jYWNoZSk7DQorICAgIH0NCit9DQorDQordm9pZCBhdGNf
ZGVsZXRlX2FkZHJlc3Nfc3BhY2VfY2FjaGUoQVRDICphdGMsIHVpbnQzMl90IHBhc2lkKQ0KK3sN
CisgICAgZ19oYXNoX3RhYmxlX3JlbW92ZShhdGMtPmFkZHJlc3Nfc3BhY2VzLCAoZ3BvaW50ZXIp
KHVpbnRwdHJfdClwYXNpZCk7DQorfQ0KKw0KK2ludCBhdGNfdXBkYXRlKEFUQyAqYXRjLCBJT01N
VVRMQkVudHJ5ICplbnRyeSkNCit7DQorICAgIElPTU1VVExCRW50cnkgKnZhbHVlOw0KKyAgICBH
SGFzaFRhYmxlICphc19jYWNoZSA9IGF0Y19nZXRfYWRkcmVzc19zcGFjZV9jYWNoZShhdGMsIGVu
dHJ5LT5wYXNpZCk7DQorICAgIGlmICghYXNfY2FjaGUpIHsNCisgICAgICAgIHJldHVybiAtRU5P
REVWOw0KKyAgICB9DQorICAgIHZhbHVlID0gZ19tZW1kdXAyKGVudHJ5LCBzaXplb2YoKnZhbHVl
KSk7DQorICAgIGdfaGFzaF90YWJsZV9yZXBsYWNlKGFzX2NhY2hlLCAoZ3BvaW50ZXIpKGVudHJ5
LT5pb3ZhKSwgdmFsdWUpOw0KKyAgICByZXR1cm4gMDsNCit9DQorDQorSU9NTVVUTEJFbnRyeSAq
YXRjX2xvb2t1cChBVEMgKmF0YywgdWludDMyX3QgcGFzaWQsIGh3YWRkciBhZGRyKQ0KK3sNCisg
ICAgSU9NTVVUTEJFbnRyeSAqZW50cnk7DQorICAgIGh3YWRkciBtYXNrID0gYXRjLT5taW5fYWRk
cl9tYXNrOw0KKyAgICBod2FkZHIga2V5ID0gYWRkciAmICh+bWFzayk7DQorICAgIEdIYXNoVGFi
bGUgKmFzX2NhY2hlID0gYXRjX2dldF9hZGRyZXNzX3NwYWNlX2NhY2hlKGF0YywgcGFzaWQpOw0K
Kw0KKyAgICBpZiAoIWFzX2NhY2hlKSB7DQorICAgICAgICByZXR1cm4gTlVMTDsNCisgICAgfQ0K
Kw0KKyAgICAvKg0KKyAgICAgKiBJdGVyYXRlIG92ZXIgdGhlIHBvc3NpYmxlIHBhZ2Ugc2l6ZXMg
YW5kIHRyeSB0byBmaW5kIGEgaGl0DQorICAgICAqLw0KKyAgICBmb3IgKHVpbnQ4X3QgbGV2ZWwg
PSAwOyBsZXZlbCA8IGF0Yy0+bGV2ZWxzOyArK2xldmVsKSB7DQorICAgICAgICBlbnRyeSA9IGdf
aGFzaF90YWJsZV9sb29rdXAoYXNfY2FjaGUsIChnY29uc3Rwb2ludGVyKWtleSk7DQorICAgICAg
ICBpZiAoZW50cnkgJiYgKG1hc2sgPT0gZW50cnktPmFkZHJfbWFzaykpIHsNCisgICAgICAgICAg
ICByZXR1cm4gZW50cnk7DQorICAgICAgICB9DQorICAgICAgICBtYXNrID0gKG1hc2sgPDwgYXRj
LT5sZXZlbF9vZmZzZXQpIHwgKCgxIDw8IGF0Yy0+bGV2ZWxfb2Zmc2V0KSAtIDEpOw0KKyAgICAg
ICAga2V5ID0gYWRkciAmICh+bWFzayk7DQorICAgIH0NCisNCisgICAgcmV0dXJuIE5VTEw7DQor
fQ0KKw0KK3N0YXRpYyBnYm9vbGVhbiBhdGNfaW52YWxpZGF0ZV9lbnRyeV9wcmVkaWNhdGUoZ3Bv
aW50ZXIga2V5LCBncG9pbnRlciB2YWx1ZSwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGdwb2ludGVyIHVzZXJfZGF0YSkNCit7DQorICAgIElPTU1VVExC
RW50cnkgKmVudHJ5ID0gKElPTU1VVExCRW50cnkgKil2YWx1ZTsNCisgICAgSU9NTVVUTEJFbnRy
eSAqdGFyZ2V0ID0gKElPTU1VVExCRW50cnkgKil1c2VyX2RhdGE7DQorICAgIGh3YWRkciB0YXJn
ZXRfbWFzayA9IH50YXJnZXQtPmFkZHJfbWFzazsNCisgICAgaHdhZGRyIGVudHJ5X21hc2sgPSB+
ZW50cnktPmFkZHJfbWFzazsNCisgICAgcmV0dXJuICgodGFyZ2V0LT5pb3ZhICYgdGFyZ2V0X21h
c2spID09IChlbnRyeS0+aW92YSAmIHRhcmdldF9tYXNrKSkgfHwNCisgICAgICAgICAgICgodGFy
Z2V0LT5pb3ZhICYgZW50cnlfbWFzaykgPT0gKGVudHJ5LT5pb3ZhICYgZW50cnlfbWFzaykpOw0K
K30NCisNCit2b2lkIGF0Y19pbnZhbGlkYXRlKEFUQyAqYXRjLCBJT01NVVRMQkVudHJ5ICplbnRy
eSkNCit7DQorICAgIEdIYXNoVGFibGUgKmFzX2NhY2hlID0gYXRjX2dldF9hZGRyZXNzX3NwYWNl
X2NhY2hlKGF0YywgZW50cnktPnBhc2lkKTsNCisgICAgaWYgKCFhc19jYWNoZSkgew0KKyAgICAg
ICAgcmV0dXJuOw0KKyAgICB9DQorICAgIGdfaGFzaF90YWJsZV9mb3JlYWNoX3JlbW92ZShhc19j
YWNoZSwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0Y19pbnZhbGlkYXRlX2Vu
dHJ5X3ByZWRpY2F0ZSwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5KTsN
Cit9DQorDQordm9pZCBhdGNfZGVzdHJveShBVEMgKmF0YykNCit7DQorICAgIGdfaGFzaF90YWJs
ZV91bnJlZihhdGMtPmFkZHJlc3Nfc3BhY2VzKTsNCit9DQorDQorc2l6ZV90IGF0Y19nZXRfbWF4
X251bWJlcl9vZl9wYWdlcyhBVEMgKmF0YywgaHdhZGRyIGFkZHIsIHNpemVfdCBsZW5ndGgpDQor
ew0KKyAgICBod2FkZHIgcGFnZV9tYXNrID0gfihhdGMtPm1pbl9hZGRyX21hc2spOw0KKyAgICBz
aXplX3QgcmVzdWx0ID0gKGxlbmd0aCAvIGF0Yy0+cGFnZV9zaXplKTsNCisgICAgaWYgKCgoKGFk
ZHIgJiBwYWdlX21hc2spICsgbGVuZ3RoIC0gMSkgJiBwYWdlX21hc2spICE9DQorICAgICAgICAo
KGFkZHIgKyBsZW5ndGggLSAxKSAmIHBhZ2VfbWFzaykpIHsNCisgICAgICAgIHJlc3VsdCArPSAx
Ow0KKyAgICB9DQorICAgIHJldHVybiByZXN1bHQgKyAobGVuZ3RoICUgYXRjLT5wYWdlX3NpemUg
IT0gMCA/IDEgOiAwKTsNCit9DQorDQordm9pZCBhdGNfcmVzZXQoQVRDICphdGMpDQorew0KKyAg
ICBnX2hhc2hfdGFibGVfcmVtb3ZlX2FsbChhdGMtPmFkZHJlc3Nfc3BhY2VzKTsNCit9DQpkaWZm
IC0tZ2l0IGEvdXRpbC9hdGMuaCBiL3V0aWwvYXRjLmgNCm5ldyBmaWxlIG1vZGUgMTAwNjQ0DQpp
bmRleCAwMDAwMDAwMDAwLi44YmU5NWY1Y2NhDQotLS0gL2Rldi9udWxsDQorKysgYi91dGlsL2F0
Yy5oDQpAQCAtMCwwICsxLDExNyBAQA0KKy8qDQorICogUUVNVSBlbXVsYXRpb24gb2YgYW4gQVRD
DQorICoNCisgKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3Ry
aWJ1dGUgaXQgYW5kL29yIG1vZGlmeQ0KKyAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05V
IEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5DQorICogdGhlIEZyZWUgU29m
dHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyIHZlcnNpb24gMiBvZiB0aGUgTGljZW5zZSwgb3INCisg
KiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLg0KKw0KKyAqIFRoaXMgcHJvZ3Jh
bSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLA0KKyAq
IGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJh
bnR5IG9mDQorICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQ
VVJQT1NFLiAgU2VlIHRoZQ0KKyAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3Jl
IGRldGFpbHMuDQorDQorICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUg
R05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcNCisgKiB3aXRoIHRoaXMgcHJvZ3JhbTsg
aWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+Lg0KKyAqLw0KKw0KKyNp
Zm5kZWYgVVRJTF9BVENfSA0KKyNkZWZpbmUgVVRJTF9BVENfSA0KKw0KKyNpbmNsdWRlICJxZW11
L29zZGVwLmgiDQorI2luY2x1ZGUgImV4ZWMvbWVtb3J5LmgiDQorDQordHlwZWRlZiBzdHJ1Y3Qg
QVRDIHsNCisgICAgR0hhc2hUYWJsZSAqYWRkcmVzc19zcGFjZXM7IC8qIEtleSA6IHBhc2lkLCB2
YWx1ZSA6IEdIYXNoVGFibGUgKi8NCisgICAgaHdhZGRyIG1pbl9hZGRyX21hc2s7DQorICAgIHVp
bnQ2NF90IHBhZ2Vfc2l6ZTsNCisgICAgdWludDhfdCBsZXZlbHM7DQorICAgIHVpbnQ4X3QgbGV2
ZWxfb2Zmc2V0Ow0KK30gQVRDOw0KKw0KKy8qDQorICogYXRjX25ldzogQ3JlYXRlIGFuIEFUQy4N
CisgKg0KKyAqIFJldHVybiBhbiBBVEMgb3IgTlVMTCBpZiB0aGUgY3JlYXRpb24gZmFpbGVkDQor
ICoNCisgKiBAcGFnZV9zaXplOiAjUENJRGV2aWNlIGRvaW5nIHRoZSBtZW1vcnkgYWNjZXNzDQor
ICogQGFkZHJlc3Nfd2lkdGg6IHdpZHRoIG9mIHRoZSB2aXJ0dWFsIGFkZHJlc3NlcyB1c2VkIGJ5
IHRoZSBJT01NVSAoaW4gYml0cykNCisgKi8NCitBVEMgKmF0Y19uZXcodWludDY0X3QgcGFnZV9z
aXplLCB1aW50OF90IGFkZHJlc3Nfd2lkdGgpOw0KKw0KKy8qDQorICogYXRjX3VwZGF0ZTogSW5z
ZXJ0IG9yIHVwZGF0ZSBhbiBlbnRyeSBpbiB0aGUgY2FjaGUNCisgKg0KKyAqIFJldHVybiAwIGlm
IHRoZSBvcGVyYXRpb24gc3VjY2VlZHMsIGEgbmVnYXRpdmUgZXJyb3IgY29kZSBvdGhlcndpc2UN
CisgKg0KKyAqIFRoZSBpbnNlcnRpb24gd2lsbCBmYWlsIGlmIHRoZSBhZGRyZXNzIHNwYWNlIGFz
c29jaWF0ZWQgd2l0aCB0aGlzIHBhc2lkDQorICogaGFzIG5vdCBiZWVuIGNyZWF0ZWQgd2l0aCBh
dGNfY3JlYXRlX2FkZHJlc3Nfc3BhY2VfY2FjaGUNCisgKg0KKyAqIEBhdGM6IHRoZSBBVEMgdG8g
dXBkYXRlDQorICogQGVudHJ5OiB0aGUgdGxiIGVudHJ5IHRvIGluc2VydCBpbnRvIHRoZSBjYWNo
ZQ0KKyAqLw0KK2ludCBhdGNfdXBkYXRlKEFUQyAqYXRjLCBJT01NVVRMQkVudHJ5ICplbnRyeSk7
DQorDQorLyoNCisgKiBhdGNfY3JlYXRlX2FkZHJlc3Nfc3BhY2VfY2FjaGU6IGRlbGFyZSBhIG5l
dyBhZGRyZXNzIHNwYWNlDQorICogaWRlbnRpZmllZCBieSBhIFBBU0lEDQorICoNCisgKiBAYXRj
OiB0aGUgQVRDIHRvIHVwZGF0ZQ0KKyAqIEBwYXNpZDogdGhlIHBhc2lkIG9mIHRoZSBhZGRyZXNz
IHNwYWNlIHRvIGJlIGNyZWF0ZWQNCisgKi8NCit2b2lkIGF0Y19jcmVhdGVfYWRkcmVzc19zcGFj
ZV9jYWNoZShBVEMgKmF0YywgdWludDMyX3QgcGFzaWQpOw0KKw0KKy8qDQorICogYXRjX2RlbGV0
ZV9hZGRyZXNzX3NwYWNlX2NhY2hlOiBkZWxldGUgYW4gYWRkcmVzcyBzcGFjZQ0KKyAqIGlkZW50
aWZpZWQgYnkgYSBQQVNJRA0KKyAqDQorICogQGF0YzogdGhlIEFUQyB0byB1cGRhdGUNCisgKiBA
cGFzaWQ6IHRoZSBwYXNpZCBvZiB0aGUgYWRkcmVzcyBzcGFjZSB0byBiZSBkZWxldGVkDQorICov
DQordm9pZCBhdGNfZGVsZXRlX2FkZHJlc3Nfc3BhY2VfY2FjaGUoQVRDICphdGMsIHVpbnQzMl90
IHBhc2lkKTsNCisNCisvKg0KKyAqIGF0Y19sb29rdXA6IHF1ZXJ5IHRoZSBjYWNoZSBpbiBhIGdp
dmVuIGFkZHJlc3Mgc3BhY2UNCisgKg0KKyAqIEBhdGM6IHRoZSBBVEMgdG8gcXVlcnkNCisgKiBA
cGFzaWQ6IHRoZSBwYXNpZCBvZiB0aGUgYWRkcmVzcyBzcGFjZSB0byBxdWVyeQ0KKyAqIEBhZGRy
OiB0aGUgdmlydHVhbCBhZGRyZXNzIHRvIHRyYW5zbGF0ZQ0KKyAqLw0KK0lPTU1VVExCRW50cnkg
KmF0Y19sb29rdXAoQVRDICphdGMsIHVpbnQzMl90IHBhc2lkLCBod2FkZHIgYWRkcik7DQorDQor
LyoNCisgKiBhdGNfaW52YWxpZGF0ZTogaW52YWxpZGF0ZSBhbiBlbnRyeSBpbiB0aGUgY2FjaGUN
CisgKg0KKyAqIEBhdGM6IHRoZSBBVEMgdG8gdXBkYXRlDQorICogQGVudHJ5OiB0aGUgZW50cnkg
dG8gaW52YWxpZGF0ZQ0KKyAqLw0KK3ZvaWQgYXRjX2ludmFsaWRhdGUoQVRDICphdGMsIElPTU1V
VExCRW50cnkgKmVudHJ5KTsNCisNCisvKg0KKyAqIGF0Y19kZXN0cm95OiBkZWxldGUgYW4gQVRD
DQorICoNCisgKiBAYXRjOiB0aGUgY2FjaGUgdG8gYmUgZGVsZXRlZA0KKyAqLw0KK3ZvaWQgYXRj
X2Rlc3Ryb3koQVRDICphdGMpOw0KKw0KKy8qDQorICogYXRjX2dldF9tYXhfbnVtYmVyX29mX3Bh
Z2VzOiBnZXQgdGhlIG51bWJlciBvZiBwYWdlcyBhIG1lbW9yeSBvcGVyYXRpb24NCisgKiB3aWxs
IGFjY2VzcyBpZiBhbGwgdGhlIHBhZ2VzIGNvbmNlcm5lZCBoYXZlIHRoZSBtaW5pbXVtIHNpemUu
DQorICoNCisgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6
ZSBvZiB0aGUgcmVzdWx0IGFycmF5IHRvIGJlDQorICogYWxsb2NhdGVkIHdoZW4gaXNzdWluZyBh
biBBVFMgcmVxdWVzdC4NCisgKg0KKyAqIEBhdGM6IHRoZSBjYWNoZQ0KKyAqIEBhZGRyOiBzdGFy
dCBhZGRyZXNzDQorICogQGxlbmd0aDogbnVtYmVyIG9mIGJ5dGVzIGFjY2Vzc2VkIGZyb20gYWRk
cg0KKyAqLw0KK3NpemVfdCBhdGNfZ2V0X21heF9udW1iZXJfb2ZfcGFnZXMoQVRDICphdGMsIGh3
YWRkciBhZGRyLCBzaXplX3QgbGVuZ3RoKTsNCisNCisvKg0KKyAqIGF0Y19yZXNldDogaW52YWxp
ZGF0ZXMgYWxsIHRoZSBlbnRyaWVzIHN0b3JlZCBpbiB0aGUgQVRDDQorICoNCisgKiBAYXRjOiB0
aGUgY2FjaGUNCisgKi8NCit2b2lkIGF0Y19yZXNldChBVEMgKmF0Yyk7DQorDQorI2VuZGlmDQpk
aWZmIC0tZ2l0IGEvdXRpbC9tZXNvbi5idWlsZCBiL3V0aWwvbWVzb24uYnVpbGQNCmluZGV4IDJh
ZDU3YjEwYmEuLmU2Y2EzN2E0YjEgMTAwNjQ0DQotLS0gYS91dGlsL21lc29uLmJ1aWxkDQorKysg
Yi91dGlsL21lc29uLmJ1aWxkDQpAQCAtOTMsNiArOTMsNyBAQCBpZiBoYXZlX2Jsb2NrDQogICB1
dGlsX3NzLmFkZChmaWxlcygnaGJpdG1hcC5jJykpDQogICB1dGlsX3NzLmFkZChmaWxlcygnaGV4
ZHVtcC5jJykpDQogICB1dGlsX3NzLmFkZChmaWxlcygnaW92YS10cmVlLmMnKSkNCisgIHV0aWxf
c3MuYWRkKGZpbGVzKCdhdGMuYycpKQ0KICAgdXRpbF9zcy5hZGQoZmlsZXMoJ2lvdi5jJywgJ3Vy
aS5jJykpDQogICB1dGlsX3NzLmFkZChmaWxlcygnbnZkaW1tLXV0aWxzLmMnKSkNCiAgIHV0aWxf
c3MuYWRkKGZpbGVzKCdibG9jay1oZWxwZXJzLmMnKSkNCi0tIA0KMi40NC4wDQo=

