Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 5B6889F0372
	for <lists+qemu-devel@lfdr.de>; Fri, 13 Dec 2024 05:20:17 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1tLx8q-0006av-6o; Thu, 12 Dec 2024 23:19:04 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <brian.cain@oss.qualcomm.com>)
 id 1tLx8n-0006Zl-CG
 for qemu-devel@nongnu.org; Thu, 12 Dec 2024 23:19:01 -0500
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <brian.cain@oss.qualcomm.com>)
 id 1tLx8k-00082W-DK
 for qemu-devel@nongnu.org; Thu, 12 Dec 2024 23:19:01 -0500
Received: from pps.filterd (m0279865.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.18.1.2/8.18.1.2) with ESMTP id 4BCNj9x9028128
 for <qemu-devel@nongnu.org>; Fri, 13 Dec 2024 04:18:54 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qualcomm.com; h=
 cc:content-transfer-encoding:content-type:date:from:in-reply-to
 :message-id:mime-version:references:subject:to; s=qcppdkim1; bh=
 Aj00Z3p+h0VahwZ0D+VmE+kLTFmkMO18ZEMhQMOcVSE=; b=eaiVfaYl7JAkNQTD
 qIeDe7jVoPbqeEl5BuyZOwMc+WQ2CBMr58wT6l1d4SN8Cwi/HAHJd/2I5AqZ84Gk
 IPAaQLLf14veMsU127XOidNANLNhyGF5AZ4AKzL9+rJ6LnQ5AUdxswawy4Cci5mw
 oAm25Ks2cbgRye1Ge5D+P/okJ6ejwg6FfCadi59cf1r5XIwfYne/SnpDJQ+8/vDq
 FCIotOL75eP+CVywDOoKcym16+1oRJ6KCj14/a0pHfdPyXLkIUwjY6to8pftD6Hz
 EmDn1GDnjqKuWsFhGDG+LUjz6KMuQOL92pghhB1hPM98Z4jzHA/wD8ii7NSxuY47
 dlmcsA==
Received: from mail-pf1-f197.google.com (mail-pf1-f197.google.com
 [209.85.210.197])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 43fxw4tb0f-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128 verify=NOT)
 for <qemu-devel@nongnu.org>; Fri, 13 Dec 2024 04:18:54 +0000 (GMT)
Received: by mail-pf1-f197.google.com with SMTP id
 d2e1a72fcca58-725e8775611so1282063b3a.1
 for <qemu-devel@nongnu.org>; Thu, 12 Dec 2024 20:18:54 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1734063533; x=1734668333;
 h=content-transfer-encoding:mime-version:references:in-reply-to
 :message-id:date:subject:cc:to:from:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=Aj00Z3p+h0VahwZ0D+VmE+kLTFmkMO18ZEMhQMOcVSE=;
 b=uYISg4T7sFjdpJ410DX93+0YnuIqcA3FRZCkbNE6YLWI3YcOVT/zp6wC4CiBGA0TVL
 Jip0nJfU629mOkXjEwgc7RB/lFwJOY9iX6whjcJeI5t0XHncpkHmrAFLDmulDecmXlJf
 dwUIsOX+DUMkwWTjF4dFejha71lcx6qcY9kCuapwrlJrO27itFmAwvu9Q3ORKl8MkSET
 oc3F1jgYisPFYORhA/Sh1oIIKMeC3WIB7TkF0f0WeLejZAHLRunNjybYoI+cqUvxT51p
 /EgnNAhfBoIf7YoOErOU+2sTGzRDBHeE/VdRxMLjd9DDryLaQ47WrQIe39Q7aiixtteP
 nGJQ==
X-Gm-Message-State: AOJu0YyYZL9wELddriBkJPgh4le1V9v8sYNP+EsbWMIPwTTUbh0R1v+8
 A703qxpSg++W6BQi9UajZa/ZnTTpIGPLLVNowxf2FAosATN+1pcUpojnAHcWHu+qnWXZHb/J5j1
 bJq5mSiYabsxoFSFXZiAIAblRDAB4sC/ejwysf2r3JE+fRuJEM2vkYdUGPtting==
X-Gm-Gg: ASbGncuxO8svpc7McgrXwxVvqSV7sGni/o9PgCgDaNgDTozG5LuQ0sx3rtCzvqL0Lx7
 gevll63qNdsyry0sllkKKGZqZ15xH0VKKJUxLQee3oaDjgUWoigQ4Q1oLnnC7BBp0NyUA2X12QF
 TymgXsV7kYk9f1LBiuCbqkY1sa4h8Uy49+wHkTMk2Fln5tt/pFCVbWZk1zuFpQoPJTayHKK8CFZ
 6tdjZA03GDUE7vkRtS+vvUKfdlYbVTQqUZKSPRKIn2KrKfz6Dp6psgzqRmMY8ulXgBassiiEk6W
 cFpjzp27GYQjtvY/kr+wDsDt1ecWWw==
X-Received: by 2002:a05:6a00:2e89:b0:724:d758:f35 with SMTP id
 d2e1a72fcca58-7290c0def31mr1622830b3a.2.1734063533226; 
 Thu, 12 Dec 2024 20:18:53 -0800 (PST)
X-Google-Smtp-Source: AGHT+IGVBJI3FbX7arlXXKowHeSgRhsyNlaywMCm4xPV6K1Dp7jg+VoQ19wMEImNuikNaq/Va+G8FQ==
X-Received: by 2002:a05:6a00:2e89:b0:724:d758:f35 with SMTP id
 d2e1a72fcca58-7290c0def31mr1622792b3a.2.1734063532690; 
 Thu, 12 Dec 2024 20:18:52 -0800 (PST)
Received: from hu-bcain-lv.qualcomm.com (Global_NAT1.qualcomm.com.
 [129.46.96.20]) by smtp.gmail.com with ESMTPSA id
 d2e1a72fcca58-725deac1daasm9451938b3a.171.2024.12.12.20.18.51
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 12 Dec 2024 20:18:52 -0800 (PST)
From: Brian Cain <brian.cain@oss.qualcomm.com>
To: qemu-devel@nongnu.org
Cc: brian.cain@oss.qualcomm.com, philmd@linaro.org, peter.maydell@linaro.org, 
 quic_mathbern@quicinc.com, ale@rev.ng, anjo@rev.ng,
 quic_mliebel@quicinc.com, ltaylorsimpson@gmail.com,
 Brian Cain <bcain@oss.qualcomm.com>
Subject: [PULL 1/5] Hexagon (target/hexagon) Remove HEX_DEBUG/HEX_DEBUG_LOG
Date: Thu, 12 Dec 2024 20:18:32 -0800
Message-Id: <20241213041836.39986-2-brian.cain@oss.qualcomm.com>
X-Mailer: git-send-email 2.34.1
In-Reply-To: <20241213041836.39986-1-brian.cain@oss.qualcomm.com>
References: <20241213041836.39986-1-brian.cain@oss.qualcomm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Proofpoint-ORIG-GUID: EsKb2d5WlfIPfKp_hMUZtKPBsPDq9ppq
X-Proofpoint-GUID: EsKb2d5WlfIPfKp_hMUZtKPBsPDq9ppq
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.293,Aquarius:18.0.1039,Hydra:6.0.680,FMLib:17.12.60.29
 definitions=2024-09-06_09,2024-09-06_01,2024-09-02_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 suspectscore=0
 impostorscore=0 clxscore=1015 phishscore=0 spamscore=0 priorityscore=1501
 malwarescore=0 mlxscore=0 bulkscore=0 lowpriorityscore=0 mlxlogscore=999
 adultscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.19.0-2411120000 definitions=main-2412130030
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=brian.cain@oss.qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -26
X-Spam_score: -2.7
X-Spam_bar: --
X-Spam_report: (-2.7 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_EF=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
 RCVD_IN_VALIDITY_RPBL_BLOCKED=0.001, RCVD_IN_VALIDITY_SAFE_BLOCKED=0.001,
 SPF_HELO_NONE=0.001, SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

RnJvbTogVGF5bG9yIFNpbXBzb24gPGx0YXlsb3JzaW1wc29uQGdtYWlsLmNvbT4KCkFsbCBIZXhh
Z29uIGRlYnVnZ2luZyBpcyBub3cgZG9uZSB3aXRoIFFFTVUgbWVjaGFuaXNtcwooZS5nLiwgLWQg
aW5fYXNtKSBvciB3aXRoIGEgY29ubmVjdGVkIGRlYnVnZ2VyIChsbGRiKS4KClNpZ25lZC1vZmYt
Ynk6IFRheWxvciBTaW1wc29uIDxsdGF5bG9yc2ltcHNvbkBnbWFpbC5jb20+ClJldmlld2VkLWJ5
OiBNYXRoZXVzIFRhdmFyZXMgQmVybmFyZGlubyA8cXVpY19tYXRoYmVybkBxdWljaW5jLmNvbT4K
UmV2aWV3ZWQtYnk6IEJyaWFuIENhaW4gPGJyaWFuLmNhaW5Ab3NzLnF1YWxjb21tLmNvbT4KU2ln
bmVkLW9mZi1ieTogQnJpYW4gQ2FpbiA8YnJpYW4uY2FpbkBvc3MucXVhbGNvbW0uY29tPgotLS0K
IHRhcmdldC9oZXhhZ29uL1JFQURNRSAgICAgIHwgICA5IC0tLQogdGFyZ2V0L2hleGFnb24vY3B1
LmggICAgICAgfCAgIDYgLS0KIHRhcmdldC9oZXhhZ29uL2dlbnB0ci5jICAgIHwgICA3IC0tLQog
dGFyZ2V0L2hleGFnb24vaGVscGVyLmggICAgfCAgIDMgLQogdGFyZ2V0L2hleGFnb24vaW50ZXJu
YWwuaCAgfCAgMTEgLS0tLQogdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMgfCAxMTIgLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRl
LmMgfCAgNjYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRl
LmggfCAgIDIgLQogOCBmaWxlcyBjaGFuZ2VkLCAyMTYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvdGFyZ2V0L2hleGFnb24vUkVBRE1FIGIvdGFyZ2V0L2hleGFnb24vUkVBRE1FCmluZGV4IDdm
ZmQ1MTdkNzAuLmNhNjE3ZTMzNjQgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL1JFQURNRQor
KysgYi90YXJnZXQvaGV4YWdvbi9SRUFETUUKQEAgLTI4MiwxMCArMjgyLDYgQEAgRm9yIEhleGFn
b24gVmVjdG9yIGVYdGVuc2lvbnMgKEhWWCksIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSB1c2Vk
CiAKICoqKiBEZWJ1Z2dpbmcgKioqCiAKLVlvdSBjYW4gdHVybiBvbiBhIGxvdCBvZiBkZWJ1Z2dp
bmcgYnkgY2hhbmdpbmcgdGhlIEhFWF9ERUJVRyBtYWNybyB0byAxIGluCi1pbnRlcm5hbC5oLiAg
VGhpcyB3aWxsIHN0cmVhbSBhIGxvdCBvZiBpbmZvcm1hdGlvbiBhcyBpdCBnZW5lcmF0ZXMgVENH
IGFuZAotZXhlY3V0ZXMgdGhlIGNvZGUuCi0KIFRvIHRyYWNrIGRvd24gbmFzdHkgaXNzdWVzIHdp
dGggSGV4YWdvbi0+VENHIGdlbmVyYXRpb24sIHdlIGNvbXBhcmUgdGhlCiBleGVjdXRpb24gcmVz
dWx0cyB3aXRoIGFjdHVhbCBoYXJkd2FyZSBydW5uaW5nIG9uIGEgSGV4YWdvbiBMaW51eCB0YXJn
ZXQuCiBSdW4gcWVtdSB3aXRoIHRoZSAiLWQgY3B1IiBvcHRpb24uICBUaGVuLCB3ZSBjYW4gZGlm
ZiB0aGUgcmVzdWx0cyBhbmQgZmlndXJlCkBAIC0zMDUsOCArMzAxLDMgQEAgSGVyZSBhcmUgc29t
ZSBoYW5keSBwbGFjZXMgdG8gc2V0IGJyZWFrcG9pbnRzCiAgICAgVGhlIGhlbHBlciBmdW5jdGlv
biBmb3IgZWFjaCBpbnN0cnVjdGlvbiBpcyBuYW1lZCBoZWxwZXJfPFRBRz4sIHNvIGhlcmUncwog
ICAgICAgICBhbiBleGFtcGxlIHRoYXQgd2lsbCBzZXQgYSBicmVha3BvaW50IGF0IHRoZSBzdGFy
dAogICAgICAgICBiciBoZWxwZXJfQTJfYWRkCi0gICAgSWYgeW91IGhhdmUgdGhlIEhFWF9ERUJV
RyBtYWNybyBzZXQsIHRoZSBmb2xsb3dpbmcgd2lsbCBiZSB1c2VmdWwKLSAgICAgICAgQXQgdGhl
IHN0YXJ0IG9mIGV4ZWN1dGlvbiBvZiBhIHBhY2tldCBmb3IgYSBnaXZlbiBQQwotICAgICAgICAg
ICAgYnIgaGVscGVyX2RlYnVnX3N0YXJ0X3BhY2tldCBpZiBlbnYtPmdwcls0MV0gPT0gMHhkZWFk
YmVlZgotICAgICAgICBBdCB0aGUgZW5kIG9mIGV4ZWN1dGlvbiBvZiBhIHBhY2tldCBmb3IgYSBn
aXZlbiBQQwotICAgICAgICAgICAgYnIgaGVscGVyX2RlYnVnX2NvbW1pdF9lbmQgaWYgdGhpc19Q
QyA9PSAweGRlYWRiZWVmCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9jcHUuaCBiL3Rhcmdl
dC9oZXhhZ29uL2NwdS5oCmluZGV4IDc2NGYzYzM4Y2MuLjI1MTUwZDUyMTQgMTAwNjQ0Ci0tLSBh
L3RhcmdldC9oZXhhZ29uL2NwdS5oCisrKyBiL3RhcmdldC9oZXhhZ29uL2NwdS5oCkBAIC03OSwx
MiArNzksNiBAQCB0eXBlZGVmIHN0cnVjdCBDUFVBcmNoU3RhdGUgewogICAgIHVpbnQ4X3Qgc2xv
dF9jYW5jZWxsZWQ7CiAgICAgdGFyZ2V0X3Vsb25nIG5ld192YWx1ZV91c3I7CiAKLSAgICAvKgot
ICAgICAqIE9ubHkgdXNlZCB3aGVuIEhFWF9ERUJVRyBpcyBvbiwgYnV0IHVuY29uZGl0aW9uYWxs
eSBpbmNsdWRlZAotICAgICAqIHRvIHJlZHVjZSByZWNvbXBpbGUgdGltZSB3aGVuIHR1cm5pbmcg
SEVYX0RFQlVHIG9uL29mZi4KLSAgICAgKi8KLSAgICB0YXJnZXRfdWxvbmcgcmVnX3dyaXR0ZW5b
VE9UQUxfUEVSX1RIUkVBRF9SRUdTXTsKLQogICAgIE1lbUxvZyBtZW1fbG9nX3N0b3Jlc1tTVE9S
RVNfTUFYXTsKIAogICAgIGZsb2F0X3N0YXR1cyBmcF9zdGF0dXM7CmRpZmYgLS1naXQgYS90YXJn
ZXQvaGV4YWdvbi9nZW5wdHIuYyBiL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCmluZGV4IGRiYWU2
YzU3MGEuLjJjNWUxNWNmY2YgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCisr
KyBiL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCkBAIC0xMDAsMTAgKzEwMCw2IEBAIHZvaWQgZ2Vu
X2xvZ19yZWdfd3JpdGUoRGlzYXNDb250ZXh0ICpjdHgsIGludCBybnVtLCBUQ0d2IHZhbCkKIAog
ICAgIGdlbl9tYXNrZWRfcmVnX3dyaXRlKHZhbCwgaGV4X2dwcltybnVtXSwgcmVnX21hc2spOwog
ICAgIHRjZ19nZW5fbW92X3RsKGdldF9yZXN1bHRfZ3ByKGN0eCwgcm51bSksIHZhbCk7Ci0gICAg
aWYgKEhFWF9ERUJVRykgewotICAgICAgICAvKiBEbyB0aGlzIHNvIEhFTFBFUihkZWJ1Z19jb21t
aXRfZW5kKSB3aWxsIGtub3cgKi8KLSAgICAgICAgdGNnX2dlbl9tb3ZpX3RsKGhleF9yZWdfd3Jp
dHRlbltybnVtXSwgMSk7Ci0gICAgfQogfQogCiBzdGF0aWMgdm9pZCBnZW5fbG9nX3JlZ193cml0
ZV9wYWlyKERpc2FzQ29udGV4dCAqY3R4LCBpbnQgcm51bSwgVENHdl9pNjQgdmFsKQpAQCAtMTUx
LDkgKzE0Nyw2IEBAIHZvaWQgZ2VuX2xvZ19wcmVkX3dyaXRlKERpc2FzQ29udGV4dCAqY3R4LCBp
bnQgcG51bSwgVENHdiB2YWwpCiAgICAgfSBlbHNlIHsKICAgICAgICAgdGNnX2dlbl9hbmRfdGwo
cHJlZCwgcHJlZCwgYmFzZV92YWwpOwogICAgIH0KLSAgICBpZiAoSEVYX0RFQlVHKSB7Ci0gICAg
ICAgIHRjZ19nZW5fb3JpX3RsKGN0eC0+cHJlZF93cml0dGVuLCBjdHgtPnByZWRfd3JpdHRlbiwg
MSA8PCBwbnVtKTsKLSAgICB9CiAgICAgc2V0X2JpdChwbnVtLCBjdHgtPnByZWdzX3dyaXR0ZW4p
OwogfQogCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9oZWxwZXIuaCBiL3RhcmdldC9oZXhh
Z29uL2hlbHBlci5oCmluZGV4IGZhMGViYWY3YzguLmY4YmFhNTk5YzggMTAwNjQ0Ci0tLSBhL3Rh
cmdldC9oZXhhZ29uL2hlbHBlci5oCisrKyBiL3RhcmdldC9oZXhhZ29uL2hlbHBlci5oCkBAIC0x
OSw5ICsxOSw2IEBACiAjaW5jbHVkZSAiaGVscGVyX3Byb3Rvc19nZW5lcmF0ZWQuaC5pbmMiCiAK
IERFRl9IRUxQRVJfRkxBR1NfMihyYWlzZV9leGNlcHRpb24sIFRDR19DQUxMX05PX1JFVFVSTiwg
bm9yZXR1cm4sIGVudiwgaTMyKQotREVGX0hFTFBFUl8xKGRlYnVnX3N0YXJ0X3BhY2tldCwgdm9p
ZCwgZW52KQotREVGX0hFTFBFUl9GTEFHU18zKGRlYnVnX2NoZWNrX3N0b3JlX3dpZHRoLCBUQ0df
Q0FMTF9OT19XRywgdm9pZCwgZW52LCBpbnQsIGludCkKLURFRl9IRUxQRVJfRkxBR1NfNShkZWJ1
Z19jb21taXRfZW5kLCBUQ0dfQ0FMTF9OT19XRywgdm9pZCwgZW52LCBpMzIsIGludCwgaW50LCBp
bnQpCiBERUZfSEVMUEVSXzIoY29tbWl0X3N0b3JlLCB2b2lkLCBlbnYsIGludCkKIERFRl9IRUxQ
RVJfMyhnYXRoZXJfc3RvcmUsIHZvaWQsIGVudiwgaTMyLCBpbnQpCiBERUZfSEVMUEVSXzEoY29t
bWl0X2h2eF9zdG9yZXMsIHZvaWQsIGVudikKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2lu
dGVybmFsLmggYi90YXJnZXQvaGV4YWdvbi9pbnRlcm5hbC5oCmluZGV4IGJlYjA4Y2I3ZTMuLjMy
ZTk2ZjAwZDkgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2ludGVybmFsLmgKKysrIGIvdGFy
Z2V0L2hleGFnb24vaW50ZXJuYWwuaApAQCAtMjAsMTcgKzIwLDYgQEAKIAogI2luY2x1ZGUgInFl
bXUvbG9nLmgiCiAKLS8qCi0gKiBDaGFuZ2UgSEVYX0RFQlVHIHRvIDEgdG8gdHVybiBvbiBkZWJ1
Z2dpbmcgb3V0cHV0Ci0gKi8KLSNkZWZpbmUgSEVYX0RFQlVHIDAKLSNkZWZpbmUgSEVYX0RFQlVH
X0xPRyguLi4pIFwKLSAgICBkbyB7IFwKLSAgICAgICAgaWYgKEhFWF9ERUJVRykgeyBcCi0gICAg
ICAgICAgICBxZW11X2xvZyhfX1ZBX0FSR1NfXyk7IFwKLSAgICAgICAgfSBcCi0gICAgfSB3aGls
ZSAoMCkKLQogaW50IGhleGFnb25fZ2RiX3JlYWRfcmVnaXN0ZXIoQ1BVU3RhdGUgKmNwdSwgR0J5
dGVBcnJheSAqYnVmLCBpbnQgcmVnKTsKIGludCBoZXhhZ29uX2dkYl93cml0ZV9yZWdpc3RlcihD
UFVTdGF0ZSAqY3B1LCB1aW50OF90ICpidWYsIGludCByZWcpOwogaW50IGhleGFnb25faHZ4X2dk
Yl9yZWFkX3JlZ2lzdGVyKENQVVN0YXRlICplbnYsIEdCeXRlQXJyYXkgKm1lbV9idWYsIGludCBu
KTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jIGIvdGFyZ2V0L2hleGFn
b24vb3BfaGVscGVyLmMKaW5kZXggOTBlN2FhYTA5Ny4uMDFkMWExYjFhNyAxMDA2NDQKLS0tIGEv
dGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVy
LmMKQEAgLTU0LDkgKzU0LDYgQEAgR19OT1JFVFVSTiB2b2lkIEhFTFBFUihyYWlzZV9leGNlcHRp
b24pKENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJfdCBleGNwKQogdm9pZCBsb2dfc3RvcmUz
MihDUFVIZXhhZ29uU3RhdGUgKmVudiwgdGFyZ2V0X3Vsb25nIGFkZHIsCiAgICAgICAgICAgICAg
ICAgIHRhcmdldF91bG9uZyB2YWwsIGludCB3aWR0aCwgaW50IHNsb3QpCiB7Ci0gICAgSEVYX0RF
QlVHX0xPRygibG9nX3N0b3JlJWQoMHgiIFRBUkdFVF9GTVRfbHgKLSAgICAgICAgICAgICAgICAg
ICIsICUiIFBSSWQzMiAiIFsweDA4JSIgUFJJeDMyICJdKVxuIiwKLSAgICAgICAgICAgICAgICAg
IHdpZHRoLCBhZGRyLCB2YWwsIHZhbCk7CiAgICAgZW52LT5tZW1fbG9nX3N0b3Jlc1tzbG90XS52
YSA9IGFkZHI7CiAgICAgZW52LT5tZW1fbG9nX3N0b3Jlc1tzbG90XS53aWR0aCA9IHdpZHRoOwog
ICAgIGVudi0+bWVtX2xvZ19zdG9yZXNbc2xvdF0uZGF0YTMyID0gdmFsOwpAQCAtNjUsMzUgKzYy
LDExIEBAIHZvaWQgbG9nX3N0b3JlMzIoQ1BVSGV4YWdvblN0YXRlICplbnYsIHRhcmdldF91bG9u
ZyBhZGRyLAogdm9pZCBsb2dfc3RvcmU2NChDUFVIZXhhZ29uU3RhdGUgKmVudiwgdGFyZ2V0X3Vs
b25nIGFkZHIsCiAgICAgICAgICAgICAgICAgIGludDY0X3QgdmFsLCBpbnQgd2lkdGgsIGludCBz
bG90KQogewotICAgIEhFWF9ERUJVR19MT0coImxvZ19zdG9yZSVkKDB4IiBUQVJHRVRfRk1UX2x4
Ci0gICAgICAgICAgICAgICAgICAiLCAlIiBQUklkNjQgIiBbMHgwMTYlIiBQUkl4NjQgIl0pXG4i
LAotICAgICAgICAgICAgICAgICAgIHdpZHRoLCBhZGRyLCB2YWwsIHZhbCk7CiAgICAgZW52LT5t
ZW1fbG9nX3N0b3Jlc1tzbG90XS52YSA9IGFkZHI7CiAgICAgZW52LT5tZW1fbG9nX3N0b3Jlc1tz
bG90XS53aWR0aCA9IHdpZHRoOwogICAgIGVudi0+bWVtX2xvZ19zdG9yZXNbc2xvdF0uZGF0YTY0
ID0gdmFsOwogfQogCi0vKiBIYW5keSBwbGFjZSB0byBzZXQgYSBicmVha3BvaW50ICovCi12b2lk
IEhFTFBFUihkZWJ1Z19zdGFydF9wYWNrZXQpKENQVUhleGFnb25TdGF0ZSAqZW52KQotewotICAg
IEhFWF9ERUJVR19MT0coIlN0YXJ0IHBhY2tldDogcGMgPSAweCIgVEFSR0VUX0ZNVF9seCAiXG4i
LAotICAgICAgICAgICAgICAgICAgZW52LT5ncHJbSEVYX1JFR19QQ10pOwotCi0gICAgZm9yIChp
bnQgaSA9IDA7IGkgPCBUT1RBTF9QRVJfVEhSRUFEX1JFR1M7IGkrKykgewotICAgICAgICBlbnYt
PnJlZ193cml0dGVuW2ldID0gMDsKLSAgICB9Ci19Ci0KLS8qIENoZWNrcyBmb3IgYm9va2tlZXBp
bmcgZXJyb3JzIGJldHdlZW4gZGlzYXNzZW1ibHkgY29udGV4dCBhbmQgcnVudGltZSAqLwotdm9p
ZCBIRUxQRVIoZGVidWdfY2hlY2tfc3RvcmVfd2lkdGgpKENQVUhleGFnb25TdGF0ZSAqZW52LCBp
bnQgc2xvdCwgaW50IGNoZWNrKQotewotICAgIGlmIChlbnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3Rd
LndpZHRoICE9IGNoZWNrKSB7Ci0gICAgICAgIEhFWF9ERUJVR19MT0coIkVSUk9SOiAlZCAhPSAl
ZFxuIiwKLSAgICAgICAgICAgICAgICAgICAgICBlbnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3RdLndp
ZHRoLCBjaGVjayk7Ci0gICAgICAgIGdfYXNzZXJ0X25vdF9yZWFjaGVkKCk7Ci0gICAgfQotfQot
CiBzdGF0aWMgdm9pZCBjb21taXRfc3RvcmUoQ1BVSGV4YWdvblN0YXRlICplbnYsIGludCBzbG90
X251bSwgdWludHB0cl90IHJhKQogewogICAgIHVpbnQ4X3Qgd2lkdGggPSBlbnYtPm1lbV9sb2df
c3RvcmVzW3Nsb3RfbnVtXS53aWR0aDsKQEAgLTE3Myw5MSArMTQ2LDYgQEAgdm9pZCBIRUxQRVIo
Y29tbWl0X2h2eF9zdG9yZXMpKENQVUhleGFnb25TdGF0ZSAqZW52KQogICAgIH0KIH0KIAotc3Rh
dGljIHZvaWQgcHJpbnRfc3RvcmUoQ1BVSGV4YWdvblN0YXRlICplbnYsIGludCBzbG90KQotewot
ICAgIGlmICghKGVudi0+c2xvdF9jYW5jZWxsZWQgJiAoMSA8PCBzbG90KSkpIHsKLSAgICAgICAg
dWludDhfdCB3aWR0aCA9IGVudi0+bWVtX2xvZ19zdG9yZXNbc2xvdF0ud2lkdGg7Ci0gICAgICAg
IGlmICh3aWR0aCA9PSAxKSB7Ci0gICAgICAgICAgICB1aW50MzJfdCBkYXRhID0gZW52LT5tZW1f
bG9nX3N0b3Jlc1tzbG90XS5kYXRhMzIgJiAweGZmOwotICAgICAgICAgICAgSEVYX0RFQlVHX0xP
RygiXHRtZW1iWzB4IiBUQVJHRVRfRk1UX2x4ICJdID0gJSIgUFJJZDMyCi0gICAgICAgICAgICAg
ICAgICAgICAgICAgICIgKDB4JTAyIiBQUkl4MzIgIilcbiIsCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgIGVudi0+bWVtX2xvZ19zdG9yZXNbc2xvdF0udmEsIGRhdGEsIGRhdGEpOwotICAgICAg
ICB9IGVsc2UgaWYgKHdpZHRoID09IDIpIHsKLSAgICAgICAgICAgIHVpbnQzMl90IGRhdGEgPSBl
bnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3RdLmRhdGEzMiAmIDB4ZmZmZjsKLSAgICAgICAgICAgIEhF
WF9ERUJVR19MT0coIlx0bWVtaFsweCIgVEFSR0VUX0ZNVF9seCAiXSA9ICUiIFBSSWQzMgotICAg
ICAgICAgICAgICAgICAgICAgICAgICAiICgweCUwNCIgUFJJeDMyICIpXG4iLAotICAgICAgICAg
ICAgICAgICAgICAgICAgICBlbnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3RdLnZhLCBkYXRhLCBkYXRh
KTsKLSAgICAgICAgfSBlbHNlIGlmICh3aWR0aCA9PSA0KSB7Ci0gICAgICAgICAgICB1aW50MzJf
dCBkYXRhID0gZW52LT5tZW1fbG9nX3N0b3Jlc1tzbG90XS5kYXRhMzI7Ci0gICAgICAgICAgICBI
RVhfREVCVUdfTE9HKCJcdG1lbXdbMHgiIFRBUkdFVF9GTVRfbHggIl0gPSAlIiBQUklkMzIKLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgIiAoMHglMDgiIFBSSXgzMiAiKVxuIiwKLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgZW52LT5tZW1fbG9nX3N0b3Jlc1tzbG90XS52YSwgZGF0YSwgZGF0
YSk7Ci0gICAgICAgIH0gZWxzZSBpZiAod2lkdGggPT0gOCkgewotICAgICAgICAgICAgSEVYX0RF
QlVHX0xPRygiXHRtZW1kWzB4IiBUQVJHRVRfRk1UX2x4ICJdID0gJSIgUFJJZDY0Ci0gICAgICAg
ICAgICAgICAgICAgICAgICAgICIgKDB4JTAxNiIgUFJJeDY0ICIpXG4iLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICBlbnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3RdLnZhLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICBlbnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3RdLmRhdGE2NCwKLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgZW52LT5tZW1fbG9nX3N0b3Jlc1tzbG90XS5kYXRhNjQpOwotICAg
ICAgICB9IGVsc2UgewotICAgICAgICAgICAgSEVYX0RFQlVHX0xPRygiXHRCYWQgc3RvcmUgd2lk
dGggJWRcbiIsIHdpZHRoKTsKLSAgICAgICAgICAgIGdfYXNzZXJ0X25vdF9yZWFjaGVkKCk7Ci0g
ICAgICAgIH0KLSAgICB9Ci19Ci0KLS8qIFRoaXMgZnVuY3Rpb24gaXMgYSBoYW5keSBwbGFjZSB0
byBzZXQgYSBicmVha3BvaW50ICovCi12b2lkIEhFTFBFUihkZWJ1Z19jb21taXRfZW5kKShDUFVI
ZXhhZ29uU3RhdGUgKmVudiwgdWludDMyX3QgdGhpc19QQywKLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGludCBwcmVkX3dyaXR0ZW4sIGludCBoYXNfc3QwLCBpbnQgaGFzX3N0MSkKLXsK
LSAgICBib29sIHJlZ19wcmludGVkID0gZmFsc2U7Ci0gICAgYm9vbCBwcmVkX3ByaW50ZWQgPSBm
YWxzZTsKLSAgICBpbnQgaTsKLQotICAgIEhFWF9ERUJVR19MT0coIlBhY2tldCBjb21taXR0ZWQ6
IHBjID0gMHgiIFRBUkdFVF9GTVRfbHggIlxuIiwgdGhpc19QQyk7Ci0gICAgSEVYX0RFQlVHX0xP
Rygic2xvdF9jYW5jZWxsZWQgPSAlZFxuIiwgZW52LT5zbG90X2NhbmNlbGxlZCk7Ci0KLSAgICBm
b3IgKGkgPSAwOyBpIDwgVE9UQUxfUEVSX1RIUkVBRF9SRUdTOyBpKyspIHsKLSAgICAgICAgaWYg
KGVudi0+cmVnX3dyaXR0ZW5baV0pIHsKLSAgICAgICAgICAgIGlmICghcmVnX3ByaW50ZWQpIHsK
LSAgICAgICAgICAgICAgICBIRVhfREVCVUdfTE9HKCJSZWdzIHdyaXR0ZW5cbiIpOwotICAgICAg
ICAgICAgICAgIHJlZ19wcmludGVkID0gdHJ1ZTsKLSAgICAgICAgICAgIH0KLSAgICAgICAgICAg
IEhFWF9ERUJVR19MT0coIlx0ciVkID0gIiBUQVJHRVRfRk1UX2xkICIgKDB4IiBUQVJHRVRfRk1U
X2x4ICIpXG4iLAotICAgICAgICAgICAgICAgICAgICAgICAgICBpLCBlbnYtPmdwcltpXSwgZW52
LT5ncHJbaV0pOwotICAgICAgICB9Ci0gICAgfQotCi0gICAgZm9yIChpID0gMDsgaSA8IE5VTV9Q
UkVHUzsgaSsrKSB7Ci0gICAgICAgIGlmIChwcmVkX3dyaXR0ZW4gJiAoMSA8PCBpKSkgewotICAg
ICAgICAgICAgaWYgKCFwcmVkX3ByaW50ZWQpIHsKLSAgICAgICAgICAgICAgICBIRVhfREVCVUdf
TE9HKCJQcmVkaWNhdGVzIHdyaXR0ZW5cbiIpOwotICAgICAgICAgICAgICAgIHByZWRfcHJpbnRl
ZCA9IHRydWU7Ci0gICAgICAgICAgICB9Ci0gICAgICAgICAgICBIRVhfREVCVUdfTE9HKCJcdHAl
ZCA9IDB4IiBUQVJHRVRfRk1UX2x4ICJcbiIsCi0gICAgICAgICAgICAgICAgICAgICAgICAgIGks
IGVudi0+cHJlZFtpXSk7Ci0gICAgICAgIH0KLSAgICB9Ci0KLSAgICBpZiAoaGFzX3N0MCB8fCBo
YXNfc3QxKSB7Ci0gICAgICAgIEhFWF9ERUJVR19MT0coIlN0b3Jlc1xuIik7Ci0gICAgICAgIGlm
IChoYXNfc3QwKSB7Ci0gICAgICAgICAgICBwcmludF9zdG9yZShlbnYsIDApOwotICAgICAgICB9
Ci0gICAgICAgIGlmIChoYXNfc3QxKSB7Ci0gICAgICAgICAgICBwcmludF9zdG9yZShlbnYsIDEp
OwotICAgICAgICB9Ci0gICAgfQotCi0gICAgSEVYX0RFQlVHX0xPRygiTmV4dCBQQyA9ICIgVEFS
R0VUX0ZNVF9seCAiXG4iLCBlbnYtPmdwcltIRVhfUkVHX1BDXSk7Ci0gICAgSEVYX0RFQlVHX0xP
RygiRXhlYyBjb3VudGVyczogcGt0ID0gIiBUQVJHRVRfRk1UX2x4Ci0gICAgICAgICAgICAgICAg
ICAiLCBpbnNuID0gIiBUQVJHRVRfRk1UX2x4Ci0gICAgICAgICAgICAgICAgICAiLCBodnggPSAi
IFRBUkdFVF9GTVRfbHggIlxuIiwKLSAgICAgICAgICAgICAgICAgIGVudi0+Z3ByW0hFWF9SRUdf
UUVNVV9QS1RfQ05UXSwKLSAgICAgICAgICAgICAgICAgIGVudi0+Z3ByW0hFWF9SRUdfUUVNVV9J
TlNOX0NOVF0sCi0gICAgICAgICAgICAgICAgICBlbnYtPmdwcltIRVhfUkVHX1FFTVVfSFZYX0NO
VF0pOwotCi19Ci0KIGludDMyX3QgSEVMUEVSKGZjaXJjYWRkKShpbnQzMl90IFJ4ViwgaW50MzJf
dCBvZmZzZXQsIGludDMyX3QgTSwgaW50MzJfdCBDUykKIHsKICAgICB1aW50MzJfdCBLX2NvbnN0
ID0gZXh0cmFjdDMyKE0sIDI0LCA0KTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL3RyYW5z
bGF0ZS5jIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMKaW5kZXggNGIxYmVlM2M2ZC4uYmNl
ODVlYWViOCAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMKKysrIGIvdGFy
Z2V0L2hleGFnb24vdHJhbnNsYXRlLmMKQEAgLTUwLDcgKzUwLDYgQEAgVENHdiBoZXhfZ3ByW1RP
VEFMX1BFUl9USFJFQURfUkVHU107CiBUQ0d2IGhleF9wcmVkW05VTV9QUkVHU107CiBUQ0d2IGhl
eF9zbG90X2NhbmNlbGxlZDsKIFRDR3YgaGV4X25ld192YWx1ZV91c3I7Ci1UQ0d2IGhleF9yZWdf
d3JpdHRlbltUT1RBTF9QRVJfVEhSRUFEX1JFR1NdOwogVENHdiBoZXhfc3RvcmVfYWRkcltTVE9S
RVNfTUFYXTsKIFRDR3YgaGV4X3N0b3JlX3dpZHRoW1NUT1JFU19NQVhdOwogVENHdiBoZXhfc3Rv
cmVfdmFsMzJbU1RPUkVTX01BWF07CkBAIC0xOTUsMjEgKzE5NCw2IEBAIHN0YXRpYyB2b2lkIGdl
bl9leGNlcHRpb25fZW5kX3RiKERpc2FzQ29udGV4dCAqY3R4LCBpbnQgZXhjcCkKIAogfQogCi0j
ZGVmaW5lIFBBQ0tFVF9CVUZGRVJfTEVOICAgICAgICAgICAgICAxMDI4Ci1zdGF0aWMgdm9pZCBw
cmludF9wa3QoUGFja2V0ICpwa3QpCi17Ci0gICAgR1N0cmluZyAqYnVmID0gZ19zdHJpbmdfc2l6
ZWRfbmV3KFBBQ0tFVF9CVUZGRVJfTEVOKTsKLSAgICBzbnByaW50X2FfcGt0X2RlYnVnKGJ1Ziwg
cGt0KTsKLSAgICBIRVhfREVCVUdfTE9HKCIlcyIsIGJ1Zi0+c3RyKTsKLSAgICBnX3N0cmluZ19m
cmVlKGJ1ZiwgdHJ1ZSk7Ci19Ci0jZGVmaW5lIEhFWF9ERUJVR19QUklOVF9QS1QocGt0KSBcCi0g
ICAgZG8geyBcCi0gICAgICAgIGlmIChIRVhfREVCVUcpIHsgXAotICAgICAgICAgICAgcHJpbnRf
cGt0KHBrdCk7IFwKLSAgICAgICAgfSBcCi0gICAgfSB3aGlsZSAoMCkKLQogc3RhdGljIGludCBy
ZWFkX3BhY2tldF93b3JkcyhDUFVIZXhhZ29uU3RhdGUgKmVudiwgRGlzYXNDb250ZXh0ICpjdHgs
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IHdvcmRzW10pCiB7CkBAIC0y
MzUsMTQgKzIxOSw2IEBAIHN0YXRpYyBpbnQgcmVhZF9wYWNrZXRfd29yZHMoQ1BVSGV4YWdvblN0
YXRlICplbnYsIERpc2FzQ29udGV4dCAqY3R4LAogICAgICAgICBnX2Fzc2VydChjdHgtPmJhc2Uu
bnVtX2luc25zID09IDEpOwogICAgIH0KIAotICAgIEhFWF9ERUJVR19MT0coImRlY29kZV9wYWNr
ZXQ6IHBjID0gMHglIiBWQUREUl9QUkl4ICJcbiIsCi0gICAgICAgICAgICAgICAgICBjdHgtPmJh
c2UucGNfbmV4dCk7Ci0gICAgSEVYX0RFQlVHX0xPRygiICAgIHdvcmRzID0geyAiKTsKLSAgICBm
b3IgKGludCBpID0gMDsgaSA8IG53b3JkczsgaSsrKSB7Ci0gICAgICAgIEhFWF9ERUJVR19MT0co
IjB4JXgsICIsIHdvcmRzW2ldKTsKLSAgICB9Ci0gICAgSEVYX0RFQlVHX0xPRygifVxuIik7Ci0K
ICAgICByZXR1cm4gbndvcmRzOwogfQogCkBAIC00NjUsMTEgKzQ0MSw2IEBAIHN0YXRpYyB2b2lk
IGdlbl9zdGFydF9wYWNrZXQoRGlzYXNDb250ZXh0ICpjdHgpCiAgICAgICovCiAgICAgYml0bWFw
X3plcm8oY3R4LT5wcmVnc193cml0dGVuLCBOVU1fUFJFR1MpOwogCi0gICAgaWYgKEhFWF9ERUJV
RykgewotICAgICAgICAvKiBIYW5keSBwbGFjZSB0byBzZXQgYSBicmVha3BvaW50IGJlZm9yZSB0
aGUgcGFja2V0IGV4ZWN1dGVzICovCi0gICAgICAgIGdlbl9oZWxwZXJfZGVidWdfc3RhcnRfcGFj
a2V0KHRjZ19lbnYpOwotICAgIH0KLQogICAgIC8qIEluaXRpYWxpemUgdGhlIHJ1bnRpbWUgc3Rh
dGUgZm9yIHBhY2tldCBzZW1hbnRpY3MgKi8KICAgICBpZiAobmVlZF9zbG90X2NhbmNlbGxlZChw
a3QpKSB7CiAgICAgICAgIHRjZ19nZW5fbW92aV90bChoZXhfc2xvdF9jYW5jZWxsZWQsIDApOwpA
QCAtNDg0LDEwICs0NTUsNiBAQCBzdGF0aWMgdm9pZCBnZW5fc3RhcnRfcGFja2V0KERpc2FzQ29u
dGV4dCAqY3R4KQogICAgICAgICAgICAgdGNnX2dlbl9tb3ZpX3RsKGhleF9ncHJbSEVYX1JFR19Q
Q10sIG5leHRfUEMpOwogICAgICAgICB9CiAgICAgfQotICAgIGlmIChIRVhfREVCVUcpIHsKLSAg
ICAgICAgY3R4LT5wcmVkX3dyaXR0ZW4gPSB0Y2dfdGVtcF9uZXcoKTsKLSAgICAgICAgdGNnX2dl
bl9tb3ZpX3RsKGN0eC0+cHJlZF93cml0dGVuLCAwKTsKLSAgICB9CiAKICAgICAvKiBQcmVsb2Fk
IHRoZSBwcmVkaWNhdGVkIHJlZ2lzdGVycyBpbnRvIGdldF9yZXN1bHRfZ3ByKGN0eCwgaSkgKi8K
ICAgICBpZiAoY3R4LT5uZWVkX2NvbW1pdCAmJgpAQCAtNjM1LDE1ICs2MDIsNiBAQCBzdGF0aWMg
dm9pZCBnZW5fcHJlZF93cml0ZXMoRGlzYXNDb250ZXh0ICpjdHgpCiAgICAgfQogfQogCi1zdGF0
aWMgdm9pZCBnZW5fY2hlY2tfc3RvcmVfd2lkdGgoRGlzYXNDb250ZXh0ICpjdHgsIGludCBzbG90
X251bSkKLXsKLSAgICBpZiAoSEVYX0RFQlVHKSB7Ci0gICAgICAgIFRDR3Ygc2xvdCA9IHRjZ19j
b25zdGFudF90bChzbG90X251bSk7Ci0gICAgICAgIFRDR3YgY2hlY2sgPSB0Y2dfY29uc3RhbnRf
dGwoY3R4LT5zdG9yZV93aWR0aFtzbG90X251bV0pOwotICAgICAgICBnZW5faGVscGVyX2RlYnVn
X2NoZWNrX3N0b3JlX3dpZHRoKHRjZ19lbnYsIHNsb3QsIGNoZWNrKTsKLSAgICB9Ci19Ci0KIHN0
YXRpYyBib29sIHNsb3RfaXNfcHJlZGljYXRlZChQYWNrZXQgKnBrdCwgaW50IHNsb3RfbnVtKQog
ewogICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcGt0LT5udW1faW5zbnM7IGkrKykgewpAQCAtNjkx
LDI1ICs2NDksMjEgQEAgdm9pZCBwcm9jZXNzX3N0b3JlKERpc2FzQ29udGV4dCAqY3R4LCBpbnQg
c2xvdF9udW0pCiAgICAgICAgICAqLwogICAgICAgICBzd2l0Y2ggKGN0eC0+c3RvcmVfd2lkdGhb
c2xvdF9udW1dKSB7CiAgICAgICAgIGNhc2UgMToKLSAgICAgICAgICAgIGdlbl9jaGVja19zdG9y
ZV93aWR0aChjdHgsIHNsb3RfbnVtKTsKICAgICAgICAgICAgIHRjZ19nZW5fcWVtdV9zdF90bCho
ZXhfc3RvcmVfdmFsMzJbc2xvdF9udW1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGhleF9zdG9yZV9hZGRyW3Nsb3RfbnVtXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjdHgtPm1lbV9pZHgsIE1PX1VCKTsKICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICBjYXNl
IDI6Ci0gICAgICAgICAgICBnZW5fY2hlY2tfc3RvcmVfd2lkdGgoY3R4LCBzbG90X251bSk7CiAg
ICAgICAgICAgICB0Y2dfZ2VuX3FlbXVfc3RfdGwoaGV4X3N0b3JlX3ZhbDMyW3Nsb3RfbnVtXSwK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXhfc3RvcmVfYWRkcltzbG90X251bV0s
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LT5tZW1faWR4LCBNT19URVVXKTsK
ICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICBjYXNlIDQ6Ci0gICAgICAgICAgICBnZW5fY2hl
Y2tfc3RvcmVfd2lkdGgoY3R4LCBzbG90X251bSk7CiAgICAgICAgICAgICB0Y2dfZ2VuX3FlbXVf
c3RfdGwoaGV4X3N0b3JlX3ZhbDMyW3Nsb3RfbnVtXSwKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBoZXhfc3RvcmVfYWRkcltzbG90X251bV0sCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY3R4LT5tZW1faWR4LCBNT19URVVMKTsKICAgICAgICAgICAgIGJyZWFrOwogICAg
ICAgICBjYXNlIDg6Ci0gICAgICAgICAgICBnZW5fY2hlY2tfc3RvcmVfd2lkdGgoY3R4LCBzbG90
X251bSk7CiAgICAgICAgICAgICB0Y2dfZ2VuX3FlbXVfc3RfaTY0KGhleF9zdG9yZV92YWw2NFtz
bG90X251bV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleF9zdG9yZV9hZGRy
W3Nsb3RfbnVtXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LT5tZW1faWR4
LCBNT19URVVRKTsKQEAgLTkzNywxNiArODkxLDYgQEAgc3RhdGljIHZvaWQgZ2VuX2NvbW1pdF9w
YWNrZXQoRGlzYXNDb250ZXh0ICpjdHgpCiAgICAgICAgIGdlbl9jb21taXRfaHZ4KGN0eCk7CiAg
ICAgfQogICAgIHVwZGF0ZV9leGVjX2NvdW50ZXJzKGN0eCk7Ci0gICAgaWYgKEhFWF9ERUJVRykg
ewotICAgICAgICBUQ0d2IGhhc19zdDAgPQotICAgICAgICAgICAgdGNnX2NvbnN0YW50X3RsKHBr
dC0+cGt0X2hhc19zdG9yZV9zMCAmJiAhcGt0LT5wa3RfaGFzX2RjemVyb2EpOwotICAgICAgICBU
Q0d2IGhhc19zdDEgPQotICAgICAgICAgICAgdGNnX2NvbnN0YW50X3RsKHBrdC0+cGt0X2hhc19z
dG9yZV9zMSAmJiAhcGt0LT5wa3RfaGFzX2RjemVyb2EpOwotCi0gICAgICAgIC8qIEhhbmR5IHBs
YWNlIHRvIHNldCBhIGJyZWFrcG9pbnQgYXQgdGhlIGVuZCBvZiBleGVjdXRpb24gKi8KLSAgICAg
ICAgZ2VuX2hlbHBlcl9kZWJ1Z19jb21taXRfZW5kKHRjZ19lbnYsIHRjZ19jb25zdGFudF90bChj
dHgtPnBrdC0+cGMpLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LT5w
cmVkX3dyaXR0ZW4sIGhhc19zdDAsIGhhc19zdDEpOwotICAgIH0KIAogICAgIGlmIChwa3QtPnZo
aXN0X2luc24gIT0gTlVMTCkgewogICAgICAgICBjdHgtPnByZV9jb21taXQgPSBmYWxzZTsKQEAg
LTk3NSw3ICs5MTksNiBAQCBzdGF0aWMgdm9pZCBkZWNvZGVfYW5kX3RyYW5zbGF0ZV9wYWNrZXQo
Q1BVSGV4YWdvblN0YXRlICplbnYsIERpc2FzQ29udGV4dCAqY3R4KQogICAgIGN0eC0+cGt0ID0g
JnBrdDsKICAgICBpZiAoZGVjb2RlX3BhY2tldChjdHgsIG53b3Jkcywgd29yZHMsICZwa3QsIGZh
bHNlKSA+IDApIHsKICAgICAgICAgcGt0LnBjID0gY3R4LT5iYXNlLnBjX25leHQ7Ci0gICAgICAg
IEhFWF9ERUJVR19QUklOVF9QS1QoJnBrdCk7CiAgICAgICAgIGdlbl9zdGFydF9wYWNrZXQoY3R4
KTsKICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBrdC5udW1faW5zbnM7IGkrKykgewogICAgICAg
ICAgICAgY3R4LT5pbnNuID0gJnBrdC5pbnNuW2ldOwpAQCAtMTA5Myw3ICsxMDM2LDYgQEAgdm9p
ZCBnZW5faW50ZXJtZWRpYXRlX2NvZGUoQ1BVU3RhdGUgKmNzLCBUcmFuc2xhdGlvbkJsb2NrICp0
YiwgaW50ICptYXhfaW5zbnMsCiB9CiAKICNkZWZpbmUgTkFNRV9MRU4gICAgICAgICAgICAgICA2
NAotc3RhdGljIGNoYXIgcmVnX3dyaXR0ZW5fbmFtZXNbVE9UQUxfUEVSX1RIUkVBRF9SRUdTXVtO
QU1FX0xFTl07CiBzdGF0aWMgY2hhciBzdG9yZV9hZGRyX25hbWVzW1NUT1JFU19NQVhdW05BTUVf
TEVOXTsKIHN0YXRpYyBjaGFyIHN0b3JlX3dpZHRoX25hbWVzW1NUT1JFU19NQVhdW05BTUVfTEVO
XTsKIHN0YXRpYyBjaGFyIHN0b3JlX3ZhbDMyX25hbWVzW1NUT1JFU19NQVhdW05BTUVfTEVOXTsK
QEAgLTExMTIsMTQgKzEwNTQsNiBAQCB2b2lkIGhleGFnb25fdHJhbnNsYXRlX2luaXQodm9pZCkK
ICAgICAgICAgaGV4X2dwcltpXSA9IHRjZ19nbG9iYWxfbWVtX25ldyh0Y2dfZW52LAogICAgICAg
ICAgICAgb2Zmc2V0b2YoQ1BVSGV4YWdvblN0YXRlLCBncHJbaV0pLAogICAgICAgICAgICAgaGV4
YWdvbl9yZWduYW1lc1tpXSk7Ci0KLSAgICAgICAgaWYgKEhFWF9ERUJVRykgewotICAgICAgICAg
ICAgc25wcmludGYocmVnX3dyaXR0ZW5fbmFtZXNbaV0sIE5BTUVfTEVOLCAicmVnX3dyaXR0ZW5f
JXMiLAotICAgICAgICAgICAgICAgICAgICAgaGV4YWdvbl9yZWduYW1lc1tpXSk7Ci0gICAgICAg
ICAgICBoZXhfcmVnX3dyaXR0ZW5baV0gPSB0Y2dfZ2xvYmFsX21lbV9uZXcodGNnX2VudiwKLSAg
ICAgICAgICAgICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3RhdGUsIHJlZ193cml0dGVuW2ldKSwK
LSAgICAgICAgICAgICAgICByZWdfd3JpdHRlbl9uYW1lc1tpXSk7Ci0gICAgICAgIH0KICAgICB9
CiAgICAgaGV4X25ld192YWx1ZV91c3IgPSB0Y2dfZ2xvYmFsX21lbV9uZXcodGNnX2VudiwKICAg
ICAgICAgb2Zmc2V0b2YoQ1BVSGV4YWdvblN0YXRlLCBuZXdfdmFsdWVfdXNyKSwgIm5ld192YWx1
ZV91c3IiKTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5oIGIvdGFyZ2V0
L2hleGFnb24vdHJhbnNsYXRlLmgKaW5kZXggMDBjYzJiY2Q2My4uZDI1MWUyMjMzZiAxMDA2NDQK
LS0tIGEvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmgKKysrIGIvdGFyZ2V0L2hleGFnb24vdHJh
bnNsYXRlLmgKQEAgLTczLDcgKzczLDYgQEAgdHlwZWRlZiBzdHJ1Y3QgRGlzYXNDb250ZXh0IHsK
ICAgICBib29sIGhhc19odnhfb3ZlcmxhcDsKICAgICBUQ0d2IG5ld192YWx1ZVtUT1RBTF9QRVJf
VEhSRUFEX1JFR1NdOwogICAgIFRDR3YgbmV3X3ByZWRfdmFsdWVbTlVNX1BSRUdTXTsKLSAgICBU
Q0d2IHByZWRfd3JpdHRlbjsKICAgICBUQ0d2IGJyYW5jaF90YWtlbjsKICAgICBUQ0d2IGRjemVy
b19hZGRyOwogfSBEaXNhc0NvbnRleHQ7CkBAIC0yNzEsNyArMjcwLDYgQEAgZXh0ZXJuIFRDR3Yg
aGV4X2dwcltUT1RBTF9QRVJfVEhSRUFEX1JFR1NdOwogZXh0ZXJuIFRDR3YgaGV4X3ByZWRbTlVN
X1BSRUdTXTsKIGV4dGVybiBUQ0d2IGhleF9zbG90X2NhbmNlbGxlZDsKIGV4dGVybiBUQ0d2IGhl
eF9uZXdfdmFsdWVfdXNyOwotZXh0ZXJuIFRDR3YgaGV4X3JlZ193cml0dGVuW1RPVEFMX1BFUl9U
SFJFQURfUkVHU107CiBleHRlcm4gVENHdiBoZXhfc3RvcmVfYWRkcltTVE9SRVNfTUFYXTsKIGV4
dGVybiBUQ0d2IGhleF9zdG9yZV93aWR0aFtTVE9SRVNfTUFYXTsKIGV4dGVybiBUQ0d2IGhleF9z
dG9yZV92YWwzMltTVE9SRVNfTUFYXTsKLS0gCjIuMzQuMQoK

