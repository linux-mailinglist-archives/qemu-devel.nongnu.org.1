Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 827A0901417
	for <lists+qemu-devel@lfdr.de>; Sun,  9 Jun 2024 02:58:52 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1sG6sK-0007mk-0G; Sat, 08 Jun 2024 20:57:36 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <bcain@quicinc.com>) id 1sG6sG-0007lT-BI
 for qemu-devel@nongnu.org; Sat, 08 Jun 2024 20:57:32 -0400
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <bcain@quicinc.com>) id 1sG6sC-0003tV-9W
 for qemu-devel@nongnu.org; Sat, 08 Jun 2024 20:57:30 -0400
Received: from pps.filterd (m0279871.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.18.1.2/8.18.1.2) with ESMTP id 458NgI7O031199;
 Sun, 9 Jun 2024 00:57:23 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com; h=
 cc:content-transfer-encoding:content-type:date:from:in-reply-to
 :message-id:mime-version:references:subject:to; s=qcppdkim1; bh=
 nSvsNByrYgdOXFRvcnRwCNNIU+k6Il/IpywXJYLC/f4=; b=VZ7XtISkAp8MK1QZ
 eaE0suNDafZH6bGatwz/BcsXIAfbJxQU9FCyHGW0h0jkHkZlLU5akRDeQGrGOQ/c
 EBiJae5KKQpvrvTIasBOxtElkGMnaEVdNtPlppDm5gYPK+Tx7Xdk//BtTYG52CqM
 b/y7MbBpYBqCjsYu57eLUI+ZGKmKzGUrYrIwGkp5koFc9QkgorRnJFLkRyOUApuY
 Jpc+0VLq7rV3Tvu5XqCzbqmGRM4kEGj/1iVsr6VCbZJlMM6NjHPQlvaKCGEZD22O
 3wBLMu3TjPfkC4qXmWFXsPBLWB5FcZ90eLOsLEHOMIW3DMeJUJHJadkjcztS4Jev
 JGt6SA==
Received: from nalasppmta02.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3ymevx94ys-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Sun, 09 Jun 2024 00:57:23 +0000 (GMT)
Received: from nalasex01a.na.qualcomm.com (nalasex01a.na.qualcomm.com
 [10.47.209.196])
 by NALASPPMTA02.qualcomm.com (8.17.1.19/8.17.1.19) with ESMTPS id
 4590vK7Y005424
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Sun, 9 Jun 2024 00:57:20 GMT
Received: from hu-bcain-lv.qualcomm.com (10.49.16.6) by
 nalasex01a.na.qualcomm.com (10.47.209.196) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.2.1544.9; Sat, 8 Jun 2024 17:57:20 -0700
From: Brian Cain <bcain@quicinc.com>
To: <qemu-devel@nongnu.org>
CC: <bcain@quicinc.com>, <armbru@redhat.com>, <richard.henderson@linaro.org>, 
 <philmd@linaro.org>, <peter.maydell@linaro.org>,
 <quic_mathbern@quicinc.com>, <stefanha@redhat.com>, <ale@rev.ng>,
 <anjo@rev.ng>, <quic_mliebel@quicinc.com>, <ltaylorsimpson@gmail.com>,
 Laurent Vivier <laurent@vivier.eu>
Subject: [PULL 2/6] Hexagon: add PC alignment check and exception
Date: Sat, 8 Jun 2024 17:57:01 -0700
Message-ID: <20240609005705.2809037-3-bcain@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20240609005705.2809037-1-bcain@quicinc.com>
References: <20240609005705.2809037-1-bcain@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Originating-IP: [10.49.16.6]
X-ClientProxiedBy: nalasex01a.na.qualcomm.com (10.47.209.196) To
 nalasex01a.na.qualcomm.com (10.47.209.196)
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: yZpPZestNHS0hN9c99aqZkq2L-5ZFNyc
X-Proofpoint-GUID: yZpPZestNHS0hN9c99aqZkq2L-5ZFNyc
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.293,Aquarius:18.0.1039,Hydra:6.0.680,FMLib:17.12.28.16
 definitions=2024-06-08_16,2024-06-06_02,2024-05-17_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 mlxlogscore=999 mlxscore=0
 impostorscore=0 adultscore=0 phishscore=0 malwarescore=0 clxscore=1011
 suspectscore=0 priorityscore=1501 spamscore=0 bulkscore=0
 lowpriorityscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.19.0-2405170001 definitions=main-2406090006
Received-SPF: pass client-ip=205.220.180.131; envelope-from=bcain@quicinc.com;
 helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -20
X-Spam_score: -2.1
X-Spam_bar: --
X-Spam_report: (-2.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001, T_SCC_BODY_TEXT_LINE=-0.01 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

RnJvbTogTWF0aGV1cyBUYXZhcmVzIEJlcm5hcmRpbm8gPHF1aWNfbWF0aGJlcm5AcXVpY2luYy5j
b20+CgpUaGUgSGV4YWdvbiBQcm9ncmFtbWVyJ3MgUmVmZXJlbmNlIE1hbnVhbCBzYXlzIHRoYXQg
dGhlIGV4Y2VwdGlvbiAweDFlCnNob3VsZCBiZSByYWlzZWQgdXBvbiBhbiB1bmFsaWduZWQgcHJv
Z3JhbSBjb3VudGVyLiBMZXQncyBpbXBsZW1lbnQgdGhhdAphbmQgYWxzbyBhZGQgc29tZSB0ZXN0
cy4KClNpZ25lZC1vZmYtYnk6IE1hdGhldXMgVGF2YXJlcyBCZXJuYXJkaW5vIDxxdWljX21hdGhi
ZXJuQHF1aWNpbmMuY29tPgpSZXZpZXdlZC1ieTogUmljaGFyZCBIZW5kZXJzb24gPHJpY2hhcmQu
aGVuZGVyc29uQGxpbmFyby5vcmc+ClJldmlld2VkLWJ5OiBUYXlsb3IgU2ltcHNvbiA8bHRheWxv
cnNpbXBzb25AZ21haWwuY29tPgpSZXZpZXdlZC1ieTogQnJpYW4gQ2FpbiA8YmNhaW5AcXVpY2lu
Yy5jb20+Ck1lc3NhZ2UtSWQ6IDwyNzdiN2FlZGEyYzcxN2E5NmQ0ZGRlOTM2YjNhYzc3NzA3Y2I2
NTE3LjE3MTQ3NTUxMDcuZ2l0LnF1aWNfbWF0aGJlcm5AcXVpY2luYy5jb20+ClNpZ25lZC1vZmYt
Ynk6IEJyaWFuIENhaW4gPGJjYWluQHF1aWNpbmMuY29tPgotLS0KIGxpbnV4LXVzZXIvaGV4YWdv
bi9jcHVfbG9vcC5jICAgICB8ICAgNCArKwogdGFyZ2V0L2hleGFnb24vY3B1LmggICAgICAgICAg
ICAgIHwgICA3ICsrCiB0YXJnZXQvaGV4YWdvbi9jcHVfYml0cy5oICAgICAgICAgfCAgIDQgKysK
IHRhcmdldC9oZXhhZ29uL21hY3Jvcy5oICAgICAgICAgICB8ICAgMyAtCiB0YXJnZXQvaGV4YWdv
bi9vcF9oZWxwZXIuYyAgICAgICAgfCAgIDkgKystCiB0ZXN0cy90Y2cvaGV4YWdvbi9NYWtlZmls
ZS50YXJnZXQgfCAgIDIgKwogdGVzdHMvdGNnL2hleGFnb24vdW5hbGlnbmVkX3BjLmMgIHwgMTA3
ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogNyBmaWxlcyBjaGFuZ2VkLCAxMjggaW5z
ZXJ0aW9ucygrKSwgOCBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCB0ZXN0cy90Y2cv
aGV4YWdvbi91bmFsaWduZWRfcGMuYwoKZGlmZiAtLWdpdCBhL2xpbnV4LXVzZXIvaGV4YWdvbi9j
cHVfbG9vcC5jIGIvbGludXgtdXNlci9oZXhhZ29uL2NwdV9sb29wLmMKaW5kZXggN2YxNDk5ZWQy
OC4uZDQxMTU5ZTUyYSAxMDA2NDQKLS0tIGEvbGludXgtdXNlci9oZXhhZ29uL2NwdV9sb29wLmMK
KysrIGIvbGludXgtdXNlci9oZXhhZ29uL2NwdV9sb29wLmMKQEAgLTYwLDYgKzYwLDEwIEBAIHZv
aWQgY3B1X2xvb3AoQ1BVSGV4YWdvblN0YXRlICplbnYpCiAgICAgICAgICAgICAgICAgZW52LT5n
cHJbMF0gPSByZXQ7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICBicmVhazsKKyAgICAgICAg
Y2FzZSBIRVhfRVhDUF9QQ19OT1RfQUxJR05FRDoKKyAgICAgICAgICAgIGZvcmNlX3NpZ19mYXVs
dChUQVJHRVRfU0lHQlVTLCBUQVJHRVRfQlVTX0FEUkFMTiwKKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBlbnYtPmdwcltIRVhfUkVHX1IzMV0pOworICAgICAgICAgICAgYnJlYWs7CiAgICAg
ICAgIGNhc2UgRVhDUF9BVE9NSUM6CiAgICAgICAgICAgICBjcHVfZXhlY19zdGVwX2F0b21pYyhj
cyk7CiAgICAgICAgICAgICBicmVhazsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2NwdS5o
IGIvdGFyZ2V0L2hleGFnb24vY3B1LmgKaW5kZXggM2VlZjU4ZmU4Zi4uNzY0ZjNjMzhjYyAxMDA2
NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vY3B1LmgKKysrIGIvdGFyZ2V0L2hleGFnb24vY3B1LmgK
QEAgLTEzNCw2ICsxMzQsMTAgQEAgc3RydWN0IEFyY2hDUFUgewogCiBGSUVMRChUQl9GTEFHUywg
SVNfVElHSFRfTE9PUCwgMCwgMSkKIAorR19OT1JFVFVSTiB2b2lkIGhleGFnb25fcmFpc2VfZXhj
ZXB0aW9uX2VycihDUFVIZXhhZ29uU3RhdGUgKmVudiwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgZXhjZXB0aW9uLAorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50cHRyX3QgcGMpOworCiBzdGF0aWMgaW5s
aW5lIHZvaWQgY3B1X2dldF90Yl9jcHVfc3RhdGUoQ1BVSGV4YWdvblN0YXRlICplbnYsIHZhZGRy
ICpwYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCAq
Y3NfYmFzZSwgdWludDMyX3QgKmZsYWdzKQogewpAQCAtMTQ0LDYgKzE0OCw5IEBAIHN0YXRpYyBp
bmxpbmUgdm9pZCBjcHVfZ2V0X3RiX2NwdV9zdGF0ZShDUFVIZXhhZ29uU3RhdGUgKmVudiwgdmFk
ZHIgKnBjLAogICAgICAgICBoZXhfZmxhZ3MgPSBGSUVMRF9EUDMyKGhleF9mbGFncywgVEJfRkxB
R1MsIElTX1RJR0hUX0xPT1AsIDEpOwogICAgIH0KICAgICAqZmxhZ3MgPSBoZXhfZmxhZ3M7Cisg
ICAgaWYgKCpwYyAmIFBDQUxJR05fTUFTSykgeworICAgICAgICBoZXhhZ29uX3JhaXNlX2V4Y2Vw
dGlvbl9lcnIoZW52LCBIRVhfRVhDUF9QQ19OT1RfQUxJR05FRCwgMCk7CisgICAgfQogfQogCiB0
eXBlZGVmIEhleGFnb25DUFUgQXJjaENQVTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2Nw
dV9iaXRzLmggYi90YXJnZXQvaGV4YWdvbi9jcHVfYml0cy5oCmluZGV4IDk2ZmVmNzE3MjkuLjQy
NzkyODFhNzEgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2NwdV9iaXRzLmgKKysrIGIvdGFy
Z2V0L2hleGFnb24vY3B1X2JpdHMuaApAQCAtMjAsOSArMjAsMTMgQEAKIAogI2luY2x1ZGUgInFl
bXUvYml0b3BzLmgiCiAKKyNkZWZpbmUgUENBTElHTiA0CisjZGVmaW5lIFBDQUxJR05fTUFTSyAo
UENBTElHTiAtIDEpCisKICNkZWZpbmUgSEVYX0VYQ1BfRkVUQ0hfTk9fVVBBR0UgIDB4MDEyCiAj
ZGVmaW5lIEhFWF9FWENQX0lOVkFMSURfUEFDS0VUICAweDAxNQogI2RlZmluZSBIRVhfRVhDUF9J
TlZBTElEX09QQ09ERSAgMHgwMTUKKyNkZWZpbmUgSEVYX0VYQ1BfUENfTk9UX0FMSUdORUQgIDB4
MDFlCiAjZGVmaW5lIEhFWF9FWENQX1BSSVZfTk9fVVJFQUQgICAweDAyNAogI2RlZmluZSBIRVhf
RVhDUF9QUklWX05PX1VXUklURSAgMHgwMjUKIApkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24v
bWFjcm9zLmggYi90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaAppbmRleCBmZWI3OThjNmMwLi5lZTNk
NGM4OGU3IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaAorKysgYi90YXJnZXQv
aGV4YWdvbi9tYWNyb3MuaApAQCAtMjIsOSArMjIsNiBAQAogI2luY2x1ZGUgImhleF9yZWdzLmgi
CiAjaW5jbHVkZSAicmVnX2ZpZWxkcy5oIgogCi0jZGVmaW5lIFBDQUxJR04gNAotI2RlZmluZSBQ
Q0FMSUdOX01BU0sgKFBDQUxJR04gLSAxKQotCiAjZGVmaW5lIEdFVF9GSUVMRChGSUVMRCwgUkVH
SU4pIFwKICAgICBmRVhUUkFDVFVfQklUUyhSRUdJTiwgcmVnX2ZpZWxkX2luZm9bRklFTERdLndp
ZHRoLCBcCiAgICAgICAgICAgICAgICAgICAgcmVnX2ZpZWxkX2luZm9bRklFTERdLm9mZnNldCkK
ZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jIGIvdGFyZ2V0L2hleGFnb24v
b3BfaGVscGVyLmMKaW5kZXggZGExMGFjNTg0Ny4uYWU1YTYwNTUxMyAxMDA2NDQKLS0tIGEvdGFy
Z2V0L2hleGFnb24vb3BfaGVscGVyLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMK
QEAgLTM2LDEwICszNiw5IEBACiAjZGVmaW5lIFNGX01BTlRCSVRTICAgIDIzCiAKIC8qIEV4Y2Vw
dGlvbnMgcHJvY2Vzc2luZyBoZWxwZXJzICovCi1zdGF0aWMgR19OT1JFVFVSTgotdm9pZCBkb19y
YWlzZV9leGNlcHRpb25fZXJyKENQVUhleGFnb25TdGF0ZSAqZW52LAotICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHVpbnQzMl90IGV4Y2VwdGlvbiwKLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1aW50cHRyX3QgcGMpCitHX05PUkVUVVJOIHZvaWQgaGV4YWdvbl9yYWlzZV9leGNlcHRp
b25fZXJyKENQVUhleGFnb25TdGF0ZSAqZW52LAorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1aW50MzJfdCBleGNlcHRpb24sCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnRwdHJfdCBwYykKIHsKICAgICBDUFVTdGF0ZSAq
Y3MgPSBlbnZfY3B1KGVudik7CiAgICAgcWVtdV9sb2dfbWFzayhDUFVfTE9HX0lOVCwgIiVzOiAl
ZFxuIiwgX19mdW5jX18sIGV4Y2VwdGlvbik7CkBAIC00OSw3ICs0OCw3IEBAIHZvaWQgZG9fcmFp
c2VfZXhjZXB0aW9uX2VycihDUFVIZXhhZ29uU3RhdGUgKmVudiwKIAogR19OT1JFVFVSTiB2b2lk
IEhFTFBFUihyYWlzZV9leGNlcHRpb24pKENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJfdCBl
eGNwKQogewotICAgIGRvX3JhaXNlX2V4Y2VwdGlvbl9lcnIoZW52LCBleGNwLCAwKTsKKyAgICBo
ZXhhZ29uX3JhaXNlX2V4Y2VwdGlvbl9lcnIoZW52LCBleGNwLCAwKTsKIH0KIAogdm9pZCBsb2df
c3RvcmUzMihDUFVIZXhhZ29uU3RhdGUgKmVudiwgdGFyZ2V0X3Vsb25nIGFkZHIsCmRpZmYgLS1n
aXQgYS90ZXN0cy90Y2cvaGV4YWdvbi9NYWtlZmlsZS50YXJnZXQgYi90ZXN0cy90Y2cvaGV4YWdv
bi9NYWtlZmlsZS50YXJnZXQKaW5kZXggZjgzOWIyYzBkNS4uZTUxODJjMDFkOCAxMDA2NDQKLS0t
IGEvdGVzdHMvdGNnL2hleGFnb24vTWFrZWZpbGUudGFyZ2V0CisrKyBiL3Rlc3RzL3RjZy9oZXhh
Z29uL01ha2VmaWxlLnRhcmdldApAQCAtNTEsNiArNTEsNyBAQCBIRVhfVEVTVFMgKz0gc2NhdHRl
cl9nYXRoZXIKIEhFWF9URVNUUyArPSBodnhfbWlzYwogSEVYX1RFU1RTICs9IGh2eF9oaXN0b2dy
YW0KIEhFWF9URVNUUyArPSBpbnZhbGlkLXNsb3RzCitIRVhfVEVTVFMgKz0gdW5hbGlnbmVkX3Bj
CiAKIHJ1bi1hbmQtY2hlY2stZXhjZXB0aW9uID0gJChjYWxsIHJ1bi10ZXN0LCQyLCQzIDI+JDIu
c3RkZXJyOyBcCiAJdGVzdCAkJD8gLWVxIDEgJiYgZ3JlcCAtcSAiZXhjZXB0aW9uICQoc3RyaXAg
JDEpIiAkMi5zdGRlcnIpCkBAIC0xMDcsNiArMTA4LDcgQEAgb3ZlcmZsb3c6IG92ZXJmbG93LmMg
aGV4X3Rlc3QuaAogcHJlZ19hbGlhczogcHJlZ19hbGlhcy5jIGhleF90ZXN0LmgKIHJlYWRfd3Jp
dGVfb3ZlcmxhcDogcmVhZF93cml0ZV9vdmVybGFwLmMgaGV4X3Rlc3QuaAogcmVnX211dDogcmVn
X211dC5jIGhleF90ZXN0LmgKK3VuYWxpZ25lZF9wYzogdW5hbGlnbmVkX3BjLmMKIAogIyBUaGlz
IHRlc3QgaGFzIHRvIGJlIGNvbXBpbGVkIGZvciB0aGUgLW12Njd0IHRhcmdldAogdXNyOiB1c3Iu
YyBoZXhfdGVzdC5oCmRpZmYgLS1naXQgYS90ZXN0cy90Y2cvaGV4YWdvbi91bmFsaWduZWRfcGMu
YyBiL3Rlc3RzL3RjZy9oZXhhZ29uL3VuYWxpZ25lZF9wYy5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0
CmluZGV4IDAwMDAwMDAwMDAuLmU5ZGM3Y2I4YjUKLS0tIC9kZXYvbnVsbAorKysgYi90ZXN0cy90
Y2cvaGV4YWdvbi91bmFsaWduZWRfcGMuYwpAQCAtMCwwICsxLDEwNyBAQAorI2luY2x1ZGUgPHN0
ZGlvLmg+CisjaW5jbHVkZSA8c2lnbmFsLmg+CisjaW5jbHVkZSA8c2V0am1wLmg+CisjaW5jbHVk
ZSA8c3RkbGliLmg+CisKKy8qIHdpbGwgYmUgY2hhbmdlZCBpbiBzaWduYWwgaGFuZGxlciAqLwor
dm9sYXRpbGUgc2lnX2F0b21pY190IGNvbXBsZXRlZF90ZXN0czsKK3N0YXRpYyBqbXBfYnVmIGFm
dGVyX3Rlc3Q7CitzdGF0aWMgaW50IG5yX3Rlc3RzOworCit2b2lkIF9fYXR0cmlidXRlX18oKG5h
a2VkKSkgdGVzdF9yZXR1cm4odm9pZCkKK3sKKyAgICBhc20gdm9sYXRpbGUoCisgICAgICAgICJh
bGxvY2ZyYW1lKCMweDgpXG4iCisgICAgICAgICJyMCA9ICMweGZmZmZmZmZmXG4iCisgICAgICAg
ICJmcmFtZWtleSA9IHIwXG4iCisgICAgICAgICJkZWFsbG9jX3JldHVyblxuIgorICAgICAgICA6
CisgICAgICAgIDoKKyAgICAgICAgOiAicjAiLCAicjI5IiwgInIzMCIsICJyMzEiLCAiZnJhbWVr
ZXkiKTsKK30KKwordm9pZCB0ZXN0X2VuZGxvb3Aodm9pZCkKK3sKKyAgICBhc20gdm9sYXRpbGUo
CisgICAgICAgICJsb29wMCgxZiwgIzIpXG4iCisgICAgICAgICIxOiByMCA9ICMweDNcbiIKKyAg
ICAgICAgInNhMCA9IHIwXG4iCisgICAgICAgICJ7IG5vcCB9OmVuZGxvb3AwXG4iCisgICAgICAg
IDoKKyAgICAgICAgOgorICAgICAgICA6ICJyMCIsICJzYTAiLCAibGMwIiwgInVzciIpOworfQor
Cithc20oCisgICAgIi5wdXNoc2VjdGlvbiAudGV4dC51bmFsaWduZWRcbiIKKyAgICAiLm9yZyAw
eDNcbiIKKyAgICAiLmdsb2JhbCB0ZXN0X211bHRpX2NvZl91bmFsaWduZWRcbiIKKyAgICAidGVz
dF9tdWx0aV9jb2ZfdW5hbGlnbmVkOlxuIgorICAgICIgICBqdW1wciByMzFcbiIKKyAgICAiLnBv
cHNlY3Rpb25cbiIKKyk7CisKKyNkZWZpbmUgU1lTX0VYSVQgOTQKKwordm9pZCB0ZXN0X211bHRp
X2NvZih2b2lkKQoreworICAgIGFzbSB2b2xhdGlsZSgKKyAgICAgICAgInAwID0gY21wLmVxKHIw
LCByMClcbiIKKyAgICAgICAgIntcbiIKKyAgICAgICAgIiAgICBpZiAocDApIGp1bXAgdGVzdF9t
dWx0aV9jb2ZfdW5hbGlnbmVkXG4iCisgICAgICAgICIgICAgaWYgKCFwMCkganVtcCAxZlxuIgor
ICAgICAgICAifVxuIgorICAgICAgICAiMToiCisgICAgICAgICIgIHIwID0gIzFcbiIKKyAgICAg
ICAgIiAgcjYgPSAjJTBcbiIKKyAgICAgICAgIiAgdHJhcDAoIzEpXG4iCisgICAgICAgIDoKKyAg
ICAgICAgOiAiaSIoU1lTX0VYSVQpCisgICAgICAgIDogInAwIiwgInIwIiwgInI2Iik7Cit9CisK
K3ZvaWQgc2lnYnVzX2hhbmRsZXIoaW50IHNpZ251bSkKK3sKKyAgICAvKiByZXRvcmUgZnJhbWVr
ZXkgYWZ0ZXIgdGVzdF9yZXR1cm4gKi8KKyAgICBhc20gdm9sYXRpbGUoCisgICAgICAgICJyMCA9
ICMwXG4iCisgICAgICAgICJmcmFtZWtleSA9IHIwXG4iCisgICAgICAgIDoKKyAgICAgICAgOgor
ICAgICAgICA6ICJyMCIsICJmcmFtZWtleSIpOworICAgIHByaW50ZigiVGVzdCAlZCBjb21wbGV0
ZVxuIiwgY29tcGxldGVkX3Rlc3RzKTsKKyAgICBjb21wbGV0ZWRfdGVzdHMrKzsKKyAgICBzaWds
b25nam1wKGFmdGVyX3Rlc3QsIDEpOworfQorCit2b2lkIHRlc3RfZG9uZSh2b2lkKQoreworICAg
IGludCBlcnIgPSAoY29tcGxldGVkX3Rlc3RzICE9IG5yX3Rlc3RzKTsKKyAgICBwdXRzKGVyciA/
ICJGQUlMIiA6ICJQQVNTIik7CisgICAgZXhpdChlcnIpOworfQorCit0eXBlZGVmIHZvaWQgKCp0
ZXN0X2ZuKSh2b2lkKTsKKworaW50IG1haW4oKQoreworICAgIHRlc3RfZm4gdGVzdHNbXSA9IHsg
dGVzdF9yZXR1cm4sIHRlc3RfZW5kbG9vcCwgdGVzdF9tdWx0aV9jb2YsIHRlc3RfZG9uZSB9Owor
ICAgIG5yX3Rlc3RzID0gKHNpemVvZih0ZXN0cykgLyBzaXplb2YodGVzdHNbMF0pKSAtIDE7CisK
KyAgICBzdHJ1Y3Qgc2lnYWN0aW9uIHNhID0geworICAgICAgICAuc2Ffc2lnYWN0aW9uID0gc2ln
YnVzX2hhbmRsZXIsCisgICAgICAgIC5zYV9mbGFncyA9IFNBX1NJR0lORk8KKyAgICB9OworCisg
ICAgaWYgKHNpZ2FjdGlvbihTSUdCVVMsICZzYSwgTlVMTCkgPCAwKSB7CisgICAgICAgIHBlcnJv
cigic2lnYWN0aW9uIik7CisgICAgICAgIHJldHVybiBFWElUX0ZBSUxVUkU7CisgICAgfQorCisg
ICAgc2lnc2V0am1wKGFmdGVyX3Rlc3QsIDEpOworICAgIHRlc3RzW2NvbXBsZXRlZF90ZXN0c10o
KTsKKworICAgIC8qIHNob3VsZCBuZXZlciBnZXQgaGVyZSAqLworICAgIHB1dHMoIkZBSUwiKTsK
KyAgICByZXR1cm4gMTsKK30KLS0gCjIuMjUuMQoK

