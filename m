Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id D3791835B0B
	for <lists+qemu-devel@lfdr.de>; Mon, 22 Jan 2024 07:36:54 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1rRnuS-00037v-5A; Mon, 22 Jan 2024 01:35:52 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <bcain@quicinc.com>) id 1rRnuC-0002xP-Rk
 for qemu-devel@nongnu.org; Mon, 22 Jan 2024 01:35:36 -0500
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <bcain@quicinc.com>) id 1rRnu7-0005il-A6
 for qemu-devel@nongnu.org; Mon, 22 Jan 2024 01:35:36 -0500
Received: from pps.filterd (m0279868.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.24/8.17.1.24) with ESMTP id
 40M3QhM6010489; Mon, 22 Jan 2024 06:35:29 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com; h=
 from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-type:content-transfer-encoding; s=
 qcppdkim1; bh=jB6KT4J6ii+XmNfDYPLYI1mkDqwUJqBk3/LdpjgPlDQ=; b=Qs
 gyxUXCmbzP2TycgZqVoQ0z5qh6YtwvLrU1flaJCqDgz1BF71C4tw4TUZ9NxXF8pX
 RSSLW1jd2z5RMZBXSkzmUlyGI2QMilKClNmMNkNvlaUYaDy7Zlt4/xKEapMGQwy2
 aWpqNp2NEHLI8/VvmlyfLXn95YsyZRB7Gy1mOkc/q2XOa9gmQHG6qZttd2xG0cGF
 OVK6Wltfib9ikaTpuP9BRmT/BpQI/Q65fZils1H4SegBGuKlvSLqNxQ0BCtGCpSG
 Vmr6kvbaJC7moevOkWOVawOpj4KtVLmqH9dvzTFC/ijBn0Q68DGtKX5joL13A+xS
 Bbc91e6rpqbhf8pwNWOg==
Received: from nalasppmta05.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3vr5gpk5fy-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Mon, 22 Jan 2024 06:35:29 +0000 (GMT)
Received: from nalasex01a.na.qualcomm.com (nalasex01a.na.qualcomm.com
 [10.47.209.196])
 by NALASPPMTA05.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTPS id 40M6ZS0m002706
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Mon, 22 Jan 2024 06:35:28 GMT
Received: from hu-bcain-lv.qualcomm.com (10.49.16.6) by
 nalasex01a.na.qualcomm.com (10.47.209.196) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.2.1118.40; Sun, 21 Jan 2024 22:35:27 -0800
From: Brian Cain <bcain@quicinc.com>
To: <qemu-devel@nongnu.org>
CC: <bcain@quicinc.com>, <armbru@redhat.com>, <richard.henderson@linaro.org>, 
 <philmd@linaro.org>, <peter.maydell@linaro.org>,
 <quic_mathbern@quicinc.com>, <stefanha@redhat.com>, <ale@rev.ng>,
 <anjo@rev.ng>, <quic_mliebel@quicinc.com>, <ltaylorsimpson@gmail.com>
Subject: [PULL 09/15] Hexagon (target/hexagon) Make generators object oriented
 - gen_analyze_funcs
Date: Sun, 21 Jan 2024 22:34:55 -0800
Message-ID: <20240122063501.782041-10-bcain@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20240122063501.782041-1-bcain@quicinc.com>
References: <20240122063501.782041-1-bcain@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Originating-IP: [10.49.16.6]
X-ClientProxiedBy: nalasex01b.na.qualcomm.com (10.47.209.197) To
 nalasex01a.na.qualcomm.com (10.47.209.196)
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: Gl0F2-DkfRMKPHDk_6ke1k_rZHRxH_PS
X-Proofpoint-ORIG-GUID: Gl0F2-DkfRMKPHDk_6ke1k_rZHRxH_PS
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.272,Aquarius:18.0.997,Hydra:6.0.619,FMLib:17.11.176.26
 definitions=2024-01-21_04,2024-01-19_02,2023-05-22_02
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 priorityscore=1501
 bulkscore=0 suspectscore=0 adultscore=0 clxscore=1015 mlxscore=0
 malwarescore=0 impostorscore=0 mlxlogscore=859 lowpriorityscore=0
 spamscore=0 phishscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.19.0-2311290000 definitions=main-2401220046
Received-SPF: pass client-ip=205.220.180.131; envelope-from=bcain@quicinc.com;
 helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -20
X-Spam_score: -2.1
X-Spam_bar: --
X-Spam_report: (-2.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001, T_SCC_BODY_TEXT_LINE=-0.01 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

RnJvbTogVGF5bG9yIFNpbXBzb24gPGx0YXlsb3JzaW1wc29uQGdtYWlsLmNvbT4KClRoaXMgcGF0
Y2ggY29uZmxpY3RzIHdpdGgKaHR0cHM6Ly9saXN0cy5nbnUub3JnL2FyY2hpdmUvaHRtbC9xZW11
LWRldmVsLzIwMjMtMTEvbXNnMDA3MjkuaHRtbApJZiB0aGF0IHNlcmllcyBnb2VzIGluIGZpcnN0
LCB3ZSdsbCByZXdvcmsgdGhpcyBwYXRjaCBhbmQgdmljZSB2ZXJzYS4KClNpZ25lZC1vZmYtYnk6
IFRheWxvciBTaW1wc29uIDxsdGF5bG9yc2ltcHNvbkBnbWFpbC5jb20+ClJldmlld2VkLWJ5OiBC
cmlhbiBDYWluIDxiY2FpbkBxdWljaW5jLmNvbT4KTWVzc2FnZS1JZDogPDIwMjMxMjEwMjIwNzEy
LjQ5MTQ5NC04LWx0YXlsb3JzaW1wc29uQGdtYWlsLmNvbT4KU2lnbmVkLW9mZi1ieTogQnJpYW4g
Q2FpbiA8YmNhaW5AcXVpY2luYy5jb20+Ci0tLQogdGFyZ2V0L2hleGFnb24vZ2VuX2FuYWx5emVf
ZnVuY3MucHkgfCAxNjMgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogdGFyZ2V0L2hleGFn
b24vaGV4X2NvbW1vbi5weSAgICAgICAgfCAxNTEgKysrKysrKysrKysrKysrKysrKysrKysrKysK
IDIgZmlsZXMgY2hhbmdlZCwgMTU3IGluc2VydGlvbnMoKyksIDE1NyBkZWxldGlvbnMoLSkKCmRp
ZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5fYW5hbHl6ZV9mdW5jcy5weSBiL3RhcmdldC9o
ZXhhZ29uL2dlbl9hbmFseXplX2Z1bmNzLnB5CmluZGV4IGMzYjUyMWFiZWYuLmE5YWY2NjZjZWYg
MTAwNzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1bmNzLnB5CisrKyBiL3Rh
cmdldC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1bmNzLnB5CkBAIC0yMywxNjIgKzIzLDYgQEAKIGlt
cG9ydCBoZXhfY29tbW9uCiAKIAotIyMKLSMjIEhlbHBlcnMgZm9yIGdlbl9hbmFseXplX2Z1bmMK
LSMjCi1kZWYgaXNfcHJlZGljYXRlZCh0YWcpOgotICAgIHJldHVybiAiQV9DT05ERVhFQyIgaW4g
aGV4X2NvbW1vbi5hdHRyaWJkaWN0W3RhZ10KLQotCi1kZWYgYW5hbHl6ZV9vcG5fb2xkKGYsIHRh
ZywgcmVndHlwZSwgcmVnaWQsIHJlZ25vKToKLSAgICByZWdOID0gZiJ7cmVndHlwZX17cmVnaWR9
TiIKLSAgICBwcmVkaWNhdGVkID0gInRydWUiIGlmIGlzX3ByZWRpY2F0ZWQodGFnKSBlbHNlICJm
YWxzZSIKLSAgICBpZiByZWd0eXBlID09ICJSIjoKLSAgICAgICAgaWYgcmVnaWQgaW4geyJzcyIs
ICJ0dCJ9OgotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjb25zdCBpbnQge3JlZ059ID0gaW5z
bi0+cmVnbm9be3JlZ25vfV07XG4iKQotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjdHhfbG9n
X3JlZ19yZWFkX3BhaXIoY3R4LCB7cmVnTn0pO1xuIikKLSAgICAgICAgZWxpZiByZWdpZCBpbiB7
ImRkIiwgImVlIiwgInh4IiwgInl5In06Ci0gICAgICAgICAgICBmLndyaXRlKGYiICAgIGNvbnN0
IGludCB7cmVnTn0gPSBpbnNuLT5yZWdub1t7cmVnbm99XTtcbiIpCi0gICAgICAgICAgICBmLndy
aXRlKGYiICAgIGN0eF9sb2dfcmVnX3dyaXRlX3BhaXIoY3R4LCB7cmVnTn0sIHtwcmVkaWNhdGVk
fSk7XG4iKQotICAgICAgICBlbGlmIHJlZ2lkIGluIHsicyIsICJ0IiwgInUiLCAidiJ9OgotICAg
ICAgICAgICAgZi53cml0ZShmIiAgICBjb25zdCBpbnQge3JlZ059ID0gaW5zbi0+cmVnbm9be3Jl
Z25vfV07XG4iKQotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjdHhfbG9nX3JlZ19yZWFkKGN0
eCwge3JlZ059KTtcbiIpCi0gICAgICAgIGVsaWYgcmVnaWQgaW4geyJkIiwgImUiLCAieCIsICJ5
In06Ci0gICAgICAgICAgICBmLndyaXRlKGYiICAgIGNvbnN0IGludCB7cmVnTn0gPSBpbnNuLT5y
ZWdub1t7cmVnbm99XTtcbiIpCi0gICAgICAgICAgICBmLndyaXRlKGYiICAgIGN0eF9sb2dfcmVn
X3dyaXRlKGN0eCwge3JlZ059LCB7cHJlZGljYXRlZH0pO1xuIikKLSAgICAgICAgZWxzZToKLSAg
ICAgICAgICAgIGhleF9jb21tb24uYmFkX3JlZ2lzdGVyKHJlZ3R5cGUsIHJlZ2lkKQotICAgIGVs
aWYgcmVndHlwZSA9PSAiUCI6Ci0gICAgICAgIGlmIHJlZ2lkIGluIHsicyIsICJ0IiwgInUiLCAi
diJ9OgotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjb25zdCBpbnQge3JlZ059ID0gaW5zbi0+
cmVnbm9be3JlZ25vfV07XG4iKQotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjdHhfbG9nX3By
ZWRfcmVhZChjdHgsIHtyZWdOfSk7XG4iKQotICAgICAgICBlbGlmIHJlZ2lkIGluIHsiZCIsICJl
IiwgIngifToKLSAgICAgICAgICAgIGYud3JpdGUoZiIgICAgY29uc3QgaW50IHtyZWdOfSA9IGlu
c24tPnJlZ25vW3tyZWdub31dO1xuIikKLSAgICAgICAgICAgIGYud3JpdGUoZiIgICAgY3R4X2xv
Z19wcmVkX3dyaXRlKGN0eCwge3JlZ059KTtcbiIpCi0gICAgICAgIGVsc2U6Ci0gICAgICAgICAg
ICBoZXhfY29tbW9uLmJhZF9yZWdpc3RlcihyZWd0eXBlLCByZWdpZCkKLSAgICBlbGlmIHJlZ3R5
cGUgPT0gIkMiOgotICAgICAgICBpZiByZWdpZCA9PSAic3MiOgotICAgICAgICAgICAgZi53cml0
ZSgKLSAgICAgICAgICAgICAgICBmIiAgICBjb25zdCBpbnQge3JlZ059ID0gaW5zbi0+cmVnbm9b
e3JlZ25vfV0gIgotICAgICAgICAgICAgICAgICIrIEhFWF9SRUdfU0EwO1xuIgotICAgICAgICAg
ICAgKQotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjdHhfbG9nX3JlZ19yZWFkX3BhaXIoY3R4
LCB7cmVnTn0pO1xuIikKLSAgICAgICAgZWxpZiByZWdpZCA9PSAiZGQiOgotICAgICAgICAgICAg
Zi53cml0ZShmIiAgICBjb25zdCBpbnQge3JlZ059ID0gaW5zbi0+cmVnbm9be3JlZ25vfV0gIiAi
KyBIRVhfUkVHX1NBMDtcbiIpCi0gICAgICAgICAgICBmLndyaXRlKGYiICAgIGN0eF9sb2dfcmVn
X3dyaXRlX3BhaXIoY3R4LCB7cmVnTn0sIHtwcmVkaWNhdGVkfSk7XG4iKQotICAgICAgICBlbGlm
IHJlZ2lkID09ICJzIjoKLSAgICAgICAgICAgIGYud3JpdGUoCi0gICAgICAgICAgICAgICAgZiIg
ICAgY29uc3QgaW50IHtyZWdOfSA9IGluc24tPnJlZ25vW3tyZWdub31dICIKLSAgICAgICAgICAg
ICAgICAiKyBIRVhfUkVHX1NBMDtcbiIKLSAgICAgICAgICAgICkKLSAgICAgICAgICAgIGYud3Jp
dGUoZiIgICAgY3R4X2xvZ19yZWdfcmVhZChjdHgsIHtyZWdOfSk7XG4iKQotICAgICAgICBlbGlm
IHJlZ2lkID09ICJkIjoKLSAgICAgICAgICAgIGYud3JpdGUoZiIgICAgY29uc3QgaW50IHtyZWdO
fSA9IGluc24tPnJlZ25vW3tyZWdub31dICIgIisgSEVYX1JFR19TQTA7XG4iKQotICAgICAgICAg
ICAgZi53cml0ZShmIiAgICBjdHhfbG9nX3JlZ193cml0ZShjdHgsIHtyZWdOfSwge3ByZWRpY2F0
ZWR9KTtcbiIpCi0gICAgICAgIGVsc2U6Ci0gICAgICAgICAgICBoZXhfY29tbW9uLmJhZF9yZWdp
c3RlcihyZWd0eXBlLCByZWdpZCkKLSAgICBlbGlmIHJlZ3R5cGUgPT0gIk0iOgotICAgICAgICBp
ZiByZWdpZCA9PSAidSI6Ci0gICAgICAgICAgICBmLndyaXRlKGYiICAgIGNvbnN0IGludCB7cmVn
Tn0gPSBpbnNuLT5yZWdub1t7cmVnbm99XTtcbiIpCi0gICAgICAgICAgICBmLndyaXRlKGYiICAg
IGN0eF9sb2dfcmVnX3JlYWQoY3R4LCB7cmVnTn0pO1xuIikKLSAgICAgICAgZWxzZToKLSAgICAg
ICAgICAgIGhleF9jb21tb24uYmFkX3JlZ2lzdGVyKHJlZ3R5cGUsIHJlZ2lkKQotICAgIGVsaWYg
cmVndHlwZSA9PSAiViI6Ci0gICAgICAgIG5ld3YgPSAiRVhUX0RGTCIKLSAgICAgICAgaWYgaGV4
X2NvbW1vbi5pc19uZXdfcmVzdWx0KHRhZyk6Ci0gICAgICAgICAgICBuZXd2ID0gIkVYVF9ORVci
Ci0gICAgICAgIGVsaWYgaGV4X2NvbW1vbi5pc190bXBfcmVzdWx0KHRhZyk6Ci0gICAgICAgICAg
ICBuZXd2ID0gIkVYVF9UTVAiCi0gICAgICAgIGlmIHJlZ2lkIGluIHsiZGQiLCAieHgifToKLSAg
ICAgICAgICAgIGYud3JpdGUoZiIgICAgY29uc3QgaW50IHtyZWdOfSA9IGluc24tPnJlZ25vW3ty
ZWdub31dO1xuIikKLSAgICAgICAgICAgIGYud3JpdGUoCi0gICAgICAgICAgICAgICAgZiIgICAg
Y3R4X2xvZ192cmVnX3dyaXRlX3BhaXIoY3R4LCB7cmVnTn0sIHtuZXd2fSwgIiBmIntwcmVkaWNh
dGVkfSk7XG4iCi0gICAgICAgICAgICApCi0gICAgICAgIGVsaWYgcmVnaWQgaW4geyJ1dSIsICJ2
diJ9OgotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjb25zdCBpbnQge3JlZ059ID0gaW5zbi0+
cmVnbm9be3JlZ25vfV07XG4iKQotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjdHhfbG9nX3Zy
ZWdfcmVhZF9wYWlyKGN0eCwge3JlZ059KTtcbiIpCi0gICAgICAgIGVsaWYgcmVnaWQgaW4geyJz
IiwgInUiLCAidiIsICJ3In06Ci0gICAgICAgICAgICBmLndyaXRlKGYiICAgIGNvbnN0IGludCB7
cmVnTn0gPSBpbnNuLT5yZWdub1t7cmVnbm99XTtcbiIpCi0gICAgICAgICAgICBmLndyaXRlKGYi
ICAgIGN0eF9sb2dfdnJlZ19yZWFkKGN0eCwge3JlZ059KTtcbiIpCi0gICAgICAgIGVsaWYgcmVn
aWQgaW4geyJkIiwgIngiLCAieSJ9OgotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjb25zdCBp
bnQge3JlZ059ID0gaW5zbi0+cmVnbm9be3JlZ25vfV07XG4iKQotICAgICAgICAgICAgZi53cml0
ZShmIiAgICBjdHhfbG9nX3ZyZWdfd3JpdGUoY3R4LCB7cmVnTn0sIHtuZXd2fSwgIiBmIntwcmVk
aWNhdGVkfSk7XG4iKQotICAgICAgICBlbHNlOgotICAgICAgICAgICAgaGV4X2NvbW1vbi5iYWRf
cmVnaXN0ZXIocmVndHlwZSwgcmVnaWQpCi0gICAgZWxpZiByZWd0eXBlID09ICJRIjoKLSAgICAg
ICAgaWYgcmVnaWQgaW4geyJkIiwgImUiLCAieCJ9OgotICAgICAgICAgICAgZi53cml0ZShmIiAg
ICBjb25zdCBpbnQge3JlZ059ID0gaW5zbi0+cmVnbm9be3JlZ25vfV07XG4iKQotICAgICAgICAg
ICAgZi53cml0ZShmIiAgICBjdHhfbG9nX3FyZWdfd3JpdGUoY3R4LCB7cmVnTn0pO1xuIikKLSAg
ICAgICAgZWxpZiByZWdpZCBpbiB7InMiLCAidCIsICJ1IiwgInYifToKLSAgICAgICAgICAgIGYu
d3JpdGUoZiIgICAgY29uc3QgaW50IHtyZWdOfSA9IGluc24tPnJlZ25vW3tyZWdub31dO1xuIikK
LSAgICAgICAgICAgIGYud3JpdGUoZiIgICAgY3R4X2xvZ19xcmVnX3JlYWQoY3R4LCB7cmVnTn0p
O1xuIikKLSAgICAgICAgZWxzZToKLSAgICAgICAgICAgIGhleF9jb21tb24uYmFkX3JlZ2lzdGVy
KHJlZ3R5cGUsIHJlZ2lkKQotICAgIGVsaWYgcmVndHlwZSA9PSAiRyI6Ci0gICAgICAgIGlmIHJl
Z2lkIGluIHsiZGQifToKLSAgICAgICAgICAgIGYud3JpdGUoZiIvLyAgICBjb25zdCBpbnQge3Jl
Z059ID0gaW5zbi0+cmVnbm9be3JlZ25vfV07XG4iKQotICAgICAgICBlbGlmIHJlZ2lkIGluIHsi
ZCJ9OgotICAgICAgICAgICAgZi53cml0ZShmIi8vICAgIGNvbnN0IGludCB7cmVnTn0gPSBpbnNu
LT5yZWdub1t7cmVnbm99XTtcbiIpCi0gICAgICAgIGVsaWYgcmVnaWQgaW4geyJzcyJ9OgotICAg
ICAgICAgICAgZi53cml0ZShmIi8vICAgIGNvbnN0IGludCB7cmVnTn0gPSBpbnNuLT5yZWdub1t7
cmVnbm99XTtcbiIpCi0gICAgICAgIGVsaWYgcmVnaWQgaW4geyJzIn06Ci0gICAgICAgICAgICBm
LndyaXRlKGYiLy8gICAgY29uc3QgaW50IHtyZWdOfSA9IGluc24tPnJlZ25vW3tyZWdub31dO1xu
IikKLSAgICAgICAgZWxzZToKLSAgICAgICAgICAgIGhleF9jb21tb24uYmFkX3JlZ2lzdGVyKHJl
Z3R5cGUsIHJlZ2lkKQotICAgIGVsaWYgcmVndHlwZSA9PSAiUyI6Ci0gICAgICAgIGlmIHJlZ2lk
IGluIHsiZGQifToKLSAgICAgICAgICAgIGYud3JpdGUoZiIvLyAgICBjb25zdCBpbnQge3JlZ059
ID0gaW5zbi0+cmVnbm9be3JlZ25vfV07XG4iKQotICAgICAgICBlbGlmIHJlZ2lkIGluIHsiZCJ9
OgotICAgICAgICAgICAgZi53cml0ZShmIi8vICAgIGNvbnN0IGludCB7cmVnTn0gPSBpbnNuLT5y
ZWdub1t7cmVnbm99XTtcbiIpCi0gICAgICAgIGVsaWYgcmVnaWQgaW4geyJzcyJ9OgotICAgICAg
ICAgICAgZi53cml0ZShmIi8vICAgIGNvbnN0IGludCB7cmVnTn0gPSBpbnNuLT5yZWdub1t7cmVn
bm99XTtcbiIpCi0gICAgICAgIGVsaWYgcmVnaWQgaW4geyJzIn06Ci0gICAgICAgICAgICBmLndy
aXRlKGYiLy8gICAgY29uc3QgaW50IHtyZWdOfSA9IGluc24tPnJlZ25vW3tyZWdub31dO1xuIikK
LSAgICAgICAgZWxzZToKLSAgICAgICAgICAgIGhleF9jb21tb24uYmFkX3JlZ2lzdGVyKHJlZ3R5
cGUsIHJlZ2lkKQotICAgIGVsc2U6Ci0gICAgICAgIGhleF9jb21tb24uYmFkX3JlZ2lzdGVyKHJl
Z3R5cGUsIHJlZ2lkKQotCi0KLWRlZiBhbmFseXplX29wbl9uZXcoZiwgdGFnLCByZWd0eXBlLCBy
ZWdpZCwgcmVnbm8pOgotICAgIHJlZ04gPSBmIntyZWd0eXBlfXtyZWdpZH1OIgotICAgIGlmIHJl
Z3R5cGUgPT0gIk4iOgotICAgICAgICBpZiByZWdpZCBpbiB7InMiLCAidCJ9OgotICAgICAgICAg
ICAgZi53cml0ZShmIiAgICBjb25zdCBpbnQge3JlZ059ID0gaW5zbi0+cmVnbm9be3JlZ25vfV07
XG4iKQotICAgICAgICAgICAgZi53cml0ZShmIiAgICBjdHhfbG9nX3JlZ19yZWFkKGN0eCwge3Jl
Z059KTtcbiIpCi0gICAgICAgIGVsc2U6Ci0gICAgICAgICAgICBoZXhfY29tbW9uLmJhZF9yZWdp
c3RlcihyZWd0eXBlLCByZWdpZCkKLSAgICBlbGlmIHJlZ3R5cGUgPT0gIlAiOgotICAgICAgICBp
ZiByZWdpZCBpbiB7InQiLCAidSIsICJ2In06Ci0gICAgICAgICAgICBmLndyaXRlKGYiICAgIGNv
bnN0IGludCB7cmVnTn0gPSBpbnNuLT5yZWdub1t7cmVnbm99XTtcbiIpCi0gICAgICAgICAgICBm
LndyaXRlKGYiICAgIGN0eF9sb2dfcHJlZF9yZWFkKGN0eCwge3JlZ059KTtcbiIpCi0gICAgICAg
IGVsc2U6Ci0gICAgICAgICAgICBoZXhfY29tbW9uLmJhZF9yZWdpc3RlcihyZWd0eXBlLCByZWdp
ZCkKLSAgICBlbGlmIHJlZ3R5cGUgPT0gIk8iOgotICAgICAgICBpZiByZWdpZCA9PSAicyI6Ci0g
ICAgICAgICAgICBmLndyaXRlKGYiICAgIGNvbnN0IGludCB7cmVnTn0gPSBpbnNuLT5yZWdub1t7
cmVnbm99XTtcbiIpCi0gICAgICAgICAgICBmLndyaXRlKGYiICAgIGN0eF9sb2dfdnJlZ19yZWFk
KGN0eCwge3JlZ059KTtcbiIpCi0gICAgICAgIGVsc2U6Ci0gICAgICAgICAgICBoZXhfY29tbW9u
LmJhZF9yZWdpc3RlcihyZWd0eXBlLCByZWdpZCkKLSAgICBlbHNlOgotICAgICAgICBoZXhfY29t
bW9uLmJhZF9yZWdpc3RlcihyZWd0eXBlLCByZWdpZCkKLQotCi1kZWYgYW5hbHl6ZV9vcG4oZiwg
dGFnLCByZWd0eXBlLCByZWdpZCwgaSk6Ci0gICAgaWYgaGV4X2NvbW1vbi5pc19wYWlyKHJlZ2lk
KToKLSAgICAgICAgYW5hbHl6ZV9vcG5fb2xkKGYsIHRhZywgcmVndHlwZSwgcmVnaWQsIGkpCi0g
ICAgZWxpZiBoZXhfY29tbW9uLmlzX3NpbmdsZShyZWdpZCk6Ci0gICAgICAgIGlmIGhleF9jb21t
b24uaXNfb2xkX3ZhbChyZWd0eXBlLCByZWdpZCwgdGFnKToKLSAgICAgICAgICAgIGFuYWx5emVf
b3BuX29sZChmLCB0YWcsIHJlZ3R5cGUsIHJlZ2lkLCBpKQotICAgICAgICBlbGlmIGhleF9jb21t
b24uaXNfbmV3X3ZhbChyZWd0eXBlLCByZWdpZCwgdGFnKToKLSAgICAgICAgICAgIGFuYWx5emVf
b3BuX25ldyhmLCB0YWcsIHJlZ3R5cGUsIHJlZ2lkLCBpKQotICAgICAgICBlbHNlOgotICAgICAg
ICAgICAgaGV4X2NvbW1vbi5iYWRfcmVnaXN0ZXIocmVndHlwZSwgcmVnaWQpCi0gICAgZWxzZToK
LSAgICAgICAgaGV4X2NvbW1vbi5iYWRfcmVnaXN0ZXIocmVndHlwZSwgcmVnaWQpCi0KLQogIyMK
ICMjIEdlbmVyYXRlIHRoZSBjb2RlIHRvIGFuYWx5emUgdGhlIGluc3RydWN0aW9uCiAjIyAgICAg
Rm9yIEEyX2FkZDogUmQzMj1hZGQoUnMzMixSdDMyKSwgeyBSZFY9UnNWK1J0Vjt9CkBAIC0yMDMs
NyArNDcsMTEgQEAgZGVmIGdlbl9hbmFseXplX2Z1bmMoZiwgdGFnLCByZWdzLCBpbW1zKToKICAg
ICBpID0gMAogICAgICMjIEFuYWx5emUgYWxsIHRoZSByZWdpc3RlcnMKICAgICBmb3IgcmVndHlw
ZSwgcmVnaWQgaW4gcmVnczoKLSAgICAgICAgYW5hbHl6ZV9vcG4oZiwgdGFnLCByZWd0eXBlLCBy
ZWdpZCwgaSkKKyAgICAgICAgcmVnID0gaGV4X2NvbW1vbi5nZXRfcmVnaXN0ZXIodGFnLCByZWd0
eXBlLCByZWdpZCkKKyAgICAgICAgaWYgcmVnLmlzX3dyaXR0ZW4oKToKKyAgICAgICAgICAgIHJl
Zy5hbmFseXplX3dyaXRlKGYsIHRhZywgaSkKKyAgICAgICAgZWxzZToKKyAgICAgICAgICAgIHJl
Zy5hbmFseXplX3JlYWQoZiwgaSkKICAgICAgICAgaSArPSAxCiAKICAgICBoYXNfZ2VuZXJhdGVk
X2hlbHBlciA9IG5vdCBoZXhfY29tbW9uLnNraXBfcWVtdV9oZWxwZXIoCkBAIC0yMzYsNiArODQs
NyBAQCBkZWYgbWFpbigpOgogICAgIGlmIGlzX2lkZWZfcGFyc2VyX2VuYWJsZWQ6CiAgICAgICAg
IGhleF9jb21tb24ucmVhZF9pZGVmX3BhcnNlcl9lbmFibGVkX2ZpbGUoc3lzLmFyZ3ZbNV0pCiAg
ICAgaGV4X2NvbW1vbi5jYWxjdWxhdGVfYXR0cmlicygpCisgICAgaGV4X2NvbW1vbi5pbml0X3Jl
Z2lzdGVycygpCiAgICAgdGFncmVncyA9IGhleF9jb21tb24uZ2V0X3RhZ3JlZ3MoKQogICAgIHRh
Z2ltbXMgPSBoZXhfY29tbW9uLmdldF90YWdpbW1zKCkKIApkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hl
eGFnb24vaGV4X2NvbW1vbi5weSBiL3RhcmdldC9oZXhhZ29uL2hleF9jb21tb24ucHkKaW5kZXgg
ZmM5Y2U0ZTJiMC4uNDU2NWRkMTk1MyAxMDA3NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24vaGV4X2Nv
bW1vbi5weQorKysgYi90YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5CkBAIC00ODYsNiArNDg2
LDEyIEBAIGRlZiBsb2dfd3JpdGUoc2VsZiwgZiwgdGFnKToKICAgICAgICAgZi53cml0ZShjb2Rl
X2ZtdChmIiIiXAogICAgICAgICAgICAgZ2VuX2xvZ19yZWdfd3JpdGUoY3R4LCB7c2VsZi5yZWdf
bnVtfSwge3NlbGYucmVnX3RjZygpfSk7CiAgICAgICAgICIiIikpCisgICAgZGVmIGFuYWx5emVf
d3JpdGUoc2VsZiwgZiwgdGFnLCByZWdubyk6CisgICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYs
IHJlZ25vKQorICAgICAgICBwcmVkaWNhdGVkID0gInRydWUiIGlmIGlzX3ByZWRpY2F0ZWQodGFn
KSBlbHNlICJmYWxzZSIKKyAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAg
ICAgY3R4X2xvZ19yZWdfd3JpdGUoY3R4LCB7c2VsZi5yZWdfbnVtfSwge3ByZWRpY2F0ZWR9KTsK
KyAgICAgICAgIiIiKSkKIAogY2xhc3MgR3ByU291cmNlKFJlZ2lzdGVyLCBTaW5nbGUsIE9sZFNv
dXJjZSk6CiAgICAgZGVmIGRlY2xfdGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgpAQCAtNDkzLDEy
ICs0OTksMjIgQEAgZGVmIGRlY2xfdGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgogICAgICAgICBm
LndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBUQ0d2IHtzZWxmLnJlZ190Y2coKX0g
PSBoZXhfZ3ByW3tzZWxmLnJlZ19udW19XTsKICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6
ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVn
bm8pCisgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2df
cmVnX3JlYWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CisgICAgICAgICIiIikpCiAKIGNsYXNzIEdw
ck5ld1NvdXJjZShSZWdpc3RlciwgU2luZ2xlLCBOZXdTb3VyY2UpOgogICAgIGRlZiBkZWNsX3Rj
ZyhzZWxmLCBmLCB0YWcsIHJlZ25vKToKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAog
ICAgICAgICAgICAgVENHdiB7c2VsZi5yZWdfdGNnKCl9ID0gZ2V0X3Jlc3VsdF9ncHIoY3R4LCBp
bnNuLT5yZWdub1t7cmVnbm99XSk7CiAgICAgICAgICIiIikpCisgICAgZGVmIGFuYWx5emVfcmVh
ZChzZWxmLCBmLCByZWdubyk6CisgICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQor
ICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCisgICAgICAgICAgICBjdHhfbG9nX3JlZ19y
ZWFkKGN0eCwge3NlbGYucmVnX251bX0pOworICAgICAgICAiIiIpKQogCiBjbGFzcyBHcHJSZWFk
V3JpdGUoUmVnaXN0ZXIsIFNpbmdsZSwgUmVhZFdyaXRlKToKICAgICBkZWYgZGVjbF90Y2coc2Vs
ZiwgZiwgdGFnLCByZWdubyk6CkBAIC01MTcsNiArNTMzLDEyIEBAIGRlZiBsb2dfd3JpdGUoc2Vs
ZiwgZiwgdGFnKToKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAogICAgICAgICAgICAg
Z2VuX2xvZ19yZWdfd3JpdGUoY3R4LCB7c2VsZi5yZWdfbnVtfSwge3NlbGYucmVnX3RjZygpfSk7
CiAgICAgICAgICIiIikpCisgICAgZGVmIGFuYWx5emVfd3JpdGUoc2VsZiwgZiwgdGFnLCByZWdu
byk6CisgICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQorICAgICAgICBwcmVkaWNh
dGVkID0gInRydWUiIGlmIGlzX3ByZWRpY2F0ZWQodGFnKSBlbHNlICJmYWxzZSIKKyAgICAgICAg
Zi53cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAgICAgY3R4X2xvZ19yZWdfd3JpdGUoY3R4
LCB7c2VsZi5yZWdfbnVtfSwge3ByZWRpY2F0ZWR9KTsKKyAgICAgICAgIiIiKSkKIAogY2xhc3Mg
Q29udHJvbERlc3QoUmVnaXN0ZXIsIFNpbmdsZSwgRGVzdCk6CiAgICAgZGVmIGRlY2xfcmVnX251
bShzZWxmLCBmLCByZWdubyk6CkBAIC01MzIsNiArNTU0LDEyIEBAIGRlZiBsb2dfd3JpdGUoc2Vs
ZiwgZiwgdGFnKToKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAogICAgICAgICAgICAg
Z2VuX3dyaXRlX2N0cmxfcmVnKGN0eCwge3NlbGYucmVnX251bX0sIHtzZWxmLnJlZ190Y2coKX0p
OwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3dyaXRlKHNlbGYsIGYsIHRhZywgcmVn
bm8pOgorICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKKyAgICAgICAgcHJlZGlj
YXRlZCA9ICJ0cnVlIiBpZiBpc19wcmVkaWNhdGVkKHRhZykgZWxzZSAiZmFsc2UiCisgICAgICAg
IGYud3JpdGUoY29kZV9mbXQoZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfcmVnX3dyaXRlKGN0
eCwge3NlbGYucmVnX251bX0sIHtwcmVkaWNhdGVkfSk7CisgICAgICAgICIiIikpCiAKIGNsYXNz
IENvbnRyb2xTb3VyY2UoUmVnaXN0ZXIsIFNpbmdsZSwgT2xkU291cmNlKToKICAgICBkZWYgZGVj
bF9yZWdfbnVtKHNlbGYsIGYsIHJlZ25vKToKQEAgLTU0NCw2ICs1NzIsMTEgQEAgZGVmIGRlY2xf
dGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgogICAgICAgICAgICAgVENHdiB7c2VsZi5yZWdfdGNn
KCl9ID0gdGNnX3RlbXBfbmV3KCk7CiAgICAgICAgICAgICBnZW5fcmVhZF9jdHJsX3JlZyhjdHgs
IHtzZWxmLnJlZ19udW19LCB7c2VsZi5yZWdfdGNnKCl9KTsKICAgICAgICAgIiIiKSkKKyAgICBk
ZWYgYW5hbHl6ZV9yZWFkKHNlbGYsIGYsIHJlZ25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19u
dW0oZiwgcmVnbm8pCisgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKKyAgICAgICAgICAg
IGN0eF9sb2dfcmVnX3JlYWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CisgICAgICAgICIiIikpCiAK
IGNsYXNzIE1vZGlmaWVyU291cmNlKFJlZ2lzdGVyLCBTaW5nbGUsIE9sZFNvdXJjZSk6CiAgICAg
ZGVmIGRlY2xfcmVnX251bShzZWxmLCBmLCByZWdubyk6CkBAIC01NjAsNiArNTkzLDExIEBAIGRl
ZiBkZWNsX3RjZyhzZWxmLCBmLCB0YWcsIHJlZ25vKToKICAgICBkZWYgaWRlZl9hcmcoc2VsZiwg
ZGVjbGFyZWQpOgogICAgICAgICBkZWNsYXJlZC5hcHBlbmQoc2VsZi5yZWdfdGNnKCkpCiAgICAg
ICAgIGRlY2xhcmVkLmFwcGVuZCgiQ1MiKQorICAgIGRlZiBhbmFseXplX3JlYWQoc2VsZiwgZiwg
cmVnbm8pOgorICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKKyAgICAgICAgZi53
cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAgICAgY3R4X2xvZ19yZWdfcmVhZChjdHgsIHtz
ZWxmLnJlZ19udW19KTsKKyAgICAgICAgIiIiKSkKIAogY2xhc3MgUHJlZERlc3QoUmVnaXN0ZXIs
IFNpbmdsZSwgRGVzdCk6CiAgICAgZGVmIGRlY2xfdGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgpA
QCAtNTcxLDYgKzYwOSwxMSBAQCBkZWYgbG9nX3dyaXRlKHNlbGYsIGYsIHRhZyk6CiAgICAgICAg
IGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAgIGdlbl9sb2dfcHJlZF93cml0ZShj
dHgsIHtzZWxmLnJlZ19udW19LCB7c2VsZi5yZWdfdGNnKCl9KTsKICAgICAgICAgIiIiKSkKKyAg
ICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0YWcsIHJlZ25vKToKKyAgICAgICAgc2VsZi5k
ZWNsX3JlZ19udW0oZiwgcmVnbm8pCisgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKKyAg
ICAgICAgICAgIGN0eF9sb2dfcHJlZF93cml0ZShjdHgsIHtzZWxmLnJlZ19udW19KTsKKyAgICAg
ICAgIiIiKSkKIAogY2xhc3MgUHJlZFNvdXJjZShSZWdpc3RlciwgU2luZ2xlLCBPbGRTb3VyY2Up
OgogICAgIGRlZiBkZWNsX3RjZyhzZWxmLCBmLCB0YWcsIHJlZ25vKToKQEAgLTU3OCwxMiArNjIx
LDIyIEBAIGRlZiBkZWNsX3RjZyhzZWxmLCBmLCB0YWcsIHJlZ25vKToKICAgICAgICAgZi53cml0
ZShjb2RlX2ZtdChmIiIiXAogICAgICAgICAgICAgVENHdiB7c2VsZi5yZWdfdGNnKCl9ID0gaGV4
X3ByZWRbe3NlbGYucmVnX251bX1dOwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3Jl
YWQoc2VsZiwgZiwgcmVnbm8pOgorICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykK
KyAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAgICAgY3R4X2xvZ19wcmVk
X3JlYWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CisgICAgICAgICIiIikpCiAKIGNsYXNzIFByZWRO
ZXdTb3VyY2UoUmVnaXN0ZXIsIFNpbmdsZSwgTmV3U291cmNlKToKICAgICBkZWYgZGVjbF90Y2co
c2VsZiwgZiwgdGFnLCByZWdubyk6CiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAg
ICAgICAgICAgIFRDR3Yge3NlbGYucmVnX3RjZygpfSA9IGdldF9yZXN1bHRfcHJlZChjdHgsIGlu
c24tPnJlZ25vW3tyZWdub31dKTsKICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV9yZWFk
KHNlbGYsIGYsIHJlZ25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCisg
ICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfcHJlZF9y
ZWFkKGN0eCwge3NlbGYucmVnX251bX0pOworICAgICAgICAiIiIpKQogCiBjbGFzcyBQcmVkUmVh
ZFdyaXRlKFJlZ2lzdGVyLCBTaW5nbGUsIFJlYWRXcml0ZSk6CiAgICAgZGVmIGRlY2xfdGNnKHNl
bGYsIGYsIHRhZywgcmVnbm8pOgpAQCAtNTk2LDYgKzY0OSwxMSBAQCBkZWYgbG9nX3dyaXRlKHNl
bGYsIGYsIHRhZyk6CiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAg
IGdlbl9sb2dfcHJlZF93cml0ZShjdHgsIHtzZWxmLnJlZ19udW19LCB7c2VsZi5yZWdfdGNnKCl9
KTsKICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0YWcsIHJl
Z25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCisgICAgICAgIGYud3Jp
dGUoY29kZV9mbXQoZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfcHJlZF93cml0ZShjdHgsIHtz
ZWxmLnJlZ19udW19KTsKKyAgICAgICAgIiIiKSkKIAogY2xhc3MgUGFpckRlc3QoUmVnaXN0ZXIs
IFBhaXIsIERlc3QpOgogICAgIGRlZiBkZWNsX3RjZyhzZWxmLCBmLCB0YWcsIHJlZ25vKToKQEAg
LTYwOCw2ICs2NjYsMTIgQEAgZGVmIGxvZ193cml0ZShzZWxmLCBmLCB0YWcpOgogICAgICAgICBm
LndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICBnZW5fbG9nX3JlZ193cml0ZV9wYWly
KGN0eCwge3NlbGYucmVnX251bX0sIHtzZWxmLnJlZ190Y2coKX0pOwogICAgICAgICAiIiIpKQor
ICAgIGRlZiBhbmFseXplX3dyaXRlKHNlbGYsIGYsIHRhZywgcmVnbm8pOgorICAgICAgICBzZWxm
LmRlY2xfcmVnX251bShmLCByZWdubykKKyAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVlIiBpZiBp
c19wcmVkaWNhdGVkKHRhZykgZWxzZSAiZmFsc2UiCisgICAgICAgIGYud3JpdGUoY29kZV9mbXQo
ZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfcmVnX3dyaXRlX3BhaXIoY3R4LCB7c2VsZi5yZWdf
bnVtfSwge3ByZWRpY2F0ZWR9KTsKKyAgICAgICAgIiIiKSkKIAogY2xhc3MgUGFpclNvdXJjZShS
ZWdpc3RlciwgUGFpciwgT2xkU291cmNlKToKICAgICBkZWYgZGVjbF90Y2coc2VsZiwgZiwgdGFn
LCByZWdubyk6CkBAIC02MTgsNiArNjgyLDExIEBAIGRlZiBkZWNsX3RjZyhzZWxmLCBmLCB0YWcs
IHJlZ25vKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleF9ncHJbe3Nl
bGYucmVnX251bX1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGV4X2dw
clt7c2VsZi5yZWdfbnVtfSArIDFdKTsKICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV9y
ZWFkKHNlbGYsIGYsIHJlZ25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8p
CisgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfcmVn
X3JlYWRfcGFpcihjdHgsIHtzZWxmLnJlZ19udW19KTsKKyAgICAgICAgIiIiKSkKIAogY2xhc3Mg
UGFpclJlYWRXcml0ZShSZWdpc3RlciwgUGFpciwgUmVhZFdyaXRlKToKICAgICBkZWYgZGVjbF90
Y2coc2VsZiwgZiwgdGFnLCByZWdubyk6CkBAIC02MzMsNiArNzAyLDEyIEBAIGRlZiBsb2dfd3Jp
dGUoc2VsZiwgZiwgdGFnKToKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAogICAgICAg
ICAgICAgZ2VuX2xvZ19yZWdfd3JpdGVfcGFpcihjdHgsIHtzZWxmLnJlZ19udW19LCB7c2VsZi5y
ZWdfdGNnKCl9KTsKICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBm
LCB0YWcsIHJlZ25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCisgICAg
ICAgIHByZWRpY2F0ZWQgPSAidHJ1ZSIgaWYgaXNfcHJlZGljYXRlZCh0YWcpIGVsc2UgImZhbHNl
IgorICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCisgICAgICAgICAgICBjdHhfbG9nX3Jl
Z193cml0ZV9wYWlyKGN0eCwge3NlbGYucmVnX251bX0sIHtwcmVkaWNhdGVkfSk7CisgICAgICAg
ICIiIikpCiAKIGNsYXNzIENvbnRyb2xQYWlyRGVzdChSZWdpc3RlciwgUGFpciwgRGVzdCk6CiAg
ICAgZGVmIGRlY2xfcmVnX251bShzZWxmLCBmLCByZWdubyk6CkBAIC02NDksNiArNzI0LDEyIEBA
IGRlZiBsb2dfd3JpdGUoc2VsZiwgZiwgdGFnKToKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChm
IiIiXAogICAgICAgICAgICAgZ2VuX3dyaXRlX2N0cmxfcmVnX3BhaXIoY3R4LCB7c2VsZi5yZWdf
bnVtfSwge3NlbGYucmVnX3RjZygpfSk7CiAgICAgICAgICIiIikpCisgICAgZGVmIGFuYWx5emVf
d3JpdGUoc2VsZiwgZiwgdGFnLCByZWdubyk6CisgICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYs
IHJlZ25vKQorICAgICAgICBwcmVkaWNhdGVkID0gInRydWUiIGlmIGlzX3ByZWRpY2F0ZWQodGFn
KSBlbHNlICJmYWxzZSIKKyAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAg
ICAgY3R4X2xvZ19yZWdfd3JpdGVfcGFpcihjdHgsIHtzZWxmLnJlZ19udW19LCB7cHJlZGljYXRl
ZH0pOworICAgICAgICAiIiIpKQogCiBjbGFzcyBDb250cm9sUGFpclNvdXJjZShSZWdpc3Rlciwg
UGFpciwgT2xkU291cmNlKToKICAgICBkZWYgZGVjbF9yZWdfbnVtKHNlbGYsIGYsIHJlZ25vKToK
QEAgLTY2MSw2ICs3NDIsMTEgQEAgZGVmIGRlY2xfdGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgog
ICAgICAgICAgICAgVENHdl9pNjQge3NlbGYucmVnX3RjZygpfSA9IHRjZ190ZW1wX25ld19pNjQo
KTsKICAgICAgICAgICAgIGdlbl9yZWFkX2N0cmxfcmVnX3BhaXIoY3R4LCB7c2VsZi5yZWdfbnVt
fSwge3NlbGYucmVnX3RjZygpfSk7CiAgICAgICAgICIiIikpCisgICAgZGVmIGFuYWx5emVfcmVh
ZChzZWxmLCBmLCByZWdubyk6CisgICAgICAgIHNlbGYuZGVjbF9yZWdfbnVtKGYsIHJlZ25vKQor
ICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCisgICAgICAgICAgICBjdHhfbG9nX3JlZ19y
ZWFkX3BhaXIoY3R4LCB7c2VsZi5yZWdfbnVtfSk7CisgICAgICAgICIiIikpCiAKIGNsYXNzIFZS
ZWdEZXN0KFJlZ2lzdGVyLCBIdngsIERlc3QpOgogICAgIGRlZiBkZWNsX3RjZyhzZWxmLCBmLCB0
YWcsIHJlZ25vKToKQEAgLTY4MCw2ICs3NjYsMTMgQEAgZGVmIGhlbHBlcl9odnhfZGVzYyhzZWxm
LCBmKToKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAogICAgICAgICAgICAgLyoge3Nl
bGYucmVnX3RjZygpfSBpcyAqKE1NVmVjdG9yICopKHtzZWxmLmhlbHBlcl9hcmdfbmFtZSgpfSkg
Ki8KICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0YWcsIHJl
Z25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCisgICAgICAgIG5ld3Yg
PSBodnhfbmV3dih0YWcpCisgICAgICAgIHByZWRpY2F0ZWQgPSAidHJ1ZSIgaWYgaXNfcHJlZGlj
YXRlZCh0YWcpIGVsc2UgImZhbHNlIgorICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCisg
ICAgICAgICAgICBjdHhfbG9nX3ZyZWdfd3JpdGUoY3R4LCB7c2VsZi5yZWdfbnVtfSwge25ld3Z9
LCB7cHJlZGljYXRlZH0pOworICAgICAgICAiIiIpKQogCiBjbGFzcyBWUmVnU291cmNlKFJlZ2lz
dGVyLCBIdngsIE9sZFNvdXJjZSk6CiAgICAgZGVmIGRlY2xfdGNnKHNlbGYsIGYsIHRhZywgcmVn
bm8pOgpAQCAtNjk2LDYgKzc4OSwxMSBAQCBkZWYgaGVscGVyX2h2eF9kZXNjKHNlbGYsIGYpOgog
ICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICAvKiB7c2VsZi5yZWdf
dGNnKCl9IGlzICooTU1WZWN0b3IgKikoe3NlbGYuaGVscGVyX2FyZ19uYW1lKCl9KSAqLwogICAg
ICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3JlYWQoc2VsZiwgZiwgcmVnbm8pOgorICAgICAg
ICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKKyAgICAgICAgZi53cml0ZShjb2RlX2ZtdChm
IiIiXAorICAgICAgICAgICAgY3R4X2xvZ192cmVnX3JlYWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7
CisgICAgICAgICIiIikpCiAKIGNsYXNzIFZSZWdOZXdTb3VyY2UoUmVnaXN0ZXIsIEh2eCwgTmV3
U291cmNlKToKICAgICBkZWYgZGVjbF90Y2coc2VsZiwgZiwgdGFnLCByZWdubyk6CkBAIC03MDks
NiArODA3LDExIEBAIGRlZiBoZWxwZXJfaHZ4X2Rlc2Moc2VsZiwgZik6CiAgICAgICAgIGYud3Jp
dGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAgIC8qIHtzZWxmLnJlZ190Y2coKX0gaXMgKihN
TVZlY3RvciAqKSh7c2VsZi5oZWxwZXJfYXJnX25hbWUoKX0pICovCiAgICAgICAgICIiIikpCisg
ICAgZGVmIGFuYWx5emVfcmVhZChzZWxmLCBmLCByZWdubyk6CisgICAgICAgIHNlbGYuZGVjbF9y
ZWdfbnVtKGYsIHJlZ25vKQorICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCisgICAgICAg
ICAgICBjdHhfbG9nX3ZyZWdfcmVhZChjdHgsIHtzZWxmLnJlZ19udW19KTsKKyAgICAgICAgIiIi
KSkKIAogY2xhc3MgVlJlZ1JlYWRXcml0ZShSZWdpc3RlciwgSHZ4LCBSZWFkV3JpdGUpOgogICAg
IGRlZiBkZWNsX3RjZyhzZWxmLCBmLCB0YWcsIHJlZ25vKToKQEAgLTczMSw2ICs4MzQsMTMgQEAg
ZGVmIGhlbHBlcl9odnhfZGVzYyhzZWxmLCBmKToKICAgICAgICAgZi53cml0ZShjb2RlX2ZtdChm
IiIiXAogICAgICAgICAgICAgLyoge3NlbGYucmVnX3RjZygpfSBpcyAqKE1NVmVjdG9yICopKHtz
ZWxmLmhlbHBlcl9hcmdfbmFtZSgpfSkgKi8KICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6
ZV93cml0ZShzZWxmLCBmLCB0YWcsIHJlZ25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0o
ZiwgcmVnbm8pCisgICAgICAgIG5ld3YgPSBodnhfbmV3dih0YWcpCisgICAgICAgIHByZWRpY2F0
ZWQgPSAidHJ1ZSIgaWYgaXNfcHJlZGljYXRlZCh0YWcpIGVsc2UgImZhbHNlIgorICAgICAgICBm
LndyaXRlKGNvZGVfZm10KGYiIiJcCisgICAgICAgICAgICBjdHhfbG9nX3ZyZWdfd3JpdGUoY3R4
LCB7c2VsZi5yZWdfbnVtfSwge25ld3Z9LCB7cHJlZGljYXRlZH0pOworICAgICAgICAiIiIpKQog
CiBjbGFzcyBWUmVnVG1wKFJlZ2lzdGVyLCBIdngsIFJlYWRXcml0ZSk6CiAgICAgZGVmIGRlY2xf
dGNnKHNlbGYsIGYsIHRhZywgcmVnbm8pOgpAQCAtNzU1LDYgKzg2NSwxMyBAQCBkZWYgaGVscGVy
X2h2eF9kZXNjKHNlbGYsIGYpOgogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAg
ICAgICAgICAvKiB7c2VsZi5yZWdfdGNnKCl9IGlzICooTU1WZWN0b3IgKikoe3NlbGYuaGVscGVy
X2FyZ19uYW1lKCl9KSAqLwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3dyaXRlKHNl
bGYsIGYsIHRhZywgcmVnbm8pOgorICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykK
KyAgICAgICAgbmV3diA9IGh2eF9uZXd2KHRhZykKKyAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVl
IiBpZiBpc19wcmVkaWNhdGVkKHRhZykgZWxzZSAiZmFsc2UiCisgICAgICAgIGYud3JpdGUoY29k
ZV9mbXQoZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfdnJlZ193cml0ZShjdHgsIHtzZWxmLnJl
Z19udW19LCB7bmV3dn0sIHtwcmVkaWNhdGVkfSk7CisgICAgICAgICIiIikpCiAKIGNsYXNzIFZS
ZWdQYWlyRGVzdChSZWdpc3RlciwgSHZ4LCBEZXN0KToKICAgICBkZWYgZGVjbF90Y2coc2VsZiwg
ZiwgdGFnLCByZWdubyk6CkBAIC03NzQsNiArODkxLDEzIEBAIGRlZiBoZWxwZXJfaHZ4X2Rlc2Mo
c2VsZiwgZik6CiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAgIC8q
IHtzZWxmLnJlZ190Y2coKX0gaXMgKihNTVZlY3RvclBhaXIgKikoe3NlbGYuaGVscGVyX2FyZ19u
YW1lKCl9KSAqLwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3dyaXRlKHNlbGYsIGYs
IHRhZywgcmVnbm8pOgorICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKKyAgICAg
ICAgbmV3diA9IGh2eF9uZXd2KHRhZykKKyAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVlIiBpZiBp
c19wcmVkaWNhdGVkKHRhZykgZWxzZSAiZmFsc2UiCisgICAgICAgIGYud3JpdGUoY29kZV9mbXQo
ZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfdnJlZ193cml0ZV9wYWlyKGN0eCwge3NlbGYucmVn
X251bX0sIHtuZXd2fSwge3ByZWRpY2F0ZWR9KTsKKyAgICAgICAgIiIiKSkKIAogY2xhc3MgVlJl
Z1BhaXJTb3VyY2UoUmVnaXN0ZXIsIEh2eCwgT2xkU291cmNlKToKICAgICBkZWYgZGVjbF90Y2co
c2VsZiwgZiwgdGFnLCByZWdubyk6CkBAIC03OTcsNiArOTIxLDExIEBAIGRlZiBoZWxwZXJfaHZ4
X2Rlc2Moc2VsZiwgZik6CiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAg
ICAgIC8qIHtzZWxmLnJlZ190Y2coKX0gaXMgKihNTVZlY3RvclBhaXIgKikoe3NlbGYuaGVscGVy
X2FyZ19uYW1lKCl9KSAqLwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3JlYWQoc2Vs
ZiwgZiwgcmVnbm8pOgorICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKKyAgICAg
ICAgZi53cml0ZShjb2RlX2ZtdChmIiIiXAorICAgICAgICAgICAgY3R4X2xvZ192cmVnX3JlYWRf
cGFpcihjdHgsIHtzZWxmLnJlZ19udW19KTsKKyAgICAgICAgIiIiKSkKIAogY2xhc3MgVlJlZ1Bh
aXJSZWFkV3JpdGUoUmVnaXN0ZXIsIEh2eCwgUmVhZFdyaXRlKToKICAgICBkZWYgZGVjbF90Y2co
c2VsZiwgZiwgdGFnLCByZWdubyk6CkBAIC04MjUsNiArOTU0LDEzIEBAIGRlZiBoZWxwZXJfaHZ4
X2Rlc2Moc2VsZiwgZik6CiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAg
ICAgIC8qIHtzZWxmLnJlZ190Y2coKX0gaXMgKihNTVZlY3RvclBhaXIgKikoe3NlbGYuaGVscGVy
X2FyZ19uYW1lKCl9KSAqLwogICAgICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3dyaXRlKHNl
bGYsIGYsIHRhZywgcmVnbm8pOgorICAgICAgICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykK
KyAgICAgICAgbmV3diA9IGh2eF9uZXd2KHRhZykKKyAgICAgICAgcHJlZGljYXRlZCA9ICJ0cnVl
IiBpZiBpc19wcmVkaWNhdGVkKHRhZykgZWxzZSAiZmFsc2UiCisgICAgICAgIGYud3JpdGUoY29k
ZV9mbXQoZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfdnJlZ193cml0ZV9wYWlyKGN0eCwge3Nl
bGYucmVnX251bX0sIHtuZXd2fSwge3ByZWRpY2F0ZWR9KTsKKyAgICAgICAgIiIiKSkKIAogY2xh
c3MgUVJlZ0Rlc3QoUmVnaXN0ZXIsIEh2eCwgRGVzdCk6CiAgICAgZGVmIGRlY2xfdGNnKHNlbGYs
IGYsIHRhZywgcmVnbm8pOgpAQCAtODQ0LDYgKzk4MCwxMSBAQCBkZWYgaGVscGVyX2h2eF9kZXNj
KHNlbGYsIGYpOgogICAgICAgICBmLndyaXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICAv
KiB7c2VsZi5yZWdfdGNnKCl9IGlzICooTU1RUmVnICopKHtzZWxmLmhlbHBlcl9hcmdfbmFtZSgp
fSkgKi8KICAgICAgICAgIiIiKSkKKyAgICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0YWcs
IHJlZ25vKToKKyAgICAgICAgc2VsZi5kZWNsX3JlZ19udW0oZiwgcmVnbm8pCisgICAgICAgIGYu
d3JpdGUoY29kZV9mbXQoZiIiIlwKKyAgICAgICAgICAgIGN0eF9sb2dfcXJlZ193cml0ZShjdHgs
IHtzZWxmLnJlZ19udW19KTsKKyAgICAgICAgIiIiKSkKIAogY2xhc3MgUVJlZ1NvdXJjZShSZWdp
c3RlciwgSHZ4LCBPbGRTb3VyY2UpOgogICAgIGRlZiBkZWNsX3RjZyhzZWxmLCBmLCB0YWcsIHJl
Z25vKToKQEAgLTg2MSw2ICsxMDAyLDExIEBAIGRlZiBoZWxwZXJfaHZ4X2Rlc2Moc2VsZiwgZik6
CiAgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKICAgICAgICAgICAgIC8qIHtzZWxmLnJl
Z190Y2coKX0gaXMgKihNTVFSZWcgKikoe3NlbGYuaGVscGVyX2FyZ19uYW1lKCl9KSAqLwogICAg
ICAgICAiIiIpKQorICAgIGRlZiBhbmFseXplX3JlYWQoc2VsZiwgZiwgcmVnbm8pOgorICAgICAg
ICBzZWxmLmRlY2xfcmVnX251bShmLCByZWdubykKKyAgICAgICAgZi53cml0ZShjb2RlX2ZtdChm
IiIiXAorICAgICAgICAgICAgY3R4X2xvZ19xcmVnX3JlYWQoY3R4LCB7c2VsZi5yZWdfbnVtfSk7
CisgICAgICAgICIiIikpCiAKIGNsYXNzIFFSZWdSZWFkV3JpdGUoUmVnaXN0ZXIsIEh2eCwgUmVh
ZFdyaXRlKToKICAgICBkZWYgZGVjbF90Y2coc2VsZiwgZiwgdGFnLCByZWdubyk6CkBAIC04ODMs
NiArMTAyOSwxMSBAQCBkZWYgaGVscGVyX2h2eF9kZXNjKHNlbGYsIGYpOgogICAgICAgICBmLndy
aXRlKGNvZGVfZm10KGYiIiJcCiAgICAgICAgICAgICAvKiB7c2VsZi5yZWdfdGNnKCl9IGlzICoo
TU1RUmVnICopKHtzZWxmLmhlbHBlcl9hcmdfbmFtZSgpfSkgKi8KICAgICAgICAgIiIiKSkKKyAg
ICBkZWYgYW5hbHl6ZV93cml0ZShzZWxmLCBmLCB0YWcsIHJlZ25vKToKKyAgICAgICAgc2VsZi5k
ZWNsX3JlZ19udW0oZiwgcmVnbm8pCisgICAgICAgIGYud3JpdGUoY29kZV9mbXQoZiIiIlwKKyAg
ICAgICAgICAgIGN0eF9sb2dfcXJlZ193cml0ZShjdHgsIHtzZWxmLnJlZ19udW19KTsKKyAgICAg
ICAgIiIiKSkKIAogZGVmIGluaXRfcmVnaXN0ZXJzKCk6CiAgICAgcmVncyA9IHsKLS0gCjIuMjUu
MQoK

