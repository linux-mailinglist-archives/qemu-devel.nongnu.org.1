Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 41B8E70891A
	for <lists+qemu-devel@lfdr.de>; Thu, 18 May 2023 22:09:25 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1pzjst-000137-Jg; Thu, 18 May 2023 16:06:01 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pzjrZ-00008y-Vn
 for qemu-devel@nongnu.org; Thu, 18 May 2023 16:04:43 -0400
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pzjrQ-00056x-TZ
 for qemu-devel@nongnu.org; Thu, 18 May 2023 16:04:37 -0400
Received: from pps.filterd (m0279873.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 34IJirpT008193; Thu, 18 May 2023 20:04:17 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=ywsv9lI/rsZ9S42DXk+u8eXXx0VMsQ84llYMA25qu2A=;
 b=ZYIcgFsw1SOvCtwY5Xg4xC32ls239Nw+PfBdEeS7/wPxUSAkY4K0YTzbJvipMyTTaCy6
 PBUrHFl8+GZbH0iF1g6VEeGKm1SNOEIH2vO6G9fjorT4lh35lMGltO+ArVjpb9Azyw8f
 F8d2mv/FhUba0ApjIk0o8ooJSqD1hyI+FWtHBnoBKl6Z+U2ISkIZoewEao7Z9CVQFC+E
 +aFaJPWa+ftnlf/M3l244JPrl5kP2p2F7njiew5Q6tsY8S3znn0V8Hz59o8vN1cmXuTc
 EoyaJTIJLwvsWG54miBspAUqnnnXn7RluWMfaMU9EFMQacy8lmkCleBSQq7L3iEwXDJq qA== 
Received: from nalasppmta02.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3qn8d2jewu-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 18 May 2023 20:04:17 +0000
Received: from pps.filterd (NALASPPMTA02.qualcomm.com [127.0.0.1])
 by NALASPPMTA02.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 34IK4EYN003736; 
 Thu, 18 May 2023 20:04:16 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA02.qualcomm.com (PPS) with ESMTPS id 3qnstj08fb-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 18 May 2023 20:04:16 +0000
Received: from NALASPPMTA02.qualcomm.com (NALASPPMTA02.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 34IK4DrI003721;
 Thu, 18 May 2023 20:04:15 GMT
Received: from hu-devc-sd-u20-a-1.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.204.221])
 by NALASPPMTA02.qualcomm.com (PPS) with ESMTPS id 34IK4FGV003774
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 18 May 2023 20:04:15 +0000
Received: by hu-devc-sd-u20-a-1.qualcomm.com (Postfix, from userid 47164)
 id 9C9886DE; Thu, 18 May 2023 13:04:13 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 peter.maydell@linaro.org, bcain@quicinc.com, quic_mathbern@quicinc.com,
 stefanha@redhat.com, ale@rev.ng, anjo@rev.ng, quic_mliebel@quicinc.com
Subject: [PULL v2 29/44] Hexagon (target/hexagon) Move pkt_has_store_s1 to
 DisasContext
Date: Thu, 18 May 2023 13:03:56 -0700
Message-Id: <20230518200411.271148-30-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20230518200411.271148-1-tsimpson@quicinc.com>
References: <20230518200411.271148-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: xq0uF-8DPtbX753bX3O2u7ZvT2neg5NL
X-Proofpoint-GUID: xq0uF-8DPtbX753bX3O2u7ZvT2neg5NL
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.254,Aquarius:18.0.957,Hydra:6.0.573,FMLib:17.11.170.22
 definitions=2023-05-18_15,2023-05-17_02,2023-02-09_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 impostorscore=0 adultscore=0
 malwarescore=0 mlxlogscore=999 bulkscore=0 phishscore=0 spamscore=0
 suspectscore=0 clxscore=1015 mlxscore=0 priorityscore=1501
 lowpriorityscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2304280000 definitions=main-2305180165
Received-SPF: pass client-ip=205.220.180.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -17
X-Spam_score: -1.8
X-Spam_bar: -
X-Spam_report: (-1.8 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 SPF_HELO_NONE=0.001, SPF_PASS=-0.001,
 T_SCC_BODY_TEXT_LINE=-0.01 autolearn=no autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

VGhlIHBrdF9oYXNfc3RvcmVfczEgZmllbGQgaXMgb25seSB1c2VkIGZvciBib29ra2VlcGluZyBo
ZWxwZXJzIHdpdGgKYSBsb2FkLiAgV2l0aCByZWNlbnQgY2hhbmdlcyB0aGF0IGVsaW1pbmF0ZSB0
aGUgbmVlZCB0byBmcmVlIFRDR3YKdmFyaWFibGVzLCBpdCBtYWtlcyBtb3JlIHNlbnNlIHRvIG1h
a2UgdGhpcyB0cmFuc2llbnQuCgpUaGVzZSBoZWxwZXJzIGFscmVhZHkgdGFrZSB0aGUgaW5zdHJ1
Y3Rpb24gc2xvdCBhcyBhbiBhcmd1bWVudC4gIFdlCmNvbWJpbmUgdGhlIHNsb3QgYW5kIHBrdF9o
YXNfc3RvcmVfczEgaW50byBhIHNpbmdsZSBhcmd1bWVudCBjYWxsZWQKc2xvdHZhbC4KClN1Z2dl
c3RlZC1ieTogUmljaGFyZCBIZW5kZXJzb24gPHJpY2hhcmQuaGVuZGVyc29uQGxpbmFyby5vcmc+
ClNpZ25lZC1vZmYtYnk6IFRheWxvciBTaW1wc29uIDx0c2ltcHNvbkBxdWljaW5jLmNvbT4KUmV2
aWV3ZWQtYnk6IFJpY2hhcmQgSGVuZGVyc29uIDxyaWNoYXJkLmhlbmRlcnNvbkBsaW5hcm8ub3Jn
PgpNZXNzYWdlLUlkOiA8MjAyMzA0MjcyMzAwMTIuMzgwMDMyNy0yMS10c2ltcHNvbkBxdWljaW5j
LmNvbT4KLS0tCiB0YXJnZXQvaGV4YWdvbi9jcHUuaCAgICAgICAgICAgICAgICB8ICAxIC0KIHRh
cmdldC9oZXhhZ29uL21hY3Jvcy5oICAgICAgICAgICAgIHwgMTYgKysrKysrKystLS0tLS0tLQog
dGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmggICAgICAgICAgfCAxMiArKysrKysrKy0tLS0KIHRh
cmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5oICAgICAgICAgIHwgIDEgLQogdGFyZ2V0L2hleGFnb24v
Z2VucHRyLmMgICAgICAgICAgICAgfCAgOCArKysrKysrKwogdGFyZ2V0L2hleGFnb24vb3BfaGVs
cGVyLmMgICAgICAgICAgfCAyNiArKysrKysrKysrKysrKystLS0tLS0tLS0tLQogdGFyZ2V0L2hl
eGFnb24vdHJhbnNsYXRlLmMgICAgICAgICAgfCAgNyAtLS0tLS0tCiB0YXJnZXQvaGV4YWdvbi9n
ZW5fYW5hbHl6ZV9mdW5jcy5weSB8ICAyIC0tCiB0YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX2Z1
bmNzLnB5ICB8ICA3ICsrKysrKy0KIHRhcmdldC9oZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkgICAg
IHwgIDQgKystLQogdGFyZ2V0L2hleGFnb24vaGV4X2NvbW1vbi5weSAgICAgICAgfCAgNyArKysr
LS0tCiAxMSBmaWxlcyBjaGFuZ2VkLCA1MSBpbnNlcnRpb25zKCspLCA0MCBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9jcHUuaCBiL3RhcmdldC9oZXhhZ29uL2NwdS5o
CmluZGV4IDc2NzNmOWYzMmQuLjg3ZTQ1N2RkYTkgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29u
L2NwdS5oCisrKyBiL3RhcmdldC9oZXhhZ29uL2NwdS5oCkBAIC05OSw3ICs5OSw2IEBAIHR5cGVk
ZWYgc3RydWN0IENQVUFyY2hTdGF0ZSB7CiAgICAgdGFyZ2V0X3Vsb25nIHJlZ193cml0dGVuW1RP
VEFMX1BFUl9USFJFQURfUkVHU107CiAKICAgICBNZW1Mb2cgbWVtX2xvZ19zdG9yZXNbU1RPUkVT
X01BWF07Ci0gICAgdGFyZ2V0X3Vsb25nIHBrdF9oYXNfc3RvcmVfczE7CiAgICAgdGFyZ2V0X3Vs
b25nIGRjemVyb19hZGRyOwogCiAgICAgZmxvYXRfc3RhdHVzIGZwX3N0YXR1czsKZGlmZiAtLWdp
dCBhL3RhcmdldC9oZXhhZ29uL21hY3Jvcy5oIGIvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKaW5k
ZXggODI4ODc0ZjMxOC4uNTMwOGMwODQ4ZSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vbWFj
cm9zLmgKKysrIGIvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKQEAgLTE3MywxNCArMTczLDE0IEBA
CiAjZGVmaW5lIE1FTV9TVE9SRTgoVkEsIERBVEEsIFNMT1QpIFwKICAgICBNRU1fU1RPUkU4X0ZV
TkMoREFUQSkoY3B1X2VudiwgVkEsIERBVEEsIFNMT1QpCiAjZWxzZQotI2RlZmluZSBNRU1fTE9B
RDFzKFZBKSAoKGludDhfdCltZW1fbG9hZDEoZW52LCBzbG90LCBWQSkpCi0jZGVmaW5lIE1FTV9M
T0FEMXUoVkEpICgodWludDhfdCltZW1fbG9hZDEoZW52LCBzbG90LCBWQSkpCi0jZGVmaW5lIE1F
TV9MT0FEMnMoVkEpICgoaW50MTZfdCltZW1fbG9hZDIoZW52LCBzbG90LCBWQSkpCi0jZGVmaW5l
IE1FTV9MT0FEMnUoVkEpICgodWludDE2X3QpbWVtX2xvYWQyKGVudiwgc2xvdCwgVkEpKQotI2Rl
ZmluZSBNRU1fTE9BRDRzKFZBKSAoKGludDMyX3QpbWVtX2xvYWQ0KGVudiwgc2xvdCwgVkEpKQot
I2RlZmluZSBNRU1fTE9BRDR1KFZBKSAoKHVpbnQzMl90KW1lbV9sb2FkNChlbnYsIHNsb3QsIFZB
KSkKLSNkZWZpbmUgTUVNX0xPQUQ4cyhWQSkgKChpbnQ2NF90KW1lbV9sb2FkOChlbnYsIHNsb3Qs
IFZBKSkKLSNkZWZpbmUgTUVNX0xPQUQ4dShWQSkgKCh1aW50NjRfdCltZW1fbG9hZDgoZW52LCBz
bG90LCBWQSkpCisjZGVmaW5lIE1FTV9MT0FEMXMoVkEpICgoaW50OF90KW1lbV9sb2FkMShlbnYs
IHBrdF9oYXNfc3RvcmVfczEsIHNsb3QsIFZBKSkKKyNkZWZpbmUgTUVNX0xPQUQxdShWQSkgKCh1
aW50OF90KW1lbV9sb2FkMShlbnYsIHBrdF9oYXNfc3RvcmVfczEsIHNsb3QsIFZBKSkKKyNkZWZp
bmUgTUVNX0xPQUQycyhWQSkgKChpbnQxNl90KW1lbV9sb2FkMihlbnYsIHBrdF9oYXNfc3RvcmVf
czEsIHNsb3QsIFZBKSkKKyNkZWZpbmUgTUVNX0xPQUQydShWQSkgKCh1aW50MTZfdCltZW1fbG9h
ZDIoZW52LCBwa3RfaGFzX3N0b3JlX3MxLCBzbG90LCBWQSkpCisjZGVmaW5lIE1FTV9MT0FENHMo
VkEpICgoaW50MzJfdCltZW1fbG9hZDQoZW52LCBwa3RfaGFzX3N0b3JlX3MxLCBzbG90LCBWQSkp
CisjZGVmaW5lIE1FTV9MT0FENHUoVkEpICgodWludDMyX3QpbWVtX2xvYWQ0KGVudiwgcGt0X2hh
c19zdG9yZV9zMSwgc2xvdCwgVkEpKQorI2RlZmluZSBNRU1fTE9BRDhzKFZBKSAoKGludDY0X3Qp
bWVtX2xvYWQ4KGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwgVkEpKQorI2RlZmluZSBNRU1f
TE9BRDh1KFZBKSAoKHVpbnQ2NF90KW1lbV9sb2FkOChlbnYsIHBrdF9oYXNfc3RvcmVfczEsIHNs
b3QsIFZBKSkKIAogI2RlZmluZSBNRU1fU1RPUkUxKFZBLCBEQVRBLCBTTE9UKSBsb2dfc3RvcmUz
MihlbnYsIFZBLCBEQVRBLCAxLCBTTE9UKQogI2RlZmluZSBNRU1fU1RPUkUyKFZBLCBEQVRBLCBT
TE9UKSBsb2dfc3RvcmUzMihlbnYsIFZBLCBEQVRBLCAyLCBTTE9UKQpkaWZmIC0tZ2l0IGEvdGFy
Z2V0L2hleGFnb24vb3BfaGVscGVyLmggYi90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuaAppbmRl
eCA2YmQ0YjA3ODQ5Li44ZjM3NjRkMTVlIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9vcF9o
ZWxwZXIuaAorKysgYi90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuaApAQCAtMTksMTAgKzE5LDE0
IEBACiAjZGVmaW5lIEhFWEFHT05fT1BfSEVMUEVSX0gKIAogLyogTWlzYyBmdW5jdGlvbnMgKi8K
LXVpbnQ4X3QgbWVtX2xvYWQxKENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJfdCBzbG90LCB0
YXJnZXRfdWxvbmcgdmFkZHIpOwotdWludDE2X3QgbWVtX2xvYWQyKENQVUhleGFnb25TdGF0ZSAq
ZW52LCB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpOwotdWludDMyX3QgbWVtX2xv
YWQ0KENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFk
ZHIpOwotdWludDY0X3QgbWVtX2xvYWQ4KENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJfdCBz
bG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpOwordWludDhfdCBtZW1fbG9hZDEoQ1BVSGV4YWdvblN0
YXRlICplbnYsIGJvb2wgcGt0X2hhc19zdG9yZV9zMSwKKyAgICAgICAgICAgICAgICAgIHVpbnQz
Ml90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcik7Cit1aW50MTZfdCBtZW1fbG9hZDIoQ1BVSGV4
YWdvblN0YXRlICplbnYsIGJvb2wgcGt0X2hhc19zdG9yZV9zMSwKKyAgICAgICAgICAgICAgICAg
ICB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpOwordWludDMyX3QgbWVtX2xvYWQ0
KENQVUhleGFnb25TdGF0ZSAqZW52LCBib29sIHBrdF9oYXNfc3RvcmVfczEsCisgICAgICAgICAg
ICAgICAgICAgdWludDMyX3Qgc2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKTsKK3VpbnQ2NF90IG1l
bV9sb2FkOChDUFVIZXhhZ29uU3RhdGUgKmVudiwgYm9vbCBwa3RfaGFzX3N0b3JlX3MxLAorICAg
ICAgICAgICAgICAgICAgIHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcik7CiAKIHZv
aWQgbG9nX3N0b3JlNjQoQ1BVSGV4YWdvblN0YXRlICplbnYsIHRhcmdldF91bG9uZyBhZGRyLAog
ICAgICAgICAgICAgICAgICBpbnQ2NF90IHZhbCwgaW50IHdpZHRoLCBpbnQgc2xvdCk7CmRpZmYg
LS1naXQgYS90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuaCBiL3RhcmdldC9oZXhhZ29uL3RyYW5z
bGF0ZS5oCmluZGV4IGE5ZjFjY2VlMjQuLjk2OTdiNGRlMGUgMTAwNjQ0Ci0tLSBhL3RhcmdldC9o
ZXhhZ29uL3RyYW5zbGF0ZS5oCisrKyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5oCkBAIC02
Niw3ICs2Niw2IEBAIHR5cGVkZWYgc3RydWN0IERpc2FzQ29udGV4dCB7CiAgICAgVENHQ29uZCBi
cmFuY2hfY29uZDsKICAgICB0YXJnZXRfdWxvbmcgYnJhbmNoX2Rlc3Q7CiAgICAgYm9vbCBpc190
aWdodF9sb29wOwotICAgIGJvb2wgbmVlZF9wa3RfaGFzX3N0b3JlX3MxOwogICAgIGJvb2wgc2hv
cnRfY2lyY3VpdDsKICAgICBib29sIGhhc19odnhfaGVscGVyOwogICAgIFRDR3YgbmV3X3ZhbHVl
W1RPVEFMX1BFUl9USFJFQURfUkVHU107CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5w
dHIuYyBiL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCmluZGV4IDc4NTc3ODc1OWUuLjM2MWNjNzg5
ZDcgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCisrKyBiL3RhcmdldC9oZXhh
Z29uL2dlbnB0ci5jCkBAIC0zOTgsNiArMzk4LDE0IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBnZW5f
c3RvcmVfY29uZGl0aW9uYWw4KERpc2FzQ29udGV4dCAqY3R4LAogICAgIHRjZ19nZW5fbW92aV90
bChoZXhfbGxzY19hZGRyLCB+MCk7CiB9CiAKKyNpZm5kZWYgQ09ORklHX0hFWEFHT05fSURFRl9Q
QVJTRVIKK3N0YXRpYyBUQ0d2IGdlbl9zbG90dmFsKERpc2FzQ29udGV4dCAqY3R4KQoreworICAg
IGludCBzbG90dmFsID0gKGN0eC0+cGt0LT5wa3RfaGFzX3N0b3JlX3MxICYgMSkgfCAoY3R4LT5p
bnNuLT5zbG90IDw8IDEpOworICAgIHJldHVybiB0Y2dfY29uc3RhbnRfdGwoc2xvdHZhbCk7Cit9
CisjZW5kaWYKKwogdm9pZCBnZW5fc3RvcmUzMihUQ0d2IHZhZGRyLCBUQ0d2IHNyYywgaW50IHdp
ZHRoLCB1aW50MzJfdCBzbG90KQogewogICAgIHRjZ19nZW5fbW92X3RsKGhleF9zdG9yZV9hZGRy
W3Nsb3RdLCB2YWRkcik7CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYyBi
L3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jCmluZGV4IGY5MDIxZWZjN2UuLmRmYWJjZTMxMjMg
MTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jCisrKyBiL3RhcmdldC9oZXhh
Z29uL29wX2hlbHBlci5jCkBAIC01NjcsNDEgKzU2Nyw0NSBAQCB2b2lkIEhFTFBFUihwcm9iZV9w
a3Rfc2NhbGFyX2h2eF9zdG9yZXMpKENQVUhleGFnb25TdGF0ZSAqZW52LCBpbnQgbWFzaykKICAq
IElmIHRoZSBsb2FkIGlzIGluIHNsb3QgMCBhbmQgdGhlcmUgaXMgYSBzdG9yZSBpbiBzbG90MSAo
dGhhdAogICogd2Fzbid0IGNhbmNlbGxlZCksIHdlIGhhdmUgdG8gZG8gdGhlIHN0b3JlIGZpcnN0
LgogICovCi1zdGF0aWMgdm9pZCBjaGVja19ub3NodWYoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVp
bnQzMl90IHNsb3QsCi0gICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0X3Vsb25nIHZhZGRy
LCBpbnQgc2l6ZSkKK3N0YXRpYyB2b2lkIGNoZWNrX25vc2h1ZihDUFVIZXhhZ29uU3RhdGUgKmVu
diwgYm9vbCBwa3RfaGFzX3N0b3JlX3MxLAorICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQz
Ml90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkciwgaW50IHNpemUpCiB7Ci0gICAgaWYgKHNsb3Qg
PT0gMCAmJiBlbnYtPnBrdF9oYXNfc3RvcmVfczEgJiYKKyAgICBpZiAoc2xvdCA9PSAwICYmIHBr
dF9oYXNfc3RvcmVfczEgJiYKICAgICAgICAgKChlbnYtPnNsb3RfY2FuY2VsbGVkICYgKDEgPDwg
MSkpID09IDApKSB7CiAgICAgICAgIEhFTFBFUihwcm9iZV9ub3NodWZfbG9hZCkoZW52LCB2YWRk
ciwgc2l6ZSwgTU1VX1VTRVJfSURYKTsKICAgICAgICAgSEVMUEVSKGNvbW1pdF9zdG9yZSkoZW52
LCAxKTsKICAgICB9CiB9CiAKLXVpbnQ4X3QgbWVtX2xvYWQxKENQVUhleGFnb25TdGF0ZSAqZW52
LCB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpCit1aW50OF90IG1lbV9sb2FkMShD
UFVIZXhhZ29uU3RhdGUgKmVudiwgYm9vbCBwa3RfaGFzX3N0b3JlX3MxLAorICAgICAgICAgICAg
ICAgICAgdWludDMyX3Qgc2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKQogewogICAgIHVpbnRwdHJf
dCByYSA9IEdFVFBDKCk7Ci0gICAgY2hlY2tfbm9zaHVmKGVudiwgc2xvdCwgdmFkZHIsIDEpOwor
ICAgIGNoZWNrX25vc2h1ZihlbnYsIHBrdF9oYXNfc3RvcmVfczEsIHNsb3QsIHZhZGRyLCAxKTsK
ICAgICByZXR1cm4gY3B1X2xkdWJfZGF0YV9yYShlbnYsIHZhZGRyLCByYSk7CiB9CiAKLXVpbnQx
Nl90IG1lbV9sb2FkMihDUFVIZXhhZ29uU3RhdGUgKmVudiwgdWludDMyX3Qgc2xvdCwgdGFyZ2V0
X3Vsb25nIHZhZGRyKQordWludDE2X3QgbWVtX2xvYWQyKENQVUhleGFnb25TdGF0ZSAqZW52LCBi
b29sIHBrdF9oYXNfc3RvcmVfczEsCisgICAgICAgICAgICAgICAgICAgdWludDMyX3Qgc2xvdCwg
dGFyZ2V0X3Vsb25nIHZhZGRyKQogewogICAgIHVpbnRwdHJfdCByYSA9IEdFVFBDKCk7Ci0gICAg
Y2hlY2tfbm9zaHVmKGVudiwgc2xvdCwgdmFkZHIsIDIpOworICAgIGNoZWNrX25vc2h1ZihlbnYs
IHBrdF9oYXNfc3RvcmVfczEsIHNsb3QsIHZhZGRyLCAyKTsKICAgICByZXR1cm4gY3B1X2xkdXdf
ZGF0YV9yYShlbnYsIHZhZGRyLCByYSk7CiB9CiAKLXVpbnQzMl90IG1lbV9sb2FkNChDUFVIZXhh
Z29uU3RhdGUgKmVudiwgdWludDMyX3Qgc2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKQordWludDMy
X3QgbWVtX2xvYWQ0KENQVUhleGFnb25TdGF0ZSAqZW52LCBib29sIHBrdF9oYXNfc3RvcmVfczEs
CisgICAgICAgICAgICAgICAgICAgdWludDMyX3Qgc2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKQog
ewogICAgIHVpbnRwdHJfdCByYSA9IEdFVFBDKCk7Ci0gICAgY2hlY2tfbm9zaHVmKGVudiwgc2xv
dCwgdmFkZHIsIDQpOworICAgIGNoZWNrX25vc2h1ZihlbnYsIHBrdF9oYXNfc3RvcmVfczEsIHNs
b3QsIHZhZGRyLCA0KTsKICAgICByZXR1cm4gY3B1X2xkbF9kYXRhX3JhKGVudiwgdmFkZHIsIHJh
KTsKIH0KIAotdWludDY0X3QgbWVtX2xvYWQ4KENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJf
dCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpCit1aW50NjRfdCBtZW1fbG9hZDgoQ1BVSGV4YWdv
blN0YXRlICplbnYsIGJvb2wgcGt0X2hhc19zdG9yZV9zMSwKKyAgICAgICAgICAgICAgICAgICB1
aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpCiB7CiAgICAgdWludHB0cl90IHJhID0g
R0VUUEMoKTsKLSAgICBjaGVja19ub3NodWYoZW52LCBzbG90LCB2YWRkciwgOCk7CisgICAgY2hl
Y2tfbm9zaHVmKGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwgdmFkZHIsIDgpOwogICAgIHJl
dHVybiBjcHVfbGRxX2RhdGFfcmEoZW52LCB2YWRkciwgcmEpOwogfQogCmRpZmYgLS1naXQgYS90
YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCmlu
ZGV4IGE1ODVjYzhjZmQuLmVjNWFiZDJmZDAgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL3Ry
YW5zbGF0ZS5jCisrKyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCkBAIC00NjMsNyArNDYz
LDYgQEAgc3RhdGljIHZvaWQgbWFya19pbXBsaWNpdF9wcmVkX3JlYWRzKERpc2FzQ29udGV4dCAq
Y3R4KQogc3RhdGljIHZvaWQgYW5hbHl6ZV9wYWNrZXQoRGlzYXNDb250ZXh0ICpjdHgpCiB7CiAg
ICAgUGFja2V0ICpwa3QgPSBjdHgtPnBrdDsKLSAgICBjdHgtPm5lZWRfcGt0X2hhc19zdG9yZV9z
MSA9IGZhbHNlOwogICAgIGN0eC0+aGFzX2h2eF9oZWxwZXIgPSBmYWxzZTsKICAgICBmb3IgKGlu
dCBpID0gMDsgaSA8IHBrdC0+bnVtX2luc25zOyBpKyspIHsKICAgICAgICAgSW5zbiAqaW5zbiA9
ICZwa3QtPmluc25baV07CkBAIC01MTksMTAgKzUxOCw2IEBAIHN0YXRpYyB2b2lkIGdlbl9zdGFy
dF9wYWNrZXQoRGlzYXNDb250ZXh0ICpjdHgpCiAKICAgICBhbmFseXplX3BhY2tldChjdHgpOwog
Ci0gICAgaWYgKGN0eC0+bmVlZF9wa3RfaGFzX3N0b3JlX3MxKSB7Ci0gICAgICAgIHRjZ19nZW5f
bW92aV90bChoZXhfcGt0X2hhc19zdG9yZV9zMSwgcGt0LT5wa3RfaGFzX3N0b3JlX3MxKTsKLSAg
ICB9Ci0KICAgICAvKgogICAgICAqIHByZWdzX3dyaXR0ZW4gaXMgdXNlZCBib3RoIGluIHRoZSBh
bmFseXplIHBoYXNlIGFzIHdlbGwgYXMgdGhlIGNvZGUKICAgICAgKiBnZW4gcGhhc2UsIHNvIGNs
ZWFyIGl0IGFnYWluLgpAQCAtMTIwNyw4ICsxMjAyLDYgQEAgdm9pZCBoZXhhZ29uX3RyYW5zbGF0
ZV9pbml0KHZvaWQpCiAgICAgICAgIG9mZnNldG9mKENQVUhleGFnb25TdGF0ZSwgc2xvdF9jYW5j
ZWxsZWQpLCAic2xvdF9jYW5jZWxsZWQiKTsKICAgICBoZXhfYnJhbmNoX3Rha2VuID0gdGNnX2ds
b2JhbF9tZW1fbmV3KGNwdV9lbnYsCiAgICAgICAgIG9mZnNldG9mKENQVUhleGFnb25TdGF0ZSwg
YnJhbmNoX3Rha2VuKSwgImJyYW5jaF90YWtlbiIpOwotICAgIGhleF9wa3RfaGFzX3N0b3JlX3Mx
ID0gdGNnX2dsb2JhbF9tZW1fbmV3KGNwdV9lbnYsCi0gICAgICAgIG9mZnNldG9mKENQVUhleGFn
b25TdGF0ZSwgcGt0X2hhc19zdG9yZV9zMSksICJwa3RfaGFzX3N0b3JlX3MxIik7CiAgICAgaGV4
X2RjemVyb19hZGRyID0gdGNnX2dsb2JhbF9tZW1fbmV3KGNwdV9lbnYsCiAgICAgICAgIG9mZnNl
dG9mKENQVUhleGFnb25TdGF0ZSwgZGN6ZXJvX2FkZHIpLCAiZGN6ZXJvX2FkZHIiKTsKICAgICBo
ZXhfbGxzY19hZGRyID0gdGNnX2dsb2JhbF9tZW1fbmV3KGNwdV9lbnYsCmRpZmYgLS1naXQgYS90
YXJnZXQvaGV4YWdvbi9nZW5fYW5hbHl6ZV9mdW5jcy5weSBiL3RhcmdldC9oZXhhZ29uL2dlbl9h
bmFseXplX2Z1bmNzLnB5CmluZGV4IDM2ZGE2Njk0NTAuLmQwNDBmNjcwMDEgMTAwNzU1Ci0tLSBh
L3RhcmdldC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1bmNzLnB5CisrKyBiL3RhcmdldC9oZXhhZ29u
L2dlbl9hbmFseXplX2Z1bmNzLnB5CkBAIC0yMDksOCArMjA5LDYgQEAgZGVmIGdlbl9hbmFseXpl
X2Z1bmMoZiwgdGFnLCByZWdzLCBpbW1zKToKICAgICBoYXNfZ2VuZXJhdGVkX2hlbHBlciA9IG5v
dCBoZXhfY29tbW9uLnNraXBfcWVtdV9oZWxwZXIoCiAgICAgICAgIHRhZwogICAgICkgYW5kIG5v
dCBoZXhfY29tbW9uLmlzX2lkZWZfcGFyc2VyX2VuYWJsZWQodGFnKQotICAgIGlmIGhhc19nZW5l
cmF0ZWRfaGVscGVyIGFuZCAiQV9TQ0FMQVJfTE9BRCIgaW4gaGV4X2NvbW1vbi5hdHRyaWJkaWN0
W3RhZ106Ci0gICAgICAgIGYud3JpdGUoIiAgICBjdHgtPm5lZWRfcGt0X2hhc19zdG9yZV9zMSA9
IHRydWU7XG4iKQogCiAgICAgIyMgTWFyayBIVlggaW5zdHJ1Y3Rpb25zIHdpdGggZ2VuZXJhdGVk
IGhlbHBlcnMKICAgICBpZiAoaGFzX2dlbmVyYXRlZF9oZWxwZXIgYW5kCmRpZmYgLS1naXQgYS90
YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX2Z1bmNzLnB5IGIvdGFyZ2V0L2hleGFnb24vZ2VuX2hl
bHBlcl9mdW5jcy5weQppbmRleCBlMjU5ZWEzZDAzLi4zOTc1MWE0ODNjIDEwMDc1NQotLS0gYS90
YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX2Z1bmNzLnB5CisrKyBiL3RhcmdldC9oZXhhZ29uL2dl
bl9oZWxwZXJfZnVuY3MucHkKQEAgLTMwMyw3ICszMDMsNyBAQCBkZWYgZ2VuX2hlbHBlcl9mdW5j
dGlvbihmLCB0YWcsIHRhZ3JlZ3MsIHRhZ2ltbXMpOgogICAgICAgICBpZiBoZXhfY29tbW9uLm5l
ZWRfc2xvdCh0YWcpOgogICAgICAgICAgICAgaWYgaSA+IDA6CiAgICAgICAgICAgICAgICAgZi53
cml0ZSgiLCAiKQotICAgICAgICAgICAgZi53cml0ZSgidWludDMyX3Qgc2xvdCIpCisgICAgICAg
ICAgICBmLndyaXRlKCJ1aW50MzJfdCBzbG90dmFsIikKICAgICAgICAgICAgIGkgKz0gMQogICAg
ICAgICBpZiBoZXhfY29tbW9uLm5lZWRfcGFydDEodGFnKToKICAgICAgICAgICAgIGlmIGkgPiAw
OgpAQCAtMzMxLDYgKzMzMSwxMSBAQCBkZWYgZ2VuX2hlbHBlcl9mdW5jdGlvbihmLCB0YWcsIHRh
Z3JlZ3MsIHRhZ2ltbXMpOgogICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAg
ICAgIHByaW50KCJCYWQgcmVnaXN0ZXIgcGFyc2U6ICIsIHJlZ3R5cGUsIHJlZ2lkLCB0b3NzLCBu
dW1yZWdzKQogCisgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9zbG90KHRhZyk6CisgICAgICAg
ICAgICBpZiAiQV9MT0FEIiBpbiBoZXhfY29tbW9uLmF0dHJpYmRpY3RbdGFnXToKKyAgICAgICAg
ICAgICAgICBmLndyaXRlKCIgICAgYm9vbCBwa3RfaGFzX3N0b3JlX3MxID0gc2xvdHZhbCAmIDB4
MTtcbiIpCisgICAgICAgICAgICBmLndyaXRlKCIgICAgdWludDMyX3Qgc2xvdCA9IHNsb3R2YWwg
Pj4gMTtcbiIpCisKICAgICAgICAgaWYgIkFfRlBPUCIgaW4gaGV4X2NvbW1vbi5hdHRyaWJkaWN0
W3RhZ106CiAgICAgICAgICAgICBmLndyaXRlKCIgICAgYXJjaF9mcG9wX3N0YXJ0KGVudik7XG4i
KQogCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5IGIvdGFyZ2V0
L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weQppbmRleCAwNDAzNTQ3Mzg3Li44ODdiMWNkMzY5IDEw
MDc1NQotLS0gYS90YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5CisrKyBiL3RhcmdldC9o
ZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkKQEAgLTU1Niw3ICs1NTYsNyBAQCBkZWYgZ2VuX3RjZ19m
dW5jKGYsIHRhZywgcmVncywgaW1tcyk6CiAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9wYXJ0
MSh0YWcpOgogICAgICAgICAgICAgZi53cml0ZSgiICAgIFRDR3YgcGFydDEgPSB0Y2dfY29uc3Rh
bnRfdGwoaW5zbi0+cGFydDEpO1xuIikKICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3Nsb3Qo
dGFnKToKLSAgICAgICAgICAgIGYud3JpdGUoIiAgICBUQ0d2IHNsb3QgPSB0Y2dfY29uc3RhbnRf
dGwoaW5zbi0+c2xvdCk7XG4iKQorICAgICAgICAgICAgZi53cml0ZSgiICAgIFRDR3Ygc2xvdHZh
bCA9IGdlbl9zbG90dmFsKGN0eCk7XG4iKQogICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfUEMo
dGFnKToKICAgICAgICAgICAgIGYud3JpdGUoIiAgICBUQ0d2IFBDID0gdGNnX2NvbnN0YW50X3Rs
KGN0eC0+cGt0LT5wYyk7XG4iKQogICAgICAgICBpZiBoZXhfY29tbW9uLmhlbHBlcl9uZWVkc19u
ZXh0X1BDKHRhZyk6CkBAIC02MDYsNyArNjA2LDcgQEAgZGVmIGdlbl90Y2dfZnVuYyhmLCB0YWcs
IHJlZ3MsIGltbXMpOgogICAgICAgICBpZiBoZXhfY29tbW9uLmhlbHBlcl9uZWVkc19uZXh0X1BD
KHRhZyk6CiAgICAgICAgICAgICBmLndyaXRlKCIsIG5leHRfUEMiKQogICAgICAgICBpZiBoZXhf
Y29tbW9uLm5lZWRfc2xvdCh0YWcpOgotICAgICAgICAgICAgZi53cml0ZSgiLCBzbG90IikKKyAg
ICAgICAgICAgIGYud3JpdGUoIiwgc2xvdHZhbCIpCiAgICAgICAgIGlmIGhleF9jb21tb24ubmVl
ZF9wYXJ0MSh0YWcpOgogICAgICAgICAgICAgZi53cml0ZSgiLCBwYXJ0MSIpCiAgICAgICAgIGYu
d3JpdGUoIik7XG4iKQpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vaGV4X2NvbW1vbi5weSBi
L3RhcmdldC9oZXhhZ29uL2hleF9jb21tb24ucHkKaW5kZXggMjljMDUwOGY2Ni4uMDExY2NlMWE2
OCAxMDA3NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24vaGV4X2NvbW1vbi5weQorKysgYi90YXJnZXQv
aGV4YWdvbi9oZXhfY29tbW9uLnB5CkBAIC0yNDcsOSArMjQ3LDEwIEBAIGRlZiBpc19uZXdfdmFs
KHJlZ3R5cGUsIHJlZ2lkLCB0YWcpOgogCiBkZWYgbmVlZF9zbG90KHRhZyk6CiAgICAgaWYgKAot
ICAgICAgICAoIkFfQ09OREVYRUMiIGluIGF0dHJpYmRpY3RbdGFnXSBhbmQgIkFfSlVNUCIgbm90
IGluIGF0dHJpYmRpY3RbdGFnXSkKLSAgICAgICAgb3IgIkFfU1RPUkUiIGluIGF0dHJpYmRpY3Rb
dGFnXQotICAgICAgICBvciAiQV9MT0FEIiBpbiBhdHRyaWJkaWN0W3RhZ10KKyAgICAgICAgIkFf
Q1ZJX1NDQVRURVIiIG5vdCBpbiBhdHRyaWJkaWN0W3RhZ10KKyAgICAgICAgYW5kICJBX0NWSV9H
QVRIRVIiIG5vdCBpbiBhdHRyaWJkaWN0W3RhZ10KKyAgICAgICAgYW5kICgiQV9TVE9SRSIgaW4g
YXR0cmliZGljdFt0YWddCisgICAgICAgICAgICAgb3IgIkFfTE9BRCIgaW4gYXR0cmliZGljdFt0
YWddKQogICAgICk6CiAgICAgICAgIHJldHVybiAxCiAgICAgZWxzZToKLS0gCjIuMjUuMQoK

