Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 526339DBFDB
	for <lists+qemu-devel@lfdr.de>; Fri, 29 Nov 2024 08:46:55 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1tGvfm-00083j-LU; Fri, 29 Nov 2024 02:44:18 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <clement.mathieu--drif@eviden.com>)
 id 1tGvfe-0007zT-7x
 for qemu-devel@nongnu.org; Fri, 29 Nov 2024 02:44:11 -0500
Received: from smarthost2.eviden.com ([80.78.11.83])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <clement.mathieu--drif@eviden.com>)
 id 1tGvfb-0002nM-0H
 for qemu-devel@nongnu.org; Fri, 29 Nov 2024 02:44:09 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=eviden.com; i=@eviden.com; q=dns/txt; s=mail;
 t=1732866247; x=1764402247;
 h=from:to:cc:subject:date:message-id:references:
 in-reply-to:content-id:content-transfer-encoding: mime-version;
 bh=lKFYdcossLRHzL2m6cO8jzSLlEUPo1FKRfk/C2cEJBY=;
 b=JCigumQ7ryzPAgOhNtxGccSP0NG4R5pI9u49yyB5l9VlsXClZf1Wkk3X
 34mXIkqvOyWyr1if9Ngr3mJHc/vwitmcNMo/YabpufKSgmFV2gjTHUrbx
 Gbntag19siczOOsHwdWIzQwIbWTQjRe3Nj2fH8aGC7E81jjB618EaMvoT
 ITZRr0Fx4YPMN8jVpWzMGOpPvrUQj8Dm+t5W3nTPr4VnvtkCjlRRzj/Vz
 FYPkoX6NvepJsm2v5Z25sjc+NDASLGHcsDASt6j4o4zBSaUbC+6hPIdCJ
 P/qb9XY7+v8YwvLz7AfdSFr+CYVPJYmjzi52a/n5zRKWbIYpp9f/2JxyL g==;
X-IronPort-AV: E=Sophos;i="6.12,194,1728943200"; d="scan'208";a="25670811"
X-MGA-submission: =?us-ascii?q?MDGo7LgHrwqw3jDPn6WpDqwxKaBmucBmi77fnm?=
 =?us-ascii?q?NbIxiLI5obCk6RsYBsPbqLlxt29aAeM33YFAlR6DqVFKuqzkOFJIdFsu?=
 =?us-ascii?q?KpOUbby8dIED2cBTghyAeM6RsgpP5ppek+N4wjcqwzf4eRdi1EZfXQpG?=
 =?us-ascii?q?HWOgUuJRLbQ1aok60N38cmAw=3D=3D?=
Received: from mail-norwayeastazlp17013077.outbound.protection.outlook.com
 (HELO OSPPR02CU001.outbound.protection.outlook.com) ([40.93.81.77])
 by smarthost2.eviden.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 29 Nov 2024 08:44:01 +0100
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=r4OAEbsHTQBwcuctCtA0HEY4P015KpHbwQYQMtMUU3a34g7TzcDaKLXHDU2oGBU9zffuWsx5ngRNRDWCJ2CV587k+ICZv2JWV4nTTvEmKvTakOKWTZG6V1N6pQ/wHB9oEz04z4OkWYGFYY+sU9j9TrWVCQkRnCctQCkqzpi1pw0NmzEOijZ1V4G6s59z1Yj6ZscNt8ZC5pGpaKp1SwpLNhiS7P05ILaweq6R8LghC+8Zgxzr5ttd/kuXYmyWhywFAiMU3M8baxjnBAeW85Lm1jdrC9/bOsz60/i+AKJp5hdyePnAutyd4eBVytKvWEdIQ49FbdGNY9YzhxJbhdxpKw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=lKFYdcossLRHzL2m6cO8jzSLlEUPo1FKRfk/C2cEJBY=;
 b=Wr+mKCsyhxUld+HBC6PCs84M9M9XxI68qWrM6oNzjxZ4BXaisSUL1efn612vxpPFyLat6wZSqYFfeodODXA54EftWNwZkmbzZFiE8rVXWvowuOMiylXTUrTHwVJAR60NeNSaK0GvdxTPgkhTd6tCnB5WphT7M5INP6lXgYA6HaqRMIujJNJRuHx9D/JkH4dGTTAOcQugVyE/xMBDGZfz/EDMvub2TDVbuyVpBVrLISZQywCTJhVGiOj+usg4qU9z0kAKnOnZ06iK6cLrY1ECVcxSKarIW6iJe47UsNjyU5ZNeivMK5pT9mNYGKpEEyu+8tE92iCT11D1ZIcvviN6SQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=eviden.com; dmarc=pass action=none header.from=eviden.com;
 dkim=pass header.d=eviden.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Eviden.com;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=lKFYdcossLRHzL2m6cO8jzSLlEUPo1FKRfk/C2cEJBY=;
 b=IXZMD6gZ+vjtaS5HVrXC6rP9eesmWBjyCq241zSs85GPkh/4NHnVSx/3EuvzJgcMUkH45o1v48IUl+cAj2VLLI5nMQaGbPOlA9/wNaM5YRKaQzQz0n9lZybgbjUjufxAIohJSayvW/Q+CVt4cGl4nOZ1kbBOCudyHlKaOwr0oRDnn9EhlFR0lRWs6ttIG6fkb4b+/ojQyzcBWrHOvfsdAK4YbcgmH4a0y8N98G2zaF7BWFGOIbASjjPFSJLpZDltaWwOJOEwcSVzogy7OdalqROrGGp+tagREFvzWYmmi3qAAXb8RUqA+uqYtFsDS9zQxZdXEi78HdWZw/kvSk4SIg==
Received: from AM8PR07MB7602.eurprd07.prod.outlook.com (2603:10a6:20b:24b::7)
 by VI1PR07MB6414.eurprd07.prod.outlook.com (2603:10a6:800:139::24)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.8207.15; Fri, 29 Nov
 2024 07:43:59 +0000
Received: from AM8PR07MB7602.eurprd07.prod.outlook.com
 ([fe80::fbd7:ca71:b636:6f9d]) by AM8PR07MB7602.eurprd07.prod.outlook.com
 ([fe80::fbd7:ca71:b636:6f9d%5]) with mapi id 15.20.8207.014; Fri, 29 Nov 2024
 07:43:59 +0000
From: CLEMENT MATHIEU--DRIF <clement.mathieu--drif@eviden.com>
To: "qemu-devel@nongnu.org" <qemu-devel@nongnu.org>
CC: "jasowang@redhat.com" <jasowang@redhat.com>, "zhenzhong.duan@intel.com"
 <zhenzhong.duan@intel.com>, "kevin.tian@intel.com" <kevin.tian@intel.com>,
 "yi.l.liu@intel.com" <yi.l.liu@intel.com>, "joao.m.martins@oracle.com"
 <joao.m.martins@oracle.com>, "peterx@redhat.com" <peterx@redhat.com>,
 "mst@redhat.com" <mst@redhat.com>, "tjeznach@rivosinc.com"
 <tjeznach@rivosinc.com>, "minwoo.im@samsung.com" <minwoo.im@samsung.com>,
 CLEMENT MATHIEU--DRIF <clement.mathieu--drif@eviden.com>
Subject: [PATCH v1 13/19] atc: Generic ATC that can be used by PCIe devices
 that support SVM
Thread-Topic: [PATCH v1 13/19] atc: Generic ATC that can be used by PCIe
 devices that support SVM
Thread-Index: AQHbQjJzOocc57+pXUCiOlRFpHu04w==
Date: Fri, 29 Nov 2024 07:43:58 +0000
Message-ID: <20241129074332.87535-14-clement.mathieu--drif@eviden.com>
References: <20241129074332.87535-1-clement.mathieu--drif@eviden.com>
In-Reply-To: <20241129074332.87535-1-clement.mathieu--drif@eviden.com>
Accept-Language: en-GB, fr-FR, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=eviden.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: AM8PR07MB7602:EE_|VI1PR07MB6414:EE_
x-ms-office365-filtering-correlation-id: 7a8d3666-3ab7-4b63-ddeb-08dd104995e1
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
 ARA:13230040|366016|376014|7416014|1800799024|38070700018; 
x-microsoft-antispam-message-info: =?utf-8?B?WmEvWkhGTVBIL3J2MVlzVWF0UFhkNFlQNlVrUkdIYmZZRllJUnNYL2RONkp3?=
 =?utf-8?B?M3ErZXVtaFRhck1QNkQ0SGRQR084Q2dLazEzYkVlc2h2YXFFR0YxQytnVGly?=
 =?utf-8?B?U01KL293OXVmbmwvc2lpeFF0Um1lekFlcXNmVzBjNTJObVJvNGo3aTNwK25C?=
 =?utf-8?B?UHg1YSt4S2hUNWIxQlFvQXAxSnJVY3gwS045akpHUXhOdXBiY0xtUThGTmJS?=
 =?utf-8?B?cVFvbjVmNmZxdEptQkpCOXdrbFM2VWFDcGVWcys3dVFpRW54bHFnOVFLcm9M?=
 =?utf-8?B?SXhmZGNVdmk1OGk2WlFaTzc4YTUxRGpJTUE2WUdUNGhpMjJRZFdUR1VkRVYw?=
 =?utf-8?B?SE5mUVgxQmVCQ2l4WEkvcjNjbjJoSVJLR0E0MDNNSkJGcmlwdDlpWVZycnly?=
 =?utf-8?B?SXBpU3gwM0dBejVpcVh5eHMwa29EQ0Q1K3ZSY1JSbUgwdWNpMW9OU1FRU3VY?=
 =?utf-8?B?NWpmLzNraFFuQndQaWdFL05Ba0QvTXgxTTA4Vm81R0NtdnRmTU8zZStqMmwy?=
 =?utf-8?B?ZUcxZVMrRWVqM3Fod1Y1STlJamR6TmNjWWt5YlFjaVA5TjBkaFZ2Zy8vclcv?=
 =?utf-8?B?UldUU3JMbGlRckNLNFBLckUzQkxkZkk5cHRrbTRFdTNtYklRektjSjNocU5O?=
 =?utf-8?B?VGdLR2xjZWgyRi9JcUVubGJkNFRFdGFYU0NTQTVPRlk1YmEvZENNTDZRTktT?=
 =?utf-8?B?cktrWG9vaXJTQUdEeFlleVB3RzBQeko5ZEpNWXhqbm1lMlRuRUhzeWRRdmNH?=
 =?utf-8?B?VlZLZWJyVjJDUGlYcy9KQUlIZ2ZFZzNSMC9vYTNtaWNTdFNwWWt4VjZBd1lB?=
 =?utf-8?B?WTM5Z3ZJZmlFNytCam1OY0pqRzdlQ1U4YmlUeFJXSk52RVBiNGdYSitwN3JN?=
 =?utf-8?B?b0Eyc1AwZ280MWVZenhkMU80TVdVYkU5Vlh4cWhBTE5kS1Z3YWh0M2ZQeURC?=
 =?utf-8?B?eG1nSmJMREdEYzVNMGN4K2xCMW5tdlFzVGYyRkJ3QTJWRXNNOCs1eXA2QlI5?=
 =?utf-8?B?aFFCTVVOV0tUVmF5bldySFpzSkdTelpQYnQ0c3lvdGl5WkxHNmhDTFQxR0tv?=
 =?utf-8?B?VW0yYnArWk9XWXI4bzlVMlErNEl1eWpzRzlEbmJ5TVJyakNhQVBFL0tudFhZ?=
 =?utf-8?B?Y1ZqSmV2c2FHVElEbWpQNHl3Mk8wQTlNSmdrWVoxeStxNlZGSk41OEdzUWRa?=
 =?utf-8?B?N2lUWmYraFdFQ1NuNCtVWUlEVDZzdDlaMFBnWmc2STJkU0ZRSG43OUx5ZUc0?=
 =?utf-8?B?cEF5UUVFVkFqdjBmUWVhWVl1ZmkrTGx6ZEhvLzB4MUYvZW94N24wTU5HeUYx?=
 =?utf-8?B?eXhIcXI2bHdwYk1Ib3Z6emM4L24xSkc5QmRXU3RzMFg3czdmbUhSOVdoMExF?=
 =?utf-8?B?Y2FFR3hVNjIxcVJ3dm03MFVnRS9INSs1aTRmSk1SWTZWSWdOZ2NWQUFHb3ZS?=
 =?utf-8?B?bkRvYVB2UVB3QXhXVm1BQkxTb0NIT0xqdHJHZjhlalVUVW9wdjIvaFFldlZ6?=
 =?utf-8?B?RXNpMzhHTGJ1c1RGQ29wMFVMYlNobkVYYzUydW9SRVQ2U3lDOWU4T0h4T21X?=
 =?utf-8?B?Z2dkanVMYWZCL1NGU0F1aWRvdWtzQmpxS2VMcDJPYVpHeHhDL3dSemxGMCs2?=
 =?utf-8?B?eW9GYVlMeS9lSm9VNjZIWnBvRUtGNUU5dzNydDR1am4yL2xjV3BDRHdDYWF5?=
 =?utf-8?B?dmJ3TGVQbmk4MlNSQk5aa3VEaUZPMlpTTzBVTmU3RldyVFN0M0swTnljQzNj?=
 =?utf-8?B?SGd5amRMMWZqRnhYNHJ5ZUtzS2lNWWVBWCtNTWZ0VTdFaGFaZ0p6aCtYc2Jk?=
 =?utf-8?B?SzBlTmQ3NWd3UlNnOFF3SW1McUJyY2taMFB2RXdkYmJvTHNNWm01QlhNWldt?=
 =?utf-8?B?SGpkZm02aUx5d2EveEsra3ZFSEtEMmdDL1pKbjVUTDROSkE9PQ==?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:AM8PR07MB7602.eurprd07.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(366016)(376014)(7416014)(1800799024)(38070700018); DIR:OUT;
 SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?Y3lJY2dtbUc0V1NPRGV5NVA3dlRaMzZiMFJ1enNIT3U5UDVzWFRuYTczeG04?=
 =?utf-8?B?L2IvMXd1TTlpd3RRcnduOUYzTDZuUlVWRTFuRnM4ODF5SlRkNmZ5QTljS2dW?=
 =?utf-8?B?eDBBV0lyMFNvVkwzWFQwWjYwRkR5VmFWTEl3UU9hL1V3ckh4QTV1WDByODZF?=
 =?utf-8?B?VHVxQmcxY2xxZW5IWUFpUFhtQzJQVFA3Zi8zckpmKzhQTlMyRi9UZnh0NUc4?=
 =?utf-8?B?NmxYbG0vNTFNTFVsSWRxYTlualJWZnJjM0NyRHBNY0NReWRrYWdPbTBsRU1a?=
 =?utf-8?B?QURpNFlmRVJhb3RtQ3J3bXRxSVVUVEE1OEI5UGFpL3VYZzYrTDcxSDVUMGtS?=
 =?utf-8?B?R00rUnhDK1Y0SUgvODBmbitWbHR3bTZnTDZZNmY5T0Mzd1hUTzJUR2kvRGFo?=
 =?utf-8?B?QlhGRVFtSEV1V0FzYnU5ZEpKYUVhQ0VQVXYxZ3NzTWVubi9peGNSRFhZTWlp?=
 =?utf-8?B?TG54SUJYRzAzVHA0MDlNVkluK2VUMEtlc1N0Rk56elhGaVU5TWg1eW9Ud3VR?=
 =?utf-8?B?MmlHMW4zalVuaWFVY3R4eUtrZUVSaWtsWXU3SWZJSDBvN3ZZeHYxQnNLWG01?=
 =?utf-8?B?Umdta3o0UmlQbGxjb2ROczdTaW9OK1RIOVZOVXllc0pkQ3NuOWVwVnQreSt0?=
 =?utf-8?B?OHA1NlhwaENraGFRSVBSV0xFbTJ0QWUyVHBpL3UwY2ZSbkNKUjhpcGpLYjJQ?=
 =?utf-8?B?eFRPK3dOenN3bHJnYkpiRFZ3bXVRbXFIeTA2eWNoZzN2MzBEbXNpSUpnMGlF?=
 =?utf-8?B?MmQ5am1wUWc3S3dXNjA3Z0tzMXhlRmM0cnNiVCtqK2pGbkhVRWdPU2Y4d3dH?=
 =?utf-8?B?ZGMrdEU4dksrNDZIVFV5dFo0U0EzZFZ3cC8zVTdKTGVUWHVMTjg0VUp6enZE?=
 =?utf-8?B?MjhxSXlCVVQxcVg4Q2w5OWR4dUMwU3dQNWlCQkZCamtVWWo5eVhvaUZPNnVG?=
 =?utf-8?B?WTNFYVZSQkg3NHlSajVUd00rOFJBTDN4b202Yi9la1J2MDRPalBvdGZoWEgz?=
 =?utf-8?B?Y1gyWDNDYWl3bjZkZ2dZMjlrRkhmTXlBelFxbjNxWFJlbDVvR2xXTFJhdklU?=
 =?utf-8?B?WFJsRUN6TkhESmt3aE90UFdvMDhsYzZsY21OMzA3RWhMN3ZROS94M1B0NWNv?=
 =?utf-8?B?VWVJRC9VdGVWZ3VkNmF1S09UR0RTY2d4N24xZWJCNlVMaUdaK0VCeUNiYTU5?=
 =?utf-8?B?dzBCUGRRMUk5M0tyM2VtTmRsZFRlRGI1dXI5eFM1djdaSWpta1FIak5OYlpX?=
 =?utf-8?B?MjBlM1U2c0cxOGRXMTZXa1VBQVhvMTZzV2kraVE0UWxaODVKTldsYkV4MnA3?=
 =?utf-8?B?V3ZOWlJOSmlqRzJQcld3cFdobzg1K0RxYUgyWWlCYnlyN1RjaDdNQ1BoazJr?=
 =?utf-8?B?YkJkVFN0eDAzQVV5a0NacmZjVHJMeTZHL05kZTZwMGtkOEIxSGRXOTFYbit6?=
 =?utf-8?B?RVphSlNZMWFyTytPSkdHTHN2THFyZ3lnSy9ybWxPTHlnWDZ4UnJhdzZDMGFN?=
 =?utf-8?B?dEFPQnBvaEtUeU14RmZ3UHBiZEV3UldVbGJPVnh0aVJGNTRBSFhXbGwvRlMv?=
 =?utf-8?B?aTJyb1RiTm9Ja2FWMmNaMFhGRFZCeU1BTmNjY01QYWdsUlh0WFMxMkM1OUJm?=
 =?utf-8?B?QWxGR1pZcXpPWnptWGVOYlBZa0lGMWtaZk9DTFMwcjg2TktqaUR5ZDBLUnRt?=
 =?utf-8?B?aEdFQnh4aXJzOVFxY3BzUWY1bDJNclJnLytaUEhxcERLVWF3K1RzcldHcXNv?=
 =?utf-8?B?MUZFRGhwdEFxbjN5bGZtYkhoa1RvUm1pZ0JVWG93YzZCajMveDY5aDNkaVhs?=
 =?utf-8?B?L05OUDNsTUFVdE1ULzdwUFN3M1dwVU1TSmxYNXd3b2xjb0NGcTF5KzlnWTk5?=
 =?utf-8?B?QnJ1NlZQWlhtcG9ZYllFVFRSU2ludC9zYlUyWktWa1Zjbm1UWktDQVdhS0pP?=
 =?utf-8?B?QU0zQjZpUzV2czlvdjRlK05lTTBMbEZSMk94SWNPdXUvWDJ4MUVKTkxGT242?=
 =?utf-8?B?V25EdHdWdWpycm53UHIzVmhxdmcvRjhlVk90WDV0QWVKcTRudHY1U1kyL1VW?=
 =?utf-8?B?QlNMOU1qNXUvZFZVUTh6bUdXcDQrNzFUOTRzaEJ6NGVWV2NFQXh3elZKRHow?=
 =?utf-8?B?VGp5ZGYzWHJCZTJIQ2pGN1hvSlNkZG9JNTNTZlMrMGd5ZUF6L3A4QlhsWmdu?=
 =?utf-8?Q?YpMSRK/XYZSTkCgEag1R1rk=3D?=
Content-Type: text/plain; charset="utf-8"
Content-ID: <F05FC94DB5BEFB4483304DF892EEBB0E@eurprd07.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: eviden.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: AM8PR07MB7602.eurprd07.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 7a8d3666-3ab7-4b63-ddeb-08dd104995e1
X-MS-Exchange-CrossTenant-originalarrivaltime: 29 Nov 2024 07:43:58.9325 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 7d1c7785-2d8a-437d-b842-1ed5d8fbe00a
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: DPPJyJUi2EnELMUvViUz5yJV+o0PSt93rPi/qUoIwbACMEELdNj3Ba7UgPibb/ZTzb5hZ4TkLF6VtCruIL7egWWgQxpTCq5i1FzH/K+EOTkbjkvviYDjl7a43UdDr09y
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VI1PR07MB6414
Received-SPF: pass client-ip=80.78.11.83;
 envelope-from=clement.mathieu--drif@eviden.com; helo=smarthost2.eviden.com
X-Spam_score_int: -20
X-Spam_score: -2.1
X-Spam_bar: --
X-Spam_report: (-2.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1,
 RCVD_IN_VALIDITY_RPBL_BLOCKED=0.001, RCVD_IN_VALIDITY_SAFE_BLOCKED=0.001,
 SPF_HELO_PASS=-0.001, SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

RnJvbTogQ2zDqW1lbnQgTWF0aGlldS0tRHJpZiA8Y2xlbWVudC5tYXRoaWV1LS1kcmlmQGV2aWRl
bi5jb20+DQoNCkFzIHRoZSBTVk0tY2FwYWJsZSBkZXZpY2VzIHdpbGwgbmVlZCB0byBjYWNoZSB0
cmFuc2xhdGlvbnMsIHdlIHByb3ZpZGUNCmFuIGZpcnN0IGltcGxlbWVudGF0aW9uLg0KDQpUaGlz
IGNhY2hlIHVzZXMgYSB0d28tbGV2ZWwgZGVzaWduIGJhc2VkIG9uIGhhc2ggdGFibGVzLg0KVGhl
IGZpcnN0IGxldmVsIGlzIGluZGV4ZWQgYnkgYSBQQVNJRCBhbmQgdGhlIHNlY29uZCBieSBhIHZp
cnR1YWwgYWRkcmVzc2UuDQoNClNpZ25lZC1vZmYtYnk6IENsw6ltZW50IE1hdGhpZXUtLURyaWYg
PGNsZW1lbnQubWF0aGlldS0tZHJpZkBldmlkZW4uY29tPg0KLS0tDQogdXRpbC9hdGMuYyAgICAg
ICB8IDIxMSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKw0K
IHV0aWwvYXRjLmggICAgICAgfCAxMTcgKysrKysrKysrKysrKysrKysrKysrKysrKysNCiB1dGls
L21lc29uLmJ1aWxkIHwgICAxICsNCiAzIGZpbGVzIGNoYW5nZWQsIDMyOSBpbnNlcnRpb25zKCsp
DQogY3JlYXRlIG1vZGUgMTAwNjQ0IHV0aWwvYXRjLmMNCiBjcmVhdGUgbW9kZSAxMDA2NDQgdXRp
bC9hdGMuaA0KDQpkaWZmIC0tZ2l0IGEvdXRpbC9hdGMuYyBiL3V0aWwvYXRjLmMNCm5ldyBmaWxl
IG1vZGUgMTAwNjQ0DQppbmRleCAwMDAwMDAwMDAwLi41ODRjZTA0NWRiDQotLS0gL2Rldi9udWxs
DQorKysgYi91dGlsL2F0Yy5jDQpAQCAtMCwwICsxLDIxMSBAQA0KKy8qDQorICogUUVNVSBlbXVs
YXRpb24gb2YgYW4gQVRDDQorICoNCisgKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsg
eW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQ0KKyAqIGl0IHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5DQor
ICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyIHZlcnNpb24gMiBvZiB0aGUg
TGljZW5zZSwgb3INCisgKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLg0KKw0K
KyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwg
YmUgdXNlZnVsLA0KKyAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRo
ZSBpbXBsaWVkIHdhcnJhbnR5IG9mDQorICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9S
IEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQ0KKyAqIEdOVSBHZW5lcmFsIFB1YmxpYyBM
aWNlbnNlIGZvciBtb3JlIGRldGFpbHMuDQorDQorICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVk
IGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcNCisgKiB3aXRo
IHRoaXMgcHJvZ3JhbTsgaWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+
Lg0KKyAqLw0KKw0KKyNpbmNsdWRlICJ1dGlsL2F0Yy5oIg0KKw0KKw0KKyNkZWZpbmUgUEFHRV9U
QUJMRV9FTlRSWV9TSVpFIDgNCisNCisvKiBhIHBhc2lkIGlzIGhhc2hlZCB1c2luZyB0aGUgaWRl
bnRpdHkgZnVuY3Rpb24gKi8NCitzdGF0aWMgZ3VpbnQgYXRjX3Bhc2lkX2tleV9oYXNoKGdjb25z
dHBvaW50ZXIgdikNCit7DQorICAgIHJldHVybiAoZ3VpbnQpKHVpbnRwdHJfdCl2OyAvKiBwYXNp
ZCAqLw0KK30NCisNCisvKiBwYXNpZCBlcXVhbGl0eSAqLw0KK3N0YXRpYyBnYm9vbGVhbiBhdGNf
cGFzaWRfa2V5X2VxdWFsKGdjb25zdHBvaW50ZXIgdjEsIGdjb25zdHBvaW50ZXIgdjIpDQorew0K
KyAgICByZXR1cm4gdjEgPT0gdjI7DQorfQ0KKw0KKy8qIEhhc2ggZnVuY3Rpb24gZm9yIElPVExC
IGVudHJpZXMgKi8NCitzdGF0aWMgZ3VpbnQgYXRjX2FkZHJfa2V5X2hhc2goZ2NvbnN0cG9pbnRl
ciB2KQ0KK3sNCisgICAgaHdhZGRyIGFkZHIgPSAoaHdhZGRyKXY7DQorICAgIHJldHVybiAoZ3Vp
bnQpKChhZGRyID4+IDMyKSBeIChhZGRyICYgMHhmZmZmZmZmZlUpKTsNCit9DQorDQorLyogRXF1
YWxpdHkgdGVzdCBmb3IgSU9UTEIgZW50cmllcyAqLw0KK3N0YXRpYyBnYm9vbGVhbiBhdGNfYWRk
cl9rZXlfZXF1YWwoZ2NvbnN0cG9pbnRlciB2MSwgZ2NvbnN0cG9pbnRlciB2MikNCit7DQorICAg
IHJldHVybiAoaHdhZGRyKXYxID09IChod2FkZHIpdjI7DQorfQ0KKw0KK3N0YXRpYyB2b2lkIGF0
Y19hZGRyZXNzX3NwYWNlX2ZyZWUodm9pZCAqYXMpDQorew0KKyAgICBnX2hhc2hfdGFibGVfdW5y
ZWYoYXMpOw0KK30NCisNCisvKiByZXR1cm4gbG9nMih2YWwpLCBvciBVSU5UOF9NQVggaWYgdmFs
IGlzIG5vdCBhIHBvd2VyIG9mIDIgKi8NCitzdGF0aWMgdWludDhfdCBpbG9nMih1aW50NjRfdCB2
YWwpDQorew0KKyAgICB1aW50OF90IHJlc3VsdCA9IDA7DQorICAgIHdoaWxlICh2YWwgIT0gMSkg
ew0KKyAgICAgICAgaWYgKHZhbCAmIDEpIHsNCisgICAgICAgICAgICByZXR1cm4gVUlOVDhfTUFY
Ow0KKyAgICAgICAgfQ0KKw0KKyAgICAgICAgdmFsID4+PSAxOw0KKyAgICAgICAgcmVzdWx0ICs9
IDE7DQorICAgIH0NCisgICAgcmV0dXJuIHJlc3VsdDsNCit9DQorDQorQVRDICphdGNfbmV3KHVp
bnQ2NF90IHBhZ2Vfc2l6ZSwgdWludDhfdCBhZGRyZXNzX3dpZHRoKQ0KK3sNCisgICAgQVRDICph
dGM7DQorICAgIHVpbnQ4X3QgbG9nX3BhZ2Vfc2l6ZSA9IGlsb2cyKHBhZ2Vfc2l6ZSk7DQorICAg
IC8qIG51bWJlciBvZiBiaXRzIGVhY2ggdXNlZCB0byBzdG9yZSBhbGwgdGhlIGludGVybWVkaWF0
ZSBpbmRleGVzICovDQorICAgIHVpbnQ2NF90IGFkZHJfbG9va3VwX2luZGV4ZXNfc2l6ZTsNCisN
CisgICAgaWYgKGxvZ19wYWdlX3NpemUgPT0gVUlOVDhfTUFYKSB7DQorICAgICAgICByZXR1cm4g
TlVMTDsNCisgICAgfQ0KKyAgICAvKg0KKyAgICAgKiBXZSBvbmx5IHN1cHBvcnQgcGFnZSB0YWJs
ZSBlbnRyaWVzIG9mIDggKFBBR0VfVEFCTEVfRU5UUllfU0laRSkgYnl0ZXMNCisgICAgICogbG9n
MihwYWdlX3NpemUgLyA4KSA9IGxvZzIocGFnZV9zaXplKSAtIDMNCisgICAgICogaXMgdGhlIGxl
dmVsIG9mZnNldA0KKyAgICAgKi8NCisgICAgaWYgKGxvZ19wYWdlX3NpemUgPD0gMykgew0KKyAg
ICAgICAgcmV0dXJuIE5VTEw7DQorICAgIH0NCisNCisgICAgYXRjID0gZ19uZXcwKEFUQywgMSk7
DQorICAgIGF0Yy0+YWRkcmVzc19zcGFjZXMgPSBnX2hhc2hfdGFibGVfbmV3X2Z1bGwoYXRjX3Bh
c2lkX2tleV9oYXNoLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGF0Y19wYXNpZF9rZXlfZXF1YWwsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgTlVMTCwgYXRjX2FkZHJlc3Nfc3BhY2VfZnJlZSk7DQorICAg
IGF0Yy0+bGV2ZWxfb2Zmc2V0ID0gbG9nX3BhZ2Vfc2l6ZSAtIDM7DQorICAgIC8qIGF0IHRoaXMg
cG9pbnQsIHdlIGtub3cgdGhhdCBwYWdlX3NpemUgaXMgYSBwb3dlciBvZiAyICovDQorICAgIGF0
Yy0+bWluX2FkZHJfbWFzayA9IHBhZ2Vfc2l6ZSAtIDE7DQorICAgIGFkZHJfbG9va3VwX2luZGV4
ZXNfc2l6ZSA9IGFkZHJlc3Nfd2lkdGggLSBsb2dfcGFnZV9zaXplOw0KKyAgICBpZiAoKGFkZHJf
bG9va3VwX2luZGV4ZXNfc2l6ZSAlIGF0Yy0+bGV2ZWxfb2Zmc2V0KSAhPSAwKSB7DQorICAgICAg
ICBnb3RvIGVycm9yOw0KKyAgICB9DQorICAgIGF0Yy0+bGV2ZWxzID0gYWRkcl9sb29rdXBfaW5k
ZXhlc19zaXplIC8gYXRjLT5sZXZlbF9vZmZzZXQ7DQorICAgIGF0Yy0+cGFnZV9zaXplID0gcGFn
ZV9zaXplOw0KKyAgICByZXR1cm4gYXRjOw0KKw0KK2Vycm9yOg0KKyAgICBnX2ZyZWUoYXRjKTsN
CisgICAgcmV0dXJuIE5VTEw7DQorfQ0KKw0KK3N0YXRpYyBpbmxpbmUgR0hhc2hUYWJsZSAqYXRj
X2dldF9hZGRyZXNzX3NwYWNlX2NhY2hlKEFUQyAqYXRjLCB1aW50MzJfdCBwYXNpZCkNCit7DQor
ICAgIHJldHVybiBnX2hhc2hfdGFibGVfbG9va3VwKGF0Yy0+YWRkcmVzc19zcGFjZXMsDQorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnY29uc3Rwb2ludGVyKSh1aW50cHRyX3QpcGFz
aWQpOw0KK30NCisNCit2b2lkIGF0Y19jcmVhdGVfYWRkcmVzc19zcGFjZV9jYWNoZShBVEMgKmF0
YywgdWludDMyX3QgcGFzaWQpDQorew0KKyAgICBHSGFzaFRhYmxlICphc19jYWNoZTsNCisNCisg
ICAgYXNfY2FjaGUgPSBhdGNfZ2V0X2FkZHJlc3Nfc3BhY2VfY2FjaGUoYXRjLCBwYXNpZCk7DQor
ICAgIGlmICghYXNfY2FjaGUpIHsNCisgICAgICAgIGFzX2NhY2hlID0gZ19oYXNoX3RhYmxlX25l
d19mdWxsKGF0Y19hZGRyX2tleV9oYXNoLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgYXRjX2FkZHJfa2V5X2VxdWFsLA0KKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgTlVMTCwgZ19mcmVlKTsNCisgICAgICAgIGdfaGFzaF90YWJsZV9y
ZXBsYWNlKGF0Yy0+YWRkcmVzc19zcGFjZXMsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAoZ3BvaW50ZXIpKHVpbnRwdHJfdClwYXNpZCwgYXNfY2FjaGUpOw0KKyAgICB9DQorfQ0KKw0K
K3ZvaWQgYXRjX2RlbGV0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlKEFUQyAqYXRjLCB1aW50MzJfdCBw
YXNpZCkNCit7DQorICAgIGdfaGFzaF90YWJsZV9yZW1vdmUoYXRjLT5hZGRyZXNzX3NwYWNlcywg
KGdwb2ludGVyKSh1aW50cHRyX3QpcGFzaWQpOw0KK30NCisNCitpbnQgYXRjX3VwZGF0ZShBVEMg
KmF0YywgSU9NTVVUTEJFbnRyeSAqZW50cnkpDQorew0KKyAgICBJT01NVVRMQkVudHJ5ICp2YWx1
ZTsNCisgICAgR0hhc2hUYWJsZSAqYXNfY2FjaGUgPSBhdGNfZ2V0X2FkZHJlc3Nfc3BhY2VfY2Fj
aGUoYXRjLCBlbnRyeS0+cGFzaWQpOw0KKyAgICBpZiAoIWFzX2NhY2hlKSB7DQorICAgICAgICBy
ZXR1cm4gLUVOT0RFVjsNCisgICAgfQ0KKyAgICB2YWx1ZSA9IGdfbWVtZHVwMihlbnRyeSwgc2l6
ZW9mKCp2YWx1ZSkpOw0KKyAgICBnX2hhc2hfdGFibGVfcmVwbGFjZShhc19jYWNoZSwgKGdwb2lu
dGVyKShlbnRyeS0+aW92YSksIHZhbHVlKTsNCisgICAgcmV0dXJuIDA7DQorfQ0KKw0KK0lPTU1V
VExCRW50cnkgKmF0Y19sb29rdXAoQVRDICphdGMsIHVpbnQzMl90IHBhc2lkLCBod2FkZHIgYWRk
cikNCit7DQorICAgIElPTU1VVExCRW50cnkgKmVudHJ5Ow0KKyAgICBod2FkZHIgbWFzayA9IGF0
Yy0+bWluX2FkZHJfbWFzazsNCisgICAgaHdhZGRyIGtleSA9IGFkZHIgJiAofm1hc2spOw0KKyAg
ICBHSGFzaFRhYmxlICphc19jYWNoZSA9IGF0Y19nZXRfYWRkcmVzc19zcGFjZV9jYWNoZShhdGMs
IHBhc2lkKTsNCisNCisgICAgaWYgKCFhc19jYWNoZSkgew0KKyAgICAgICAgcmV0dXJuIE5VTEw7
DQorICAgIH0NCisNCisgICAgLyoNCisgICAgICogSXRlcmF0ZSBvdmVyIHRoZSBwb3NzaWJsZSBw
YWdlIHNpemVzIGFuZCB0cnkgdG8gZmluZCBhIGhpdA0KKyAgICAgKi8NCisgICAgZm9yICh1aW50
OF90IGxldmVsID0gMDsgbGV2ZWwgPCBhdGMtPmxldmVsczsgKytsZXZlbCkgew0KKyAgICAgICAg
ZW50cnkgPSBnX2hhc2hfdGFibGVfbG9va3VwKGFzX2NhY2hlLCAoZ2NvbnN0cG9pbnRlcilrZXkp
Ow0KKyAgICAgICAgaWYgKGVudHJ5ICYmIChtYXNrID09IGVudHJ5LT5hZGRyX21hc2spKSB7DQor
ICAgICAgICAgICAgcmV0dXJuIGVudHJ5Ow0KKyAgICAgICAgfQ0KKyAgICAgICAgbWFzayA9ICht
YXNrIDw8IGF0Yy0+bGV2ZWxfb2Zmc2V0KSB8ICgoMSA8PCBhdGMtPmxldmVsX29mZnNldCkgLSAx
KTsNCisgICAgICAgIGtleSA9IGFkZHIgJiAofm1hc2spOw0KKyAgICB9DQorDQorICAgIHJldHVy
biBOVUxMOw0KK30NCisNCitzdGF0aWMgZ2Jvb2xlYW4gYXRjX2ludmFsaWRhdGVfZW50cnlfcHJl
ZGljYXRlKGdwb2ludGVyIGtleSwgZ3BvaW50ZXIgdmFsdWUsDQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncG9pbnRlciB1c2VyX2RhdGEpDQorew0KKyAg
ICBJT01NVVRMQkVudHJ5ICplbnRyeSA9IChJT01NVVRMQkVudHJ5ICopdmFsdWU7DQorICAgIElP
TU1VVExCRW50cnkgKnRhcmdldCA9IChJT01NVVRMQkVudHJ5ICopdXNlcl9kYXRhOw0KKyAgICBo
d2FkZHIgdGFyZ2V0X21hc2sgPSB+dGFyZ2V0LT5hZGRyX21hc2s7DQorICAgIGh3YWRkciBlbnRy
eV9tYXNrID0gfmVudHJ5LT5hZGRyX21hc2s7DQorICAgIHJldHVybiAoKHRhcmdldC0+aW92YSAm
IHRhcmdldF9tYXNrKSA9PSAoZW50cnktPmlvdmEgJiB0YXJnZXRfbWFzaykpIHx8DQorICAgICAg
ICAgICAoKHRhcmdldC0+aW92YSAmIGVudHJ5X21hc2spID09IChlbnRyeS0+aW92YSAmIGVudHJ5
X21hc2spKTsNCit9DQorDQordm9pZCBhdGNfaW52YWxpZGF0ZShBVEMgKmF0YywgSU9NTVVUTEJF
bnRyeSAqZW50cnkpDQorew0KKyAgICBHSGFzaFRhYmxlICphc19jYWNoZSA9IGF0Y19nZXRfYWRk
cmVzc19zcGFjZV9jYWNoZShhdGMsIGVudHJ5LT5wYXNpZCk7DQorICAgIGlmICghYXNfY2FjaGUp
IHsNCisgICAgICAgIHJldHVybjsNCisgICAgfQ0KKyAgICBnX2hhc2hfdGFibGVfZm9yZWFjaF9y
ZW1vdmUoYXNfY2FjaGUsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdGNfaW52
YWxpZGF0ZV9lbnRyeV9wcmVkaWNhdGUsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBlbnRyeSk7DQorfQ0KKw0KK3ZvaWQgYXRjX2Rlc3Ryb3koQVRDICphdGMpDQorew0KKyAgICBn
X2hhc2hfdGFibGVfdW5yZWYoYXRjLT5hZGRyZXNzX3NwYWNlcyk7DQorfQ0KKw0KK3NpemVfdCBh
dGNfZ2V0X21heF9udW1iZXJfb2ZfcGFnZXMoQVRDICphdGMsIGh3YWRkciBhZGRyLCBzaXplX3Qg
bGVuZ3RoKQ0KK3sNCisgICAgaHdhZGRyIHBhZ2VfbWFzayA9IH4oYXRjLT5taW5fYWRkcl9tYXNr
KTsNCisgICAgc2l6ZV90IHJlc3VsdCA9IChsZW5ndGggLyBhdGMtPnBhZ2Vfc2l6ZSk7DQorICAg
IGlmICgoKChhZGRyICYgcGFnZV9tYXNrKSArIGxlbmd0aCAtIDEpICYgcGFnZV9tYXNrKSAhPQ0K
KyAgICAgICAgKChhZGRyICsgbGVuZ3RoIC0gMSkgJiBwYWdlX21hc2spKSB7DQorICAgICAgICBy
ZXN1bHQgKz0gMTsNCisgICAgfQ0KKyAgICByZXR1cm4gcmVzdWx0ICsgKGxlbmd0aCAlIGF0Yy0+
cGFnZV9zaXplICE9IDAgPyAxIDogMCk7DQorfQ0KKw0KK3ZvaWQgYXRjX3Jlc2V0KEFUQyAqYXRj
KQ0KK3sNCisgICAgZ19oYXNoX3RhYmxlX3JlbW92ZV9hbGwoYXRjLT5hZGRyZXNzX3NwYWNlcyk7
DQorfQ0KZGlmZiAtLWdpdCBhL3V0aWwvYXRjLmggYi91dGlsL2F0Yy5oDQpuZXcgZmlsZSBtb2Rl
IDEwMDY0NA0KaW5kZXggMDAwMDAwMDAwMC4uOGJlOTVmNWNjYQ0KLS0tIC9kZXYvbnVsbA0KKysr
IGIvdXRpbC9hdGMuaA0KQEAgLTAsMCArMSwxMTcgQEANCisvKg0KKyAqIFFFTVUgZW11bGF0aW9u
IG9mIGFuIEFUQw0KKyAqDQorICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBj
YW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkNCisgKiBpdCB1bmRlciB0aGUgdGVybXMg
b2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQ0KKyAqIHRo
ZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIgb2YgdGhlIExpY2Vu
c2UsIG9yDQorICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4NCisNCisgKiBU
aGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVz
ZWZ1bCwNCisgKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1w
bGllZCB3YXJyYW50eSBvZg0KKyAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBB
UlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUNCisgKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5z
ZSBmb3IgbW9yZSBkZXRhaWxzLg0KKw0KKyAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNv
cHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nDQorICogd2l0aCB0aGlz
IHByb2dyYW07IGlmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4NCisg
Ki8NCisNCisjaWZuZGVmIFVUSUxfQVRDX0gNCisjZGVmaW5lIFVUSUxfQVRDX0gNCisNCisjaW5j
bHVkZSAicWVtdS9vc2RlcC5oIg0KKyNpbmNsdWRlICJleGVjL21lbW9yeS5oIg0KKw0KK3R5cGVk
ZWYgc3RydWN0IEFUQyB7DQorICAgIEdIYXNoVGFibGUgKmFkZHJlc3Nfc3BhY2VzOyAvKiBLZXkg
OiBwYXNpZCwgdmFsdWUgOiBHSGFzaFRhYmxlICovDQorICAgIGh3YWRkciBtaW5fYWRkcl9tYXNr
Ow0KKyAgICB1aW50NjRfdCBwYWdlX3NpemU7DQorICAgIHVpbnQ4X3QgbGV2ZWxzOw0KKyAgICB1
aW50OF90IGxldmVsX29mZnNldDsNCit9IEFUQzsNCisNCisvKg0KKyAqIGF0Y19uZXc6IENyZWF0
ZSBhbiBBVEMuDQorICoNCisgKiBSZXR1cm4gYW4gQVRDIG9yIE5VTEwgaWYgdGhlIGNyZWF0aW9u
IGZhaWxlZA0KKyAqDQorICogQHBhZ2Vfc2l6ZTogI1BDSURldmljZSBkb2luZyB0aGUgbWVtb3J5
IGFjY2Vzcw0KKyAqIEBhZGRyZXNzX3dpZHRoOiB3aWR0aCBvZiB0aGUgdmlydHVhbCBhZGRyZXNz
ZXMgdXNlZCBieSB0aGUgSU9NTVUgKGluIGJpdHMpDQorICovDQorQVRDICphdGNfbmV3KHVpbnQ2
NF90IHBhZ2Vfc2l6ZSwgdWludDhfdCBhZGRyZXNzX3dpZHRoKTsNCisNCisvKg0KKyAqIGF0Y191
cGRhdGU6IEluc2VydCBvciB1cGRhdGUgYW4gZW50cnkgaW4gdGhlIGNhY2hlDQorICoNCisgKiBS
ZXR1cm4gMCBpZiB0aGUgb3BlcmF0aW9uIHN1Y2NlZWRzLCBhIG5lZ2F0aXZlIGVycm9yIGNvZGUg
b3RoZXJ3aXNlDQorICoNCisgKiBUaGUgaW5zZXJ0aW9uIHdpbGwgZmFpbCBpZiB0aGUgYWRkcmVz
cyBzcGFjZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBwYXNpZA0KKyAqIGhhcyBub3QgYmVlbiBjcmVh
dGVkIHdpdGggYXRjX2NyZWF0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlDQorICoNCisgKiBAYXRjOiB0
aGUgQVRDIHRvIHVwZGF0ZQ0KKyAqIEBlbnRyeTogdGhlIHRsYiBlbnRyeSB0byBpbnNlcnQgaW50
byB0aGUgY2FjaGUNCisgKi8NCitpbnQgYXRjX3VwZGF0ZShBVEMgKmF0YywgSU9NTVVUTEJFbnRy
eSAqZW50cnkpOw0KKw0KKy8qDQorICogYXRjX2NyZWF0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlOiBk
ZWxhcmUgYSBuZXcgYWRkcmVzcyBzcGFjZQ0KKyAqIGlkZW50aWZpZWQgYnkgYSBQQVNJRA0KKyAq
DQorICogQGF0YzogdGhlIEFUQyB0byB1cGRhdGUNCisgKiBAcGFzaWQ6IHRoZSBwYXNpZCBvZiB0
aGUgYWRkcmVzcyBzcGFjZSB0byBiZSBjcmVhdGVkDQorICovDQordm9pZCBhdGNfY3JlYXRlX2Fk
ZHJlc3Nfc3BhY2VfY2FjaGUoQVRDICphdGMsIHVpbnQzMl90IHBhc2lkKTsNCisNCisvKg0KKyAq
IGF0Y19kZWxldGVfYWRkcmVzc19zcGFjZV9jYWNoZTogZGVsZXRlIGFuIGFkZHJlc3Mgc3BhY2UN
CisgKiBpZGVudGlmaWVkIGJ5IGEgUEFTSUQNCisgKg0KKyAqIEBhdGM6IHRoZSBBVEMgdG8gdXBk
YXRlDQorICogQHBhc2lkOiB0aGUgcGFzaWQgb2YgdGhlIGFkZHJlc3Mgc3BhY2UgdG8gYmUgZGVs
ZXRlZA0KKyAqLw0KK3ZvaWQgYXRjX2RlbGV0ZV9hZGRyZXNzX3NwYWNlX2NhY2hlKEFUQyAqYXRj
LCB1aW50MzJfdCBwYXNpZCk7DQorDQorLyoNCisgKiBhdGNfbG9va3VwOiBxdWVyeSB0aGUgY2Fj
aGUgaW4gYSBnaXZlbiBhZGRyZXNzIHNwYWNlDQorICoNCisgKiBAYXRjOiB0aGUgQVRDIHRvIHF1
ZXJ5DQorICogQHBhc2lkOiB0aGUgcGFzaWQgb2YgdGhlIGFkZHJlc3Mgc3BhY2UgdG8gcXVlcnkN
CisgKiBAYWRkcjogdGhlIHZpcnR1YWwgYWRkcmVzcyB0byB0cmFuc2xhdGUNCisgKi8NCitJT01N
VVRMQkVudHJ5ICphdGNfbG9va3VwKEFUQyAqYXRjLCB1aW50MzJfdCBwYXNpZCwgaHdhZGRyIGFk
ZHIpOw0KKw0KKy8qDQorICogYXRjX2ludmFsaWRhdGU6IGludmFsaWRhdGUgYW4gZW50cnkgaW4g
dGhlIGNhY2hlDQorICoNCisgKiBAYXRjOiB0aGUgQVRDIHRvIHVwZGF0ZQ0KKyAqIEBlbnRyeTog
dGhlIGVudHJ5IHRvIGludmFsaWRhdGUNCisgKi8NCit2b2lkIGF0Y19pbnZhbGlkYXRlKEFUQyAq
YXRjLCBJT01NVVRMQkVudHJ5ICplbnRyeSk7DQorDQorLyoNCisgKiBhdGNfZGVzdHJveTogZGVs
ZXRlIGFuIEFUQw0KKyAqDQorICogQGF0YzogdGhlIGNhY2hlIHRvIGJlIGRlbGV0ZWQNCisgKi8N
Cit2b2lkIGF0Y19kZXN0cm95KEFUQyAqYXRjKTsNCisNCisvKg0KKyAqIGF0Y19nZXRfbWF4X251
bWJlcl9vZl9wYWdlczogZ2V0IHRoZSBudW1iZXIgb2YgcGFnZXMgYSBtZW1vcnkgb3BlcmF0aW9u
DQorICogd2lsbCBhY2Nlc3MgaWYgYWxsIHRoZSBwYWdlcyBjb25jZXJuZWQgaGF2ZSB0aGUgbWlu
aW11bSBzaXplLg0KKyAqDQorICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBkZXRlcm1p
bmUgdGhlIHNpemUgb2YgdGhlIHJlc3VsdCBhcnJheSB0byBiZQ0KKyAqIGFsbG9jYXRlZCB3aGVu
IGlzc3VpbmcgYW4gQVRTIHJlcXVlc3QuDQorICoNCisgKiBAYXRjOiB0aGUgY2FjaGUNCisgKiBA
YWRkcjogc3RhcnQgYWRkcmVzcw0KKyAqIEBsZW5ndGg6IG51bWJlciBvZiBieXRlcyBhY2Nlc3Nl
ZCBmcm9tIGFkZHINCisgKi8NCitzaXplX3QgYXRjX2dldF9tYXhfbnVtYmVyX29mX3BhZ2VzKEFU
QyAqYXRjLCBod2FkZHIgYWRkciwgc2l6ZV90IGxlbmd0aCk7DQorDQorLyoNCisgKiBhdGNfcmVz
ZXQ6IGludmFsaWRhdGVzIGFsbCB0aGUgZW50cmllcyBzdG9yZWQgaW4gdGhlIEFUQw0KKyAqDQor
ICogQGF0YzogdGhlIGNhY2hlDQorICovDQordm9pZCBhdGNfcmVzZXQoQVRDICphdGMpOw0KKw0K
KyNlbmRpZg0KZGlmZiAtLWdpdCBhL3V0aWwvbWVzb24uYnVpbGQgYi91dGlsL21lc29uLmJ1aWxk
DQppbmRleCA1ZDhiZWY5ODkxLi5mMmRlYzAxMzAwIDEwMDY0NA0KLS0tIGEvdXRpbC9tZXNvbi5i
dWlsZA0KKysrIGIvdXRpbC9tZXNvbi5idWlsZA0KQEAgLTkzLDYgKzkzLDcgQEAgaWYgaGF2ZV9i
bG9jaw0KICAgdXRpbF9zcy5hZGQoZmlsZXMoJ2hiaXRtYXAuYycpKQ0KICAgdXRpbF9zcy5hZGQo
ZmlsZXMoJ2hleGR1bXAuYycpKQ0KICAgdXRpbF9zcy5hZGQoZmlsZXMoJ2lvdmEtdHJlZS5jJykp
DQorICB1dGlsX3NzLmFkZChmaWxlcygnYXRjLmMnKSkNCiAgIHV0aWxfc3MuYWRkKGZpbGVzKCdp
b3YuYycpKQ0KICAgdXRpbF9zcy5hZGQoZmlsZXMoJ252ZGltbS11dGlscy5jJykpDQogICB1dGls
X3NzLmFkZChmaWxlcygnYmxvY2staGVscGVycy5jJykpDQotLSANCjIuNDcuMA0K

